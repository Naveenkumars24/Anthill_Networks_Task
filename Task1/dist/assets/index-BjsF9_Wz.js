var NA=Object.defineProperty;var OA=(r,e,t)=>e in r?NA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Am=(r,e,t)=>OA(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function xA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function MA(){if(Qv)return Ll;Qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=t,Ll.jsxs=t,Ll}var Yv;function VA(){return Yv||(Yv=1,Rm.exports=MA()),Rm.exports}var A=VA(),Cm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function PA(){if($v)return Re;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,F={};function P(V,ne,me){this.props=V,this.context=ne,this.refs=F,this.updater=me||I}P.prototype.isReactComponent={},P.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=P.prototype;function X(V,ne,me){this.props=V,this.context=ne,this.refs=F,this.updater=me||I}var Y=X.prototype=new K;Y.constructor=X,x(Y,P.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,re={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function M(V,ne,me,le,ue,Ce){return me=Ce.ref,{$$typeof:r,type:V,key:ne,ref:me!==void 0?me:null,props:Ce}}function C(V,ne){return M(V.type,ne,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return ne[me]})}var U=/\/+/g;function B(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):ne.toString(36)}function O(){}function Et(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ft(V,ne,me,le,ue){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=V._init,ft(Ae(V._payload),ne,me,le,ue)}}if(Ae)return ue=ue(V),Ae=le===""?"."+B(V,0):le,ie(ue)?(me="",Ae!=null&&(me=Ae.replace(U,"$&/")+"/"),ft(ue,ne,me,"",function(it){return it})):ue!=null&&(R(ue)&&(ue=C(ue,me+(ue.key==null||V&&V.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+Ae)),ne.push(ue)),1;Ae=0;var dt=le===""?".":le+":";if(ie(V))for(var je=0;je<V.length;je++)le=V[je],Ce=dt+B(le,je),Ae+=ft(le,ne,me,Ce,ue);else if(je=S(V),typeof je=="function")for(V=je.call(V),je=0;!(le=V.next()).done;)le=le.value,Ce=dt+B(le,je++),Ae+=ft(le,ne,me,Ce,ue);else if(Ce==="object"){if(typeof V.then=="function")return ft(Et(V),ne,me,le,ue);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ae(V,ne,me){if(V==null)return V;var le=[],ue=0;return ft(V,le,"","",function(Ce){return ne.call(me,Ce,ue++)}),le}function ve(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function He(){}return Re.Children={map:ae,forEach:function(V,ne,me){ae(V,function(){ne.apply(this,arguments)},me)},count:function(V){var ne=0;return ae(V,function(){ne++}),ne},toArray:function(V){return ae(V,function(ne){return ne})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=P,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ne,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=x({},V.props),ue=V.key,Ce=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(ue=""+ne.key),ne)!oe.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(le[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=me;else if(1<Ae){for(var dt=Array(Ae),je=0;je<Ae;je++)dt[je]=arguments[je+2];le.children=dt}return M(V.type,ue,void 0,void 0,Ce,le)},Re.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,ne,me){var le,ue={},Ce=null;if(ne!=null)for(le in ne.key!==void 0&&(Ce=""+ne.key),ne)oe.call(ne,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ne[le]);var Ae=arguments.length-2;if(Ae===1)ue.children=me;else if(1<Ae){for(var dt=Array(Ae),je=0;je<Ae;je++)dt[je]=arguments[je+2];ue.children=dt}if(V&&V.defaultProps)for(le in Ae=V.defaultProps,Ae)ue[le]===void 0&&(ue[le]=Ae[le]);return M(V,Ce,void 0,void 0,null,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=R,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ve}},Re.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Re.startTransition=function(V){var ne=re.T,me={};re.T=me;try{var le=V(),ue=re.S;ue!==null&&ue(me,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(He,ge)}catch(Ce){ge(Ce)}finally{re.T=ne}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(V){return re.H.use(V)},Re.useActionState=function(V,ne,me){return re.H.useActionState(V,ne,me)},Re.useCallback=function(V,ne){return re.H.useCallback(V,ne)},Re.useContext=function(V){return re.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ne){return re.H.useDeferredValue(V,ne)},Re.useEffect=function(V,ne){return re.H.useEffect(V,ne)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(V,ne,me){return re.H.useImperativeHandle(V,ne,me)},Re.useInsertionEffect=function(V,ne){return re.H.useInsertionEffect(V,ne)},Re.useLayoutEffect=function(V,ne){return re.H.useLayoutEffect(V,ne)},Re.useMemo=function(V,ne){return re.H.useMemo(V,ne)},Re.useOptimistic=function(V,ne){return re.H.useOptimistic(V,ne)},Re.useReducer=function(V,ne,me){return re.H.useReducer(V,ne,me)},Re.useRef=function(V){return re.H.useRef(V)},Re.useState=function(V){return re.H.useState(V)},Re.useSyncExternalStore=function(V,ne,me){return re.H.useSyncExternalStore(V,ne,me)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.0.0",Re}var Xv;function Wh(){return Xv||(Xv=1,Cm.exports=PA()),Cm.exports}var H=Wh();const ra=xA(H);var Im={exports:{}},jl={},Dm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function kA(){return Wv||(Wv=1,function(r){function e(ae,ve){var ge=ae.length;ae.push(ve);e:for(;0<ge;){var He=ge-1>>>1,V=ae[He];if(0<o(V,ve))ae[He]=ve,ae[ge]=V,ge=He;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ve=ae[0],ge=ae.pop();if(ge!==ve){ae[0]=ge;e:for(var He=0,V=ae.length,ne=V>>>1;He<ne;){var me=2*(He+1)-1,le=ae[me],ue=me+1,Ce=ae[ue];if(0>o(le,ge))ue<V&&0>o(Ce,le)?(ae[He]=Ce,ae[ue]=ge,He=ue):(ae[He]=le,ae[me]=ge,He=me);else if(ue<V&&0>o(Ce,ge))ae[He]=Ce,ae[ue]=ge,He=ue;else break e}}return ve}function o(ae,ve){var ge=ae.sortIndex-ve.sortIndex;return ge!==0?ge:ae.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,S=3,I=!1,x=!1,F=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Y(ae){for(var ve=t(g);ve!==null;){if(ve.callback===null)s(g);else if(ve.startTime<=ae)s(g),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=t(g)}}function ie(ae){if(F=!1,Y(ae),!x)if(t(p)!==null)x=!0,Et();else{var ve=t(g);ve!==null&&ft(ie,ve.startTime-ae)}}var re=!1,oe=-1,M=5,C=-1;function R(){return!(r.unstable_now()-C<M)}function N(){if(re){var ae=r.unstable_now();C=ae;var ve=!0;try{e:{x=!1,F&&(F=!1,K(oe),oe=-1),I=!0;var ge=S;try{t:{for(Y(ae),T=t(p);T!==null&&!(T.expirationTime>ae&&R());){var He=T.callback;if(typeof He=="function"){T.callback=null,S=T.priorityLevel;var V=He(T.expirationTime<=ae);if(ae=r.unstable_now(),typeof V=="function"){T.callback=V,Y(ae),ve=!0;break t}T===t(p)&&s(p),Y(ae)}else s(p);T=t(p)}if(T!==null)ve=!0;else{var ne=t(g);ne!==null&&ft(ie,ne.startTime-ae),ve=!1}}break e}finally{T=null,S=ge,I=!1}ve=void 0}}finally{ve?U():re=!1}}}var U;if(typeof X=="function")U=function(){X(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=N,U=function(){O.postMessage(null)}}else U=function(){P(N,0)};function Et(){re||(re=!0,U())}function ft(ae,ve){oe=P(function(){ae(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){x||I||(x=!0,Et())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var ve=3;break;default:ve=S}var ge=S;S=ve;try{return ae()}finally{S=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=S;S=ae;try{return ve()}finally{S=ge}},r.unstable_scheduleCallback=function(ae,ve,ge){var He=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ge+V,ae={id:E++,callback:ve,priorityLevel:ae,startTime:ge,expirationTime:V,sortIndex:-1},ge>He?(ae.sortIndex=ge,e(g,ae),t(p)===null&&ae===t(g)&&(F?(K(oe),oe=-1):F=!0,ft(ie,ge-He))):(ae.sortIndex=V,e(p,ae),x||I||(x=!0,Et())),ae},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(ae){var ve=S;return function(){var ge=S;S=ve;try{return ae.apply(this,arguments)}finally{S=ge}}}}(Nm)),Nm}var Zv;function UA(){return Zv||(Zv=1,Dm.exports=kA()),Dm.exports}var Om={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function LA(){if(Jv)return Yt;Jv=1;var r=Wh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var e0;function jA(){if(e0)return Om.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=LA(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function zA(){if(t0)return jl;t0=1;var r=UA(),e=Wh(),t=jA();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case I:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case x:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,U,B;function O(n){if(U===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+n+B}var Et=!1;function ft(n,i){if(!n||Et)return"";Et=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var G=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){G=$}n.call(te.prototype)}}else{try{throw Error()}catch($){G=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var D=v.split(`
`),L=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===L.length)for(l=D.length-1,f=L.length-1;1<=l&&0<=f&&D[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==L[f]){var W=`
`+D[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Et=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=ft(n.type,!1),n;case 11:return n=ft(n.type.render,!1),n;case 1:return n=ft(n.type,!0),n;default:return""}}function ve(n){try{var i="";do i+=ae(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function He(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function V(n){if(ge(n)!==n)throw Error(s(188))}function ne(n){var i=n.alternate;if(!i){if(i=ge(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return V(f),n;if(d===l)return V(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ae=[],dt=-1;function je(n){return{current:n}}function it(n){0>dt||(n.current=Ae[dt],Ae[dt]=null,dt--)}function Ke(n,i){dt++,Ae[dt]=n.current,n.current=i}var en=je(null),Rr=je(null),An=je(null),di=je(null);function mi(n,i){switch(Ke(An,i),Ke(Rr,n),Ke(en,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?wv(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=wv(n),i=bv(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(en),Ke(en,i)}function Cr(){it(en),it(Rr),it(An)}function Mo(n){n.memoizedState!==null&&Ke(di,n);var i=en.current,a=bv(i,n.type);i!==a&&(Ke(Rr,n),Ke(en,a))}function pa(n){Rr.current===n&&(it(en),it(Rr)),di.current===n&&(it(di),Ml._currentValue=Ce)}var ga=Object.prototype.hasOwnProperty,Ts=r.unstable_scheduleCallback,ya=r.unstable_cancelCallback,Cf=r.unstable_shouldYield,Vo=r.unstable_requestPaint,un=r.unstable_now,Vu=r.unstable_getCurrentPriorityLevel,Tt=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,Ir=r.unstable_NormalPriority,Pu=r.unstable_LowPriority,Po=r.unstable_IdlePriority,If=r.log,ws=r.unstable_setDisableYieldValue,pi=null,Kt=null;function ko(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pi,n,void 0,(n.current.flags&128)===128)}catch{}}function ir(n){if(typeof If=="function"&&ws(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(pi,n)}catch{}}var tn=Math.clz32?Math.clz32:Uu,Uo=Math.log,ku=Math.LN2;function Uu(n){return n>>>=0,n===0?32:31-(Uo(n)/ku|0)|0}var sr=128,gi=4194304;function Gn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rn(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,d=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?l=Gn(a):(d&=w,d!==0?l=Gn(d):n||(v=w&~v,v!==0&&(l=Gn(v))))):(w=a&~f,w!==0?l=Gn(w):d!==0?l=Gn(d):n||(v=a&~v,v!==0&&(l=Gn(v)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,v=i&-i,f>=v||f===32&&(v&4194176)!==0)?i:l}function yi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function _a(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var n=sr;return sr<<=1,(sr&4194176)===0&&(sr=128),n}function _i(){var n=gi;return gi<<=1,(gi&62914560)===0&&(gi=4194304),n}function va(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ut(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Lu(n,i,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,L=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-tn(a),te=1<<W;w[W]=0,D[W]=-1;var G=L[W];if(G!==null)for(L[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&vi(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~i))}function vi(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-tn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Ei(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-tn(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function ju(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zu(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:Bv(n.type))}function Ti(n,i){var a=ue.p;try{return ue.p=n,i()}finally{ue.p=a}}var ar=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ar,wt="__reactProps$"+ar,Dr="__reactContainer$"+ar,bs="__reactEvents$"+ar,Ea="__reactListeners$"+ar,or="__reactHandles$"+ar,jo="__reactResources$"+ar,wi="__reactMarker$"+ar;function Ss(n){delete n[Nt],delete n[wt],delete n[bs],delete n[Ea],delete n[or]}function Kn(n){var i=n[Nt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Dr]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Rv(n);n!==null;){if(a=n[Nt])return a;n=Rv(n)}return i}n=a,a=n.parentNode}return null}function Nr(n){if(n=n[Nt]||n[Dr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Si(n){var i=n[jo];return i||(i=n[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(n){n[wi]=!0}var zo=new Set,Ta={};function mn(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(Ta[n]=i,n=0;n<i.length;n++)zo.add(i[n])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Bu(n){return ga.call(qo,n)?!0:ga.call(Bo,n)?!1:Df.test(n)?qo[n]=!0:(Bo[n]=!0,!1)}function Ai(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ri(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nf(n){var i=qu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function As(n){n._valueTracker||(n._valueTracker=Nf(n))}function Ho(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=qu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function wa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Or=/[\n"\\]/g;function st(n){return n.replace(Or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ci(n,i,a,l,f,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),i!=null?v==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+nn(i)):n.value!==""+nn(i)&&(n.value=""+nn(i)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),i!=null?ba(n,v,nn(i)):a!=null?ba(n,v,nn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+nn(w):n.removeAttribute("name")}function Rs(n,i,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function ba(n,i,a){i==="number"&&wa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ze(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Cs(n,i,a){if(i!=null&&(i=""+nn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+nn(a):""}function Ii(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Of.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Hu(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Fo(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(n,d,i[d])}function Go(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(n){return Mf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Dn=null;function Sa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xr=null,Mr=null;function Vr(n){var i=Nr(n);if(i&&(n=i.stateNode)){var a=n[wt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ci(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[wt]||null;if(!f)throw Error(s(90));Ci(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ho(l)}break e;case"textarea":Cs(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(n,!!a.multiple,i,!1)}}}var Ko=!1;function Fu(n,i,a){if(Ko)return n(i,a);Ko=!0;try{var l=n(i);return l}finally{if(Ko=!1,(xr!==null||Mr!==null)&&(Pc(),xr&&(i=xr,n=Mr,Mr=xr=null,Vr(i),n)))for(i=0;i<n.length;i++)Vr(n[i])}}function Is(n,i){var a=n.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!1;if(pn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Nn=!1}var ur=null,Di=null,Pr=null;function Qo(){if(Pr)return Pr;var n,i=Di,a=i.length,l,f="value"in ur?ur.value:ur.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Pr=f.slice(n,1<l?1-l:void 0)}function cr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function hr(){return!0}function Yo(){return!1}function Ot(n){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hr:Yo,this.isPropagationStopped=Yo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Ot(Fe),Ns=N({},Fe,{view:0,detail:0}),Gu=Ot(Ns),Ra,Ca,fr,Os=N({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fr&&(fr&&n.type==="mousemove"?(Ra=n.screenX-fr.screenX,Ca=n.screenY-fr.screenY):Ca=Ra=0,fr=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),On=Ot(Os),Ku=N({},Os,{dataTransfer:0}),Vf=Ot(Ku),xs=N({},Ns,{relatedTarget:0}),Ia=Ot(xs),$o=N({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ot($o),Qu=N({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Na=Ot(Qu),Pf=N({},Fe,{data:0}),Xo=Ot(Pf),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$u[n])?!!i[n]:!1}function Vs(){return Wo}var Xu=N({},Ns,{key:function(n){if(n.key){var i=Ms[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=cr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(n){return n.type==="keypress"?cr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oa=Ot(Xu),Wu=N({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Ot(Wu),kr=N({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Zu=Ot(kr),Ju=N({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Ot(Ju),tc=N({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ot(tc),rn=N({},Fe,{newState:0,oldState:0}),nc=Ot(rn),rc=[9,13,27,32],dr=pn&&"CompositionEvent"in window,c=null;pn&&"documentMode"in document&&(c=document.documentMode);var y=pn&&"TextEvent"in window&&!c,_=pn&&(!dr||c&&8<c&&11>=c),b=" ",z=!1;function Q(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function bt(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return n=i.data,n===b&&z?null:n;default:return null}}function ke(n,i){if(Pe)return n==="compositionend"||!dr&&Q(n,i)?(n=Qo(),Pr=Di=ur=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!xt[n.type]:i==="textarea"}function Ur(n,i,a,l){xr?Mr?Mr.push(l):Mr=[l]:xr=l,i=zc(i,"onChange"),0<i.length&&(a=new Aa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Lt=null,mr=null;function Jo(n){yv(n,0)}function ic(n){var i=bi(n);if(Ho(i))return n}function Kg(n,i){if(n==="change")return i}var Qg=!1;if(pn){var kf;if(pn){var Uf="oninput"in document;if(!Uf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Uf=typeof Yg.oninput=="function"}kf=Uf}else kf=!1;Qg=kf&&(!document.documentMode||9<document.documentMode)}function $g(){Lt&&(Lt.detachEvent("onpropertychange",Xg),mr=Lt=null)}function Xg(n){if(n.propertyName==="value"&&ic(mr)){var i=[];Ur(i,mr,n,Sa(n)),Fu(Jo,i)}}function aS(n,i,a){n==="focusin"?($g(),Lt=i,mr=a,Lt.attachEvent("onpropertychange",Xg)):n==="focusout"&&$g()}function oS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(mr)}function lS(n,i){if(n==="click")return ic(i)}function uS(n,i){if(n==="input"||n==="change")return ic(i)}function cS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var gn=typeof Object.is=="function"?Object.is:cS;function el(n,i){if(gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ga.call(i,f)||!gn(n[f],i[f]))return!1}return!0}function Wg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zg(n,i){var a=Wg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function Jg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Jg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ey(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=wa(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=wa(n.document)}return i}function Lf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function hS(n,i){var a=ey(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Jg(i.ownerDocument.documentElement,i)){if(l!==null&&Lf(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=Zg(i,d);var v=Zg(i,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var fS=pn&&"documentMode"in document&&11>=document.documentMode,Ma=null,jf=null,tl=null,zf=!1;function ty(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zf||Ma==null||Ma!==wa(l)||(l=Ma,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=zc(jf,"onSelect"),0<l.length&&(i=new Aa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ma)))}function Ps(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Va={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Bf={},ny={};pn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ks(n){if(Bf[n])return Bf[n];if(!Va[n])return n;var i=Va[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ny)return Bf[n]=i[a];return n}var ry=ks("animationend"),iy=ks("animationiteration"),sy=ks("animationstart"),dS=ks("transitionrun"),mS=ks("transitionstart"),pS=ks("transitioncancel"),ay=ks("transitionend"),oy=new Map,ly="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(n,i){oy.set(n,i),mn(i,[n])}var xn=[],Pa=0,qf=0;function sc(){for(var n=Pa,i=qf=Pa=0;i<n;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var f=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&uy(a,f,d)}}function ac(n,i,a,l){xn[Pa++]=n,xn[Pa++]=i,xn[Pa++]=a,xn[Pa++]=l,qf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Hf(n,i,a,l){return ac(n,i,a,l),oc(n)}function Ni(n,i){return ac(n,null,null,i),oc(n)}function uy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;f&&i!==null&&n.tag===3&&(d=n.stateNode,f=31-tn(a),d=d.hiddenUpdates,n=d[f],n===null?d[f]=[i]:n.push(i),i.lane=a|536870912)}function oc(n){if(50<Rl)throw Rl=0,$d=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ka={},cy=new WeakMap;function Mn(n,i){if(typeof n=="object"&&n!==null){var a=cy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ve(i)},cy.set(n,i),i)}return{value:n,source:i,stack:ve(i)}}var Ua=[],La=0,lc=null,uc=0,Vn=[],Pn=0,Us=null,Lr=1,jr="";function Ls(n,i){Ua[La++]=uc,Ua[La++]=lc,lc=n,uc=i}function hy(n,i,a){Vn[Pn++]=Lr,Vn[Pn++]=jr,Vn[Pn++]=Us,Us=n;var l=Lr;n=jr;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Lr=1<<32-tn(i)+f|a<<f|l,jr=d+n}else Lr=1<<d|a<<f|l,jr=n}function Ff(n){n.return!==null&&(Ls(n,1),hy(n,1,0))}function Gf(n){for(;n===lc;)lc=Ua[--La],Ua[La]=null,uc=Ua[--La],Ua[La]=null;for(;n===Us;)Us=Vn[--Pn],Vn[Pn]=null,jr=Vn[--Pn],Vn[Pn]=null,Lr=Vn[--Pn],Vn[Pn]=null}var sn=null,jt=null,Be=!1,Yn=null,pr=!1,Kf=Error(s(519));function js(n){var i=Error(s(418,""));throw il(Mn(i,n)),Kf}function fy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Nt]=n,i[wt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Me(Il[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),As(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ii(i,l.value,l.defaultValue,l.children),As(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Tv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Bc),i=!0):i=!1,i||js(n)}function dy(n){for(sn=n.return;sn;)switch(sn.tag){case 3:case 27:pr=!0;return;case 5:case 13:pr=!1;return;default:sn=sn.return}}function nl(n){if(n!==sn)return!1;if(!Be)return dy(n),Be=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&jt&&js(n),dy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){jt=Xn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}jt=null}}else jt=sn?Xn(n.stateNode.nextSibling):null;return!0}function rl(){jt=sn=null,Be=!1}function il(n){Yn===null?Yn=[n]:Yn.push(n)}var sl=Error(s(460)),my=Error(s(474)),Qf={then:function(){}};function py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function gy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===sl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(cc,cc);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===sl?Error(s(483)):n}throw al=i,sl}}var al=null;function yy(){if(al===null)throw Error(s(459));var n=al;return al=null,n}var ja=null,ol=0;function hc(n){var i=ol;return ol+=1,ja===null&&(ja=[]),gy(ja,n,i)}function ll(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function fc(n,i){throw i.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function _y(n){var i=n._init;return i(n._payload)}function vy(n){function i(j,k){if(n){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=qi(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,n?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=33554434,k):q):(j.flags|=33554434,k)):(j.flags|=1048576,k)}function v(j){return n&&j.alternate===null&&(j.flags|=33554434),j}function w(j,k,q,Z){return k===null||k.tag!==6?(k=Bd(q,j.mode,Z),k.return=j,k):(k=f(k,q),k.return=j,k)}function D(j,k,q,Z){var fe=q.type;return fe===p?W(j,k,q.props.children,Z,q.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&_y(fe)===k.type)?(k=f(k,q.props),ll(k,q),k.return=j,k):(k=Nc(q.type,q.key,q.props,null,j.mode,Z),ll(k,q),k.return=j,k)}function L(j,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=qd(q,j.mode,Z),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function W(j,k,q,Z,fe){return k===null||k.tag!==7?(k=$s(q,j.mode,Z,fe),k.return=j,k):(k=f(k,q),k.return=j,k)}function te(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Bd(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return q=Nc(k.type,k.key,k.props,null,j.mode,q),ll(q,k),q.return=j,q;case m:return k=qd(k,j.mode,q),k.return=j,k;case X:var Z=k._init;return k=Z(k._payload),te(j,k,q)}if(le(k)||oe(k))return k=$s(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return te(j,hc(k),q);if(k.$$typeof===I)return te(j,Cc(j,k),q);fc(j,k)}return null}function G(j,k,q,Z){var fe=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:w(j,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===fe?D(j,k,q,Z):null;case m:return q.key===fe?L(j,k,q,Z):null;case X:return fe=q._init,q=fe(q._payload),G(j,k,q,Z)}if(le(q)||oe(q))return fe!==null?null:W(j,k,q,Z,null);if(typeof q.then=="function")return G(j,k,hc(q),Z);if(q.$$typeof===I)return G(j,k,Cc(j,q),Z);fc(j,q)}return null}function $(j,k,q,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,w(k,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return j=j.get(Z.key===null?q:Z.key)||null,D(k,j,Z,fe);case m:return j=j.get(Z.key===null?q:Z.key)||null,L(k,j,Z,fe);case X:var De=Z._init;return Z=De(Z._payload),$(j,k,q,Z,fe)}if(le(Z)||oe(Z))return j=j.get(q)||null,W(k,j,Z,fe,null);if(typeof Z.then=="function")return $(j,k,q,hc(Z),fe);if(Z.$$typeof===I)return $(j,k,q,Cc(k,Z),fe);fc(k,Z)}return null}function de(j,k,q,Z){for(var fe=null,De=null,pe=k,_e=k=0,Pt=null;pe!==null&&_e<q.length;_e++){pe.index>_e?(Pt=pe,pe=null):Pt=pe.sibling;var qe=G(j,pe,q[_e],Z);if(qe===null){pe===null&&(pe=Pt);break}n&&pe&&qe.alternate===null&&i(j,pe),k=d(qe,k,_e),De===null?fe=qe:De.sibling=qe,De=qe,pe=Pt}if(_e===q.length)return a(j,pe),Be&&Ls(j,_e),fe;if(pe===null){for(;_e<q.length;_e++)pe=te(j,q[_e],Z),pe!==null&&(k=d(pe,k,_e),De===null?fe=pe:De.sibling=pe,De=pe);return Be&&Ls(j,_e),fe}for(pe=l(pe);_e<q.length;_e++)Pt=$(pe,j,_e,q[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&pe.delete(Pt.key===null?_e:Pt.key),k=d(Pt,k,_e),De===null?fe=Pt:De.sibling=Pt,De=Pt);return n&&pe.forEach(function($i){return i(j,$i)}),Be&&Ls(j,_e),fe}function be(j,k,q,Z){if(q==null)throw Error(s(151));for(var fe=null,De=null,pe=k,_e=k=0,Pt=null,qe=q.next();pe!==null&&!qe.done;_e++,qe=q.next()){pe.index>_e?(Pt=pe,pe=null):Pt=pe.sibling;var $i=G(j,pe,qe.value,Z);if($i===null){pe===null&&(pe=Pt);break}n&&pe&&$i.alternate===null&&i(j,pe),k=d($i,k,_e),De===null?fe=$i:De.sibling=$i,De=$i,pe=Pt}if(qe.done)return a(j,pe),Be&&Ls(j,_e),fe;if(pe===null){for(;!qe.done;_e++,qe=q.next())qe=te(j,qe.value,Z),qe!==null&&(k=d(qe,k,_e),De===null?fe=qe:De.sibling=qe,De=qe);return Be&&Ls(j,_e),fe}for(pe=l(pe);!qe.done;_e++,qe=q.next())qe=$(pe,j,_e,qe.value,Z),qe!==null&&(n&&qe.alternate!==null&&pe.delete(qe.key===null?_e:qe.key),k=d(qe,k,_e),De===null?fe=qe:De.sibling=qe,De=qe);return n&&pe.forEach(function(DA){return i(j,DA)}),Be&&Ls(j,_e),fe}function lt(j,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var fe=q.key;k!==null;){if(k.key===fe){if(fe=q.type,fe===p){if(k.tag===7){a(j,k.sibling),Z=f(k,q.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&_y(fe)===k.type){a(j,k.sibling),Z=f(k,q.props),ll(Z,q),Z.return=j,j=Z;break e}a(j,k);break}else i(j,k);k=k.sibling}q.type===p?(Z=$s(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Nc(q.type,q.key,q.props,null,j.mode,Z),ll(Z,q),Z.return=j,j=Z)}return v(j);case m:e:{for(fe=q.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),Z=f(k,q.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else i(j,k);k=k.sibling}Z=qd(q,j.mode,Z),Z.return=j,j=Z}return v(j);case X:return fe=q._init,q=fe(q._payload),lt(j,k,q,Z)}if(le(q))return de(j,k,q,Z);if(oe(q)){if(fe=oe(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),be(j,k,q,Z)}if(typeof q.then=="function")return lt(j,k,hc(q),Z);if(q.$$typeof===I)return lt(j,k,Cc(j,q),Z);fc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,q),Z.return=j,j=Z):(a(j,k),Z=Bd(q,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,k)}return function(j,k,q,Z){try{ol=0;var fe=lt(j,k,q,Z);return ja=null,fe}catch(pe){if(pe===sl)throw pe;var De=jn(29,pe,null,j.mode);return De.lanes=Z,De.return=j,De}finally{}}}var zs=vy(!0),Ey=vy(!1),za=je(null),dc=je(0);function Ty(n,i){n=Xr,Ke(dc,n),Ke(za,i),Xr=n|i.baseLanes}function Yf(){Ke(dc,Xr),Ke(za,za.current)}function $f(){Xr=dc.current,it(za),it(dc)}var kn=je(null),gr=null;function Oi(n){var i=n.alternate;Ke(At,At.current&1),Ke(kn,n),gr===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(gr=n)}function wy(n){if(n.tag===22){if(Ke(At,At.current),Ke(kn,n),gr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(gr=n)}}else xi()}function xi(){Ke(At,At.current),Ke(kn,kn.current)}function zr(n){it(kn),gr===n&&(gr=null),it(At)}var At=je(0);function mc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},yS=r.unstable_scheduleCallback,_S=r.unstable_NormalPriority,Rt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new gS,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&yS(_S,function(){n.controller.abort()})}var cl=null,Wf=0,Ba=0,qa=null;function vS(n,i){if(cl===null){var a=cl=[];Wf=0,Ba=rm(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,i.then(by,by),i}function by(){if(--Wf===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var n=cl;cl=null,Ba=0,qa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ES(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Sy=R.S;R.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vS(n,i),Sy!==null&&Sy(n,i)};var Bs=je(null);function Zf(){var n=Bs.current;return n!==null?n:Xe.pooledCache}function pc(n,i){i===null?Ke(Bs,Bs.current):Ke(Bs,i.pool)}function Ay(){var n=Zf();return n===null?null:{parent:Rt._currentValue,pool:n}}var Mi=0,Ie=null,Qe=null,mt=null,gc=!1,Ha=!1,qs=!1,yc=0,hl=0,Fa=null,TS=0;function ct(){throw Error(s(321))}function Jf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!gn(n[a],i[a]))return!1;return!0}function ed(n,i,a,l,f,d){return Mi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?Hs:Vi,qs=!1,d=a(l,f),qs=!1,Ha&&(d=Cy(i,a,l,f)),Ry(n),d}function Ry(n){R.H=yr;var i=Qe!==null&&Qe.next!==null;if(Mi=0,mt=Qe=Ie=null,gc=!1,hl=0,Fa=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Rc(n)&&(Mt=!0))}function Cy(n,i,a,l){Ie=n;var f=0;do{if(Ha&&(Fa=null),hl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,mt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=Fs,d=i(a,l)}while(Ha);return d}function wS(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?fl(i):i,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function td(){var n=yc!==0;return yc=0,n}function nd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function rd(n){if(gc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gc=!1}Mi=0,mt=Qe=Ie=null,Ha=!1,hl=yc=0,Fa=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=n:mt=mt.next=n,mt}function pt(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var i=mt===null?Ie.memoizedState:mt.next;if(i!==null)mt=i,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ie.memoizedState=mt=n:mt=mt.next=n}return mt}var _c;_c=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fl(n){var i=hl;return hl+=1,Fa===null&&(Fa=[]),n=gy(Fa,n,i),i=Ie,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?Hs:Vi),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return fl(n);if(n.$$typeof===I)return Qt(n)}throw Error(s(438,String(n)))}function id(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ie;return i.index++,a}function Br(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=pt();return sd(i,Qe,n)}function sd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var w=v=null,D=null,L=i,W=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Ue&te)===te:(Mi&te)===te){var G=L.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===Ba&&(W=!0);else if((Mi&G)===G){L=L.next,G===Ba&&(W=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=te,v=d):D=D.next=te,Ie.lanes|=G,Hi|=G;te=L.action,qs&&a(d,te),d=L.hasEagerState?L.eagerState:a(d,te)}else G={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=G,v=d):D=D.next=G,Ie.lanes|=te,Hi|=te;L=L.next}while(L!==null&&L!==i);if(D===null?v=d:D.next=w,!gn(d,n.memoizedState)&&(Mt=!0,W&&(a=qa,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ad(n){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);gn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Iy(n,i,a){var l=Ie,f=pt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!gn((Qe||f).memoizedState,a);if(v&&(f.memoizedState=a,Mt=!0),f=f.queue,ud(Oy.bind(null,l,f,n),[n]),f.getSnapshot!==i||v||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Ny.bind(null,l,f,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Mi&60)!==0||Dy(l,i,a)}return a}function Dy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=_c(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ny(n,i,a,l){i.value=a,i.getSnapshot=l,xy(i)&&My(n)}function Oy(n,i,a){return a(function(){xy(i)&&My(n)})}function xy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!gn(n,a)}catch{return!0}}function My(n){var i=Ni(n,2);i!==null&&an(i,n,2)}function od(n){var i=hn();if(typeof n=="function"){var a=n;if(n=a(),qs){ir(!0);try{a()}finally{ir(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:n},i}function Vy(n,i,a,l){return n.baseState=a,sd(n,Qe,typeof l=="function"?l:Br)}function bS(n,i,a,l,f){if(bc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};R.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Py(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Py(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=R.T,v={};R.T=v;try{var w=a(f,l),D=R.S;D!==null&&D(v,w),ky(n,i,w)}catch(L){ld(n,i,L)}finally{R.T=d}}else try{d=a(f,l),ky(n,i,d)}catch(L){ld(n,i,L)}}function ky(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(n,i,l)},function(l){return ld(n,i,l)}):Uy(n,i,a)}function Uy(n,i,a){i.status="fulfilled",i.value=a,Ly(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Py(n,a)))}function ld(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ly(i),i=i.next;while(i!==l)}n.action=null}function Ly(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function jy(n,i){return i}function zy(n,i){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(Be){if(jt){t:{for(var f=jt,d=pr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){jt=Xn(f.nextSibling),l=f.data==="F!";break e}}js(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:i},a.queue=l,a=i_.bind(null,Ie,l),l.dispatch=a,l=od(!1),d=md.bind(null,Ie,!1,l.queue),l=hn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=bS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function By(n){var i=pt();return qy(i,Qe,n)}function qy(n,i,a){i=sd(n,i,jy)[0],n=Ec(Br)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?fl(i):i;var l=pt(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Ga(9,SS.bind(null,f,a),{destroy:void 0},null)),[i,d,n]}function SS(n,i){n.action=i}function Hy(n){var i=pt(),a=Qe;if(a!==null)return qy(i,a,n);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ga(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Ie.updateQueue,i===null&&(i=_c(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Fy(){return pt().memoizedState}function Tc(n,i,a,l){var f=hn();Ie.flags|=n,f.memoizedState=Ga(1|i,a,{destroy:void 0},l===void 0?null:l)}function wc(n,i,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&Jf(l,Qe.memoizedState.deps)?f.memoizedState=Ga(i,a,d,l):(Ie.flags|=n,f.memoizedState=Ga(1|i,a,d,l))}function Gy(n,i){Tc(8390656,8,n,i)}function ud(n,i){wc(2048,8,n,i)}function Ky(n,i){return wc(4,2,n,i)}function Qy(n,i){return wc(4,4,n,i)}function Yy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function $y(n,i,a){a=a!=null?a.concat([n]):null,wc(4,4,Yy.bind(null,i,n),a)}function cd(){}function Xy(n,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Wy(n,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=n(),qs){ir(!0);try{n()}finally{ir(!1)}}return a.memoizedState=[l,i],l}function hd(n,i,a){return a===void 0||(Mi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=J_(),Ie.lanes|=n,Hi|=n,a)}function Zy(n,i,a,l){return gn(a,i)?a:za.current!==null?(n=hd(n,a,l),gn(n,i)||(Mt=!0),n):(Mi&42)===0?(Mt=!0,n.memoizedState=a):(n=J_(),Ie.lanes|=n,Hi|=n,i)}function Jy(n,i,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=R.T,w={};R.T=w,md(n,!1,i,a);try{var D=f(),L=R.S;if(L!==null&&L(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=ES(D,l);dl(n,i,W,En(n))}else dl(n,i,l,En(n))}catch(te){dl(n,i,{then:function(){},status:"rejected",reason:te},En())}finally{ue.p=d,R.T=v}}function AS(){}function fd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=e_(n).queue;Jy(n,f,i,Ce,a===null?AS:function(){return t_(n),a(l)})}function e_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function t_(n){var i=e_(n).next.queue;dl(n,i,{},En())}function dd(){return Qt(Ml)}function n_(){return pt().memoizedState}function r_(){return pt().memoizedState}function RS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();n=Ui(a);var l=Li(i,n,a);l!==null&&(an(l,i,a),gl(l,i,a)),i={cache:Xf()},n.payload=i;return}i=i.return}}function CS(n,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(n)?s_(i,a):(a=Hf(n,i,a,l),a!==null&&(an(a,n,l),a_(a,i,l)))}function i_(n,i,a){var l=En();dl(n,i,a,l)}function dl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(n))s_(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,gn(w,v))return ac(n,i,f,0),Xe===null&&sc(),!1}catch{}finally{}if(a=Hf(n,i,f,l),a!==null)return an(a,n,l),a_(a,i,l),!0}return!1}function md(n,i,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(i)throw Error(s(479))}else i=Hf(n,a,l,2),i!==null&&an(i,n,2)}function bc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function s_(n,i){Ha=gc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function a_(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ei(n,a)}}var yr={readContext:Qt,use:vc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};yr.useCacheRefresh=ct,yr.useMemoCache=ct,yr.useHostTransitionStatus=ct,yr.useFormState=ct,yr.useActionState=ct,yr.useOptimistic=ct;var Hs={readContext:Qt,use:vc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:Gy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Tc(4194308,4,Yy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Tc(4194308,4,n,i)},useInsertionEffect:function(n,i){Tc(4,2,n,i)},useMemo:function(n,i){var a=hn();i=i===void 0?null:i;var l=n();if(qs){ir(!0);try{n()}finally{ir(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=hn();if(a!==void 0){var f=a(i);if(qs){ir(!0);try{a(i)}finally{ir(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=CS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=od(n);var i=n.queue,a=i_.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(n,i){var a=hn();return hd(a,n,i)},useTransition:function(){var n=od(!1);return n=Jy.bind(null,Ie,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,f=hn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));(Ue&60)!==0||Dy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Gy(Oy.bind(null,l,d,n),[n]),l.flags|=2048,Ga(9,Ny.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var n=hn(),i=Xe.identifierPrefix;if(Be){var a=jr,l=Lr;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=TS++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=RS.bind(null,Ie)}};Hs.useMemoCache=id,Hs.useHostTransitionStatus=dd,Hs.useFormState=zy,Hs.useActionState=zy,Hs.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Ie,!0,a),a.dispatch=i,[n,i]};var Vi={readContext:Qt,use:vc,useCallback:Xy,useContext:Qt,useEffect:ud,useImperativeHandle:$y,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Wy,useReducer:Ec,useRef:Fy,useState:function(){return Ec(Br)},useDebugValue:cd,useDeferredValue:function(n,i){var a=pt();return Zy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=Ec(Br)[0],i=pt().memoizedState;return[typeof n=="boolean"?n:fl(n),i]},useSyncExternalStore:Iy,useId:n_};Vi.useCacheRefresh=r_,Vi.useMemoCache=id,Vi.useHostTransitionStatus=dd,Vi.useFormState=By,Vi.useActionState=By,Vi.useOptimistic=function(n,i){var a=pt();return Vy(a,Qe,n,i)};var Fs={readContext:Qt,use:vc,useCallback:Xy,useContext:Qt,useEffect:ud,useImperativeHandle:$y,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Wy,useReducer:ad,useRef:Fy,useState:function(){return ad(Br)},useDebugValue:cd,useDeferredValue:function(n,i){var a=pt();return Qe===null?hd(a,n,i):Zy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=ad(Br)[0],i=pt().memoizedState;return[typeof n=="boolean"?n:fl(n),i]},useSyncExternalStore:Iy,useId:n_};Fs.useCacheRefresh=r_,Fs.useMemoCache=id,Fs.useHostTransitionStatus=dd,Fs.useFormState=Hy,Fs.useActionState=Hy,Fs.useOptimistic=function(n,i){var a=pt();return Qe!==null?Vy(a,Qe,n,i):(a.baseState=n,[n,a.queue.dispatch])};function pd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gd={isMounted:function(n){return(n=n._reactInternals)?ge(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=En(),f=Ui(l);f.payload=i,a!=null&&(f.callback=a),i=Li(n,f,l),i!==null&&(an(i,n,l),gl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=En(),f=Ui(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Li(n,f,l),i!==null&&(an(i,n,l),gl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=En(),l=Ui(a);l.tag=2,i!=null&&(l.callback=i),i=Li(n,l,a),i!==null&&(an(i,n,a),gl(i,n,a))}};function o_(n,i,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function l_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&gd.enqueueReplaceState(i,i.state,null)}function Gs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=N({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function u_(n){Sc(n)}function c_(n){console.error(n)}function h_(n){Sc(n)}function Ac(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function f_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(n,i,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,i)},a}function d_(n){return n=Ui(n),n.tag=3,n}function m_(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){f_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){f_(i,a,l),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function IS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 13:return gr===null?Zd():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Qf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),em(n,l,f)),!1;case 22:return a.flags|=65536,l===Qf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),em(n,l,f)),!1}throw Error(s(435,a.tag))}return em(n,l,f),Zd(),!1}if(Be)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Kf&&(n=Error(s(422),{cause:l}),il(Mn(n,a)))):(l!==Kf&&(i=Error(s(423),{cause:l}),il(Mn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Mn(l,a),f=yd(n.stateNode,l,f),xd(n,f),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Sl===null?Sl=[d]:Sl.push(d),ot!==4&&(ot=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=yd(a.stateNode,l,n),xd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fi===null||!Fi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=d_(f),m_(f,n,a,l),xd(a,f),!1}a=a.return}while(a!==null);return!1}var p_=Error(s(461)),Mt=!1;function zt(n,i,a,l){i.child=n===null?Ey(i,null,a,l):zs(i,n.child,a,l)}function g_(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Qs(i),l=ed(n,i,a,v,d,f),w=td(),n!==null&&!Mt?(nd(n,i,f),qr(n,i,f)):(Be&&w&&Ff(i),i.flags|=1,zt(n,i,l,f),i.child)}function y_(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!zd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,__(n,i,d,l,f)):(n=Nc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Rd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,l)&&n.ref===i.ref)return qr(n,i,f)}return i.flags|=1,n=qi(d,l),n.ref=i.ref,n.return=i,i.child=n}function __(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(el(d,l)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Rd(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,qr(n,i,f)}return _d(n,i,a,l,f)}function v_(n,i,a){var l=i.pendingProps,f=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(ml(n,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return E_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&pc(i,v!==null?v.cachePool:null),v!==null?Ty(i,v):Yf(),wy(i);else return i.lanes=i.childLanes=536870912,E_(n,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(pc(i,v.cachePool),Ty(i,v),xi(),i.memoizedState=null):(n!==null&&pc(i,null),Yf(),xi());return zt(n,i,f,a),i.child}function E_(n,i,a,l){var f=Zf();return f=f===null?null:{parent:Rt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&pc(i,null),Yf(),wy(i),n!==null&&pl(n,i,l,!0),null}function ml(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function _d(n,i,a,l,f){return Qs(i),a=ed(n,i,a,l,void 0,f),l=td(),n!==null&&!Mt?(nd(n,i,f),qr(n,i,f)):(Be&&l&&Ff(i),i.flags|=1,zt(n,i,a,f),i.child)}function T_(n,i,a,l,f,d){return Qs(i),i.updateQueue=null,a=Cy(i,l,a,f),Ry(n),l=td(),n!==null&&!Mt?(nd(n,i,d),qr(n,i,d)):(Be&&l&&Ff(i),i.flags|=1,zt(n,i,a,d),i.child)}function w_(n,i,a,l,f){if(Qs(i),i.stateNode===null){var d=ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):ka,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),_l(i,l,d,f),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var w=i.memoizedProps,D=Gs(a,w);d.props=D;var L=d.context,W=a.contextType;v=ka,typeof W=="object"&&W!==null&&(v=Qt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||L!==v)&&l_(i,d,l,v),ki=!1;var G=i.memoizedState;d.state=G,_l(i,l,d,f),yl(),L=i.memoizedState,w||G!==L||ki?(typeof te=="function"&&(pd(i,a,te,l),L=i.memoizedState),(D=ki||o_(i,a,D,l,G,L,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Od(n,i),v=i.memoizedProps,W=Gs(a,v),d.props=W,te=i.pendingProps,G=d.context,L=a.contextType,D=ka,typeof L=="object"&&L!==null&&(D=Qt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==D)&&l_(i,d,l,D),ki=!1,G=i.memoizedState,d.state=G,_l(i,l,d,f),yl();var $=i.memoizedState;v!==te||G!==$||ki||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof w=="function"&&(pd(i,a,w,l),$=i.memoizedState),(W=ki||o_(i,a,W,l,G,$,D)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,ml(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=zs(i,n.child,null,f),i.child=zs(i,null,a,f)):zt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=qr(n,i,f),n}function b_(n,i,a,l){return rl(),i.flags|=256,zt(n,i,a,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function Ed(n){return{baseLanes:n,cachePool:Ay()}}function Td(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=zn),n}function S_(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,n===null){if(Be){if(f?Oi(i):xi(),Be){var w=jt,D;if(D=w){e:{for(D=w,w=pr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Xn(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:Us!==null?{id:Lr,overflow:jr}:null,retryLane:536870912},D=jn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,sn=i,jt=null,D=!0):D=!1}D||js(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;zr(i)}return w=l.children,l=l.fallback,f?(xi(),f=i.mode,w=bd({mode:"hidden",children:w},f),l=$s(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=Ed(a),f.childLanes=Td(n,v,a),i.memoizedState=vd,l):(Oi(i),wd(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(d)i.flags&256?(Oi(i),i.flags&=-257,i=Sd(n,i,a)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),f=l.fallback,w=i.mode,l=bd({mode:"visible",children:l.children},w),f=$s(f,w,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,zs(i,n.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=Td(n,v,a),i.memoizedState=vd,i=f);else if(Oi(i),w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),i=Sd(n,i,a)}else if(Mt||pl(n,i,a,!1),v=(a&n.childLanes)!==0,Mt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ni(n,l),an(v,n,l),p_}w.data==="$?"||Zd(),i=Sd(n,i,a)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=HS.bind(null,n),w._reactRetry=i,i=null):(n=D.treeContext,jt=Xn(w.nextSibling),sn=i,Be=!0,Yn=null,pr=!1,n!==null&&(Vn[Pn++]=Lr,Vn[Pn++]=jr,Vn[Pn++]=Us,Lr=n.id,jr=n.overflow,Us=i),i=wd(i,l.children),i.flags|=4096);return i}return f?(xi(),f=l.fallback,w=i.mode,D=n.child,L=D.sibling,l=qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,L!==null?f=qi(L,f):(f=$s(f,w,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=Ed(a):(D=w.cachePool,D!==null?(L=Rt._currentValue,D=D.parent!==L?{parent:L,pool:L}:D):D=Ay(),w={baseLanes:w.baseLanes|a,cachePool:D}),f.memoizedState=w,f.childLanes=Td(n,v,a),i.memoizedState=vd,l):(Oi(i),a=n.child,n=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(v=i.deletions,v===null?(i.deletions=[n],i.flags|=16):v.push(n)),i.child=a,i.memoizedState=null,a)}function wd(n,i){return i=bd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function bd(n,i){return X_(n,i,0,null)}function Sd(n,i,a){return zs(i,n.child,null,a),n=wd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function A_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Id(n.return,i,a)}function Ad(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function R_(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(zt(n,i,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&A_(n,a,i);else if(n.tag===19)A_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(At,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ad(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&mc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ad(i,!0,a,null,d);break;case"together":Ad(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Hi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(pl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=qi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=qi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function DS(n,i,a){switch(i.tag){case 3:mi(i,i.stateNode.containerInfo),Pi(i,Rt,n.memoizedState.cache),rl();break;case 27:case 5:Mo(i);break;case 4:mi(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?S_(n,i,a):(Oi(i),n=qr(n,i,a),n!==null?n.sibling:null);Oi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return R_(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(At,At.current),l)break;return null;case 22:case 23:return i.lanes=0,v_(n,i,a);case 24:Pi(i,Rt,n.memoizedState.cache)}return qr(n,i,a)}function C_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Rd(n,a)&&(i.flags&128)===0)return Mt=!1,DS(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Be&&(i.flags&1048576)!==0&&hy(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")zd(l)?(n=Gs(l,n),i.tag=1,i=w_(null,i,l,n,a)):(i.tag=0,i=_d(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===x){i.tag=11,i=g_(null,i,l,n,a);break e}else if(f===K){i.tag=14,i=y_(null,i,l,n,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return _d(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Gs(l,i.pendingProps),w_(n,i,l,f,a);case 3:e:{if(mi(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var d=i.pendingProps;f=i.memoizedState,l=f.element,Od(n,i),_l(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Pi(i,Rt,d),d!==f.cache&&Dd(i,[Rt],a,!0),yl(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=b_(n,i,d,a);break e}else if(d!==l){l=Mn(Error(s(424)),i),il(l),i=b_(n,i,d,a);break e}else for(jt=Xn(i.stateNode.containerInfo.firstChild),sn=i,Be=!0,Yn=null,pr=!0,a=Ey(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rl(),d===l){i=qr(n,i,a);break e}zt(n,i,d,a)}i=i.child}return i;case 26:return ml(n,i),n===null?(a=Nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,n=i.pendingProps,l=qc(An.current).createElement(a),l[Nt]=i,l[wt]=n,Bt(l,a,n),et(l),i.stateNode=l):i.memoizedState=Nv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Mo(i),n===null&&Be&&(l=i.stateNode=Cv(i.type,i.pendingProps,An.current),sn=i,pr=!0,jt=Xn(l.firstChild)),l=i.pendingProps.children,n!==null||Be?zt(n,i,l,a):i.child=zs(i,null,l,a),ml(n,i),i.child;case 5:return n===null&&Be&&((f=l=jt)&&(l=sA(l,i.type,i.pendingProps,pr),l!==null?(i.stateNode=l,sn=i,jt=Xn(l.firstChild),pr=!1,f=!0):f=!1),f||js(i)),Mo(i),f=i.type,d=i.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,fm(f,d)?l=null:v!==null&&fm(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=ed(n,i,wS,null,null,a),Ml._currentValue=f),ml(n,i),zt(n,i,l,a),i.child;case 6:return n===null&&Be&&((n=a=jt)&&(a=aA(a,i.pendingProps,pr),a!==null?(i.stateNode=a,sn=i,jt=null,n=!0):n=!1),n||js(i)),null;case 13:return S_(n,i,a);case 4:return mi(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=zs(i,null,l,a):zt(n,i,l,a),i.child;case 11:return g_(n,i,i.type,i.pendingProps,a);case 7:return zt(n,i,i.pendingProps,a),i.child;case 8:return zt(n,i,i.pendingProps.children,a),i.child;case 12:return zt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pi(i,i.type,l.value),zt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Qs(i),f=Qt(f),l=l(f),i.flags|=1,zt(n,i,l,a),i.child;case 14:return y_(n,i,i.type,i.pendingProps,a);case 15:return __(n,i,i.type,i.pendingProps,a);case 19:return R_(n,i,a);case 22:return v_(n,i,a);case 24:return Qs(i),l=Qt(Rt),n===null?(f=Zf(),f===null&&(f=Xe,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Nd(i),Pi(i,Rt,f)):((n.lanes&a)!==0&&(Od(n,i),_l(i,null,null,a),yl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pi(i,Rt,l)):(l=d.cache,Pi(i,Rt,l),l!==f.cache&&Dd(i,[Rt],a,!0))),zt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Cd=je(null),Ks=null,Hr=null;function Pi(n,i,a){Ke(Cd,i._currentValue),i._currentValue=a}function Fr(n){n._currentValue=Cd.current,it(Cd)}function Id(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Dd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Id(d.return,a,n),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Id(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function pl(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;gn(f.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(f===di.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&Dd(i,n,a,l),i.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qs(n){Ks=n,Hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return I_(Ks,n)}function Cc(n,i){return Ks===null&&Qs(n),I_(n,i)}function I_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hr===null){if(n===null)throw Error(s(308));Hr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Hr=Hr.next=i;return a}var ki=!1;function Nd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ui(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Li(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(n),uy(n,null,a),i}return ac(n,l,i,a),oc(n)}function gl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ei(n,a)}}function xd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Md=!1;function yl(){if(Md){var n=qa;if(n!==null)throw n}}function _l(n,i,a,l){Md=!1;var f=n.updateQueue;ki=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,L=D.next;D.next=null,v===null?d=L:v.next=L,v=D;var W=n.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==v&&(w===null?W.firstBaseUpdate=L:w.next=L,W.lastBaseUpdate=D))}if(d!==null){var te=f.baseState;v=0,W=L=D=null,w=d;do{var G=w.lane&-536870913,$=G!==w.lane;if($?(Ue&G)===G:(l&G)===G){G!==0&&G===Ba&&(Md=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=n,be=w;G=i;var lt=a;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){te=de.call(lt,te,G);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,G=typeof de=="function"?de.call(lt,te,G):de,G==null)break e;te=N({},te,G);break e;case 2:ki=!0}}G=w.callback,G!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[G]:$.push(G))}else $={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(L=W=$,D=te):W=W.next=$,v|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(D=te),f.baseState=D,f.firstBaseUpdate=L,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Hi|=v,n.lanes=v,n.memoizedState=te}}function D_(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function N_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)D_(a[n],i)}function vl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){$e(i,i.return,w)}}function ji(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=i;var D=a;try{w()}catch(L){$e(f,D,L)}}}l=l.next}while(l!==d)}}catch(L){$e(i,i.return,L)}}function O_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{N_(i,a)}catch(l){$e(n,n.return,l)}}}function x_(n,i,a){a.props=Gs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){$e(n,i,l)}}function Ys(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(d){$e(n,i,d)}}function yn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(n,i,f)}else a.current=null}function M_(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(n,n.return,f)}}function V_(n,i,a){try{var l=n.stateNode;eA(l,n.type,a,i),l[wt]=i}catch(f){$e(n,n.return,f)}}function P_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||P_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Pd(n,i,a),n=n.sibling;n!==null;)Pd(n,i,a),n=n.sibling}function Ic(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ic(n,i,a),n=n.sibling;n!==null;)Ic(n,i,a),n=n.sibling}var Gr=!1,at=!1,kd=!1,k_=typeof WeakSet=="function"?WeakSet:Set,Vt=null,U_=!1;function NS(n,i){if(n=n.containerInfo,cm=Yc,n=ey(n),Lf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,D=-1,L=0,W=0,te=n,G=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(w=v+f),te!==d||l!==0&&te.nodeType!==3||(D=v+l),te.nodeType===3&&(v+=te.nodeValue.length),($=te.firstChild)!==null;)G=te,te=$;for(;;){if(te===n)break t;if(G===a&&++L===f&&(w=v),G===d&&++W===l&&(D=v),($=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=$}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:n,selectionRange:a},Yc=!1,Vt=i;Vt!==null;)if(i=Vt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Vt=n;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Gs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){$e(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)pm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Vt=n;break}Vt=i.return}return de=U_,U_=!1,de}function L_(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(n,a),l&4&&vl(5,a);break;case 1:if(Qr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){$e(a,a.return,w)}else{var f=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){$e(a,a.return,w)}}l&64&&O_(a),l&512&&Ys(a,a.return);break;case 3:if(Qr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{N_(l,n)}catch(w){$e(a,a.return,w)}}break;case 26:Qr(n,a),l&512&&Ys(a,a.return);break;case 27:case 5:Qr(n,a),i===null&&l&4&&M_(a),l&512&&Ys(a,a.return);break;case 12:Qr(n,a);break;case 13:Qr(n,a),l&4&&B_(n,a);break;case 22:if(f=a.memoizedState!==null||Gr,!f){i=i!==null&&i.memoizedState!==null||at;var d=Gr,v=at;Gr=f,(at=i)&&!v?zi(n,a,(a.subtreeFlags&8772)!==0):Qr(n,a),Gr=d,at=v}l&512&&(a.memoizedProps.mode==="manual"?Ys(a,a.return):yn(a,a.return));break;default:Qr(n,a)}}function j_(n){var i=n.alternate;i!==null&&(n.alternate=null,j_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ss(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,_n=!1;function Kr(n,i,a){for(a=a.child;a!==null;)z_(n,i,a),a=a.sibling}function z_(n,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pi,a)}catch{}switch(a.tag){case 26:at||yn(a,i),Kr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||yn(a,i);var l=gt,f=_n;for(gt=a.stateNode,Kr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ss(a),gt=l,_n=f;break;case 5:at||yn(a,i);case 6:f=gt;var d=_n;if(gt=null,Kr(n,i,a),gt=f,_n=d,gt!==null)if(_n)try{n=gt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){$e(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){$e(a,i,v)}break;case 18:gt!==null&&(_n?(i=gt,a=a.stateNode,i.nodeType===8?mm(i.parentNode,a):i.nodeType===1&&mm(i,a),Ul(i)):mm(gt,a.stateNode));break;case 4:l=gt,f=_n,gt=a.stateNode.containerInfo,_n=!0,Kr(n,i,a),gt=l,_n=f;break;case 0:case 11:case 14:case 15:at||ji(2,a,i),at||ji(4,a,i),Kr(n,i,a);break;case 1:at||(yn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&x_(a,i,l)),Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:at||yn(a,i),at=(l=at)||a.memoizedState!==null,Kr(n,i,a),at=l;break;default:Kr(n,i,a)}}function B_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(a){$e(i,i.return,a)}}function OS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new k_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new k_),i;default:throw Error(s(435,n.tag))}}function Ud(n,i){var a=OS(n);i.forEach(function(l){var f=FS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Un(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:case 5:gt=w.stateNode,_n=!1;break e;case 3:gt=w.stateNode.containerInfo,_n=!0;break e;case 4:gt=w.stateNode.containerInfo,_n=!0;break e}w=w.return}if(gt===null)throw Error(s(160));z_(d,v,f),gt=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)q_(i,n),i=i.sibling}var $n=null;function q_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(i,n),Ln(n),l&4&&(ji(3,n,n.return),vl(3,n),ji(5,n,n.return));break;case 1:Un(i,n),Ln(n),l&512&&(at||a===null||yn(a,a.return)),l&64&&Gr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=$n;if(Un(i,n),Ln(n),l&512&&(at||a===null||yn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Bt(d,l,a),d[Nt]=n,et(d),l=d;break e;case"link":var v=Mv("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Mv("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,et(d),l=d}n.stateNode=l}else Vv(f,n.type,n.stateNode);else n.stateNode=xv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Vv(f,n.type,n.stateNode):xv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&V_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,d=n.memoizedProps;try{for(var D=f.firstChild;D;){var L=D.nextSibling,W=D.nodeName;D[wi]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=L}for(var te=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Bt(f,te,d),f[Nt]=n,f[wt]=d}catch(de){$e(n,n.return,de)}}case 5:if(Un(i,n),Ln(n),l&512&&(at||a===null||yn(a,a.return)),n.flags&32){f=n.stateNode;try{In(f,"")}catch(de){$e(n,n.return,de)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,V_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(kd=!0);break;case 6:if(Un(i,n),Ln(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(de){$e(n,n.return,de)}}break;case 3:if(Gc=null,f=$n,$n=Hc(i.containerInfo),Un(i,n),$n=f,Ln(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(de){$e(n,n.return,de)}kd&&(kd=!1,H_(n));break;case 4:l=$n,$n=Hc(n.stateNode.containerInfo),Un(i,n),Ln(n),$n=l;break;case 12:Un(i,n),Ln(n);break;case 13:Un(i,n),Ln(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=un()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ud(n,l)));break;case 22:if(l&512&&(at||a===null||yn(a,a.return)),D=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=Gr,te=at,Gr=W||D,at=te||L,Un(i,n),at=te,Gr=W,Ln(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Gr||at,a===null||L||i||Ka(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(f=L.stateNode,D)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,w=L.memoizedProps.style;var $=w!=null&&w.hasOwnProperty("display")?w.display:null;v.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(de){$e(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=D?"":L.memoizedProps}catch(de){$e(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ud(n,a))));break;case 19:Un(i,n),Ln(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ud(n,l)));break;case 21:break;default:Un(i,n),Ln(n)}}function Ln(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(P_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=Vd(n);Ic(n,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(In(v,""),l.flags&=-33);var w=Vd(n);Ic(n,w,v);break;case 3:case 4:var D=l.stateNode.containerInfo,L=Vd(n);Pd(n,L,D);break;default:throw Error(s(161))}}}catch(W){$e(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function H_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;H_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Qr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)L_(n,i.alternate,i),i=i.sibling}function Ka(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ji(4,i,i.return),Ka(i);break;case 1:yn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&x_(i,i.return,a),Ka(i);break;case 26:case 27:case 5:yn(i,i.return),Ka(i);break;case 22:yn(i,i.return),i.memoizedState===null&&Ka(i);break;default:Ka(i)}n=n.sibling}}function zi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:zi(f,d,a),vl(4,d);break;case 1:if(zi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){$e(l,l.return,L)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)D_(D[f],w)}catch(L){$e(l,l.return,L)}}a&&v&64&&O_(d),Ys(d,d.return);break;case 26:case 27:case 5:zi(f,d,a),a&&l===null&&v&4&&M_(d),Ys(d,d.return);break;case 12:zi(f,d,a);break;case 13:zi(f,d,a),a&&v&4&&B_(f,d);break;case 22:d.memoizedState===null&&zi(f,d,a),Ys(d,d.return);break;default:zi(f,d,a)}i=i.sibling}}function Ld(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ul(a))}function jd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n))}function Bi(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F_(n,i,a,l),i=i.sibling}function F_(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Bi(n,i,a,l),f&2048&&vl(9,i);break;case 3:Bi(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n)));break;case 12:if(f&2048){Bi(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){$e(i,i.return,D)}}else Bi(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Bi(n,i,a,l):El(n,i):d._visibility&4?Bi(n,i,a,l):(d._visibility|=4,Qa(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Ld(i.alternate,i);break;case 24:Bi(n,i,a,l),f&2048&&jd(i.alternate,i);break;default:Bi(n,i,a,l)}}function Qa(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,v=i,w=a,D=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,w,D,f),vl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Qa(d,v,w,D,f):El(d,v):(W._visibility|=4,Qa(d,v,w,D,f)),f&&L&2048&&Ld(v.alternate,v);break;case 24:Qa(d,v,w,D,f),f&&L&2048&&jd(v.alternate,v);break;default:Qa(d,v,w,D,f)}i=i.sibling}}function El(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:El(a,l),f&2048&&Ld(l.alternate,l);break;case 24:El(a,l),f&2048&&jd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ya(n){if(n.subtreeFlags&Tl)for(n=n.child;n!==null;)G_(n),n=n.sibling}function G_(n){switch(n.tag){case 26:Ya(n),n.flags&Tl&&n.memoizedState!==null&&vA($n,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var i=$n;$n=Hc(n.stateNode.containerInfo),Ya(n),$n=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Tl,Tl=16777216,Ya(n),Tl=i):Ya(n));break;default:Ya(n)}}function K_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function wl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Y_(l,n)}K_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Q_(n),n=n.sibling}function Q_(n){switch(n.tag){case 0:case 11:case 15:wl(n),n.flags&2048&&ji(9,n,n.return);break;case 3:wl(n);break;case 12:wl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Dc(n)):wl(n);break;default:wl(n)}}function Dc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Y_(l,n)}K_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ji(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Dc(i));break;default:Dc(i)}n=n.sibling}}function Y_(n,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:ji(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(j_(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}function xS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,l){return new xS(n,i,a,l)}function zd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qi(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $_(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Nc(n,i,a,l,f,d){var v=0;if(l=n,typeof n=="function")zd(n)&&(v=1);else if(typeof n=="string")v=yA(n,a,en.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return $s(a.children,f,d,i);case g:v=8,f|=24;break;case E:return n=jn(12,a,i,f|2),n.elementType=E,n.lanes=d,n;case F:return n=jn(13,a,i,f),n.elementType=F,n.lanes=d,n;case P:return n=jn(19,a,i,f),n.elementType=P,n.lanes=d,n;case Y:return X_(a,f,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case I:v=10;break e;case S:v=9;break e;case x:v=11;break e;case K:v=14;break e;case X:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=jn(v,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function $s(n,i,a,l){return n=jn(7,n,l,i),n.lanes=a,n}function X_(n,i,a,l){n=jn(22,n,l,i),n.elementType=Y,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Ni(d,2);v!==null&&(f._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Ni(d,2);v!==null&&(f._pendingVisibility&=-3,an(v,d,2))}}};return n.stateNode=f,n}function Bd(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function qd(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Yr(n){n.flags|=4}function W_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Pv(i)){if(i=kn.current,i!==null&&((Ue&4194176)===Ue?gr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==gr))throw al=Qf,my;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?_i():536870912,n.lanes|=i,Xa|=i)}function bl(n,i){if(!Be)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function MS(n,i,a){var l=i.pendingProps;switch(Gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fr(Rt),Cr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(nl(i)?Yr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Xd(Yn),Yn=null))),tt(i),null;case 26:return a=i.memoizedState,n===null?(Yr(i),a!==null?(tt(i),W_(i,a)):(tt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Yr(i),tt(i),W_(i,a)):(tt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Yr(i),tt(i),i.flags&=-16777217),null;case 27:pa(i),a=An.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}n=en.current,nl(i)?fy(i):(n=Cv(f,l,a),i.stateNode=n,Yr(i))}return tt(i),null;case 5:if(pa(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}if(n=en.current,nl(i))fy(i);else{switch(f=qc(An.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Nt]=i,n[wt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Bt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yr(i)}}return tt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=An.current,nl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Nt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Tv(n.nodeValue,a)),n||js(i)}else n=qc(n).createTextNode(l),n[Nt]=i,i.stateNode=n}return tt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=nl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Nt]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),f=!1}else Yn!==null&&(Xd(Yn),Yn=null),f=!0;if(!f)return i.flags&256?(zr(i),i):(zr(i),null)}if(zr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),tt(i),null;case 4:return Cr(),n===null&&om(i.stateNode.containerInfo),tt(i),null;case 10:return Fr(i.type),tt(i),null;case 19:if(it(At),f=i.memoizedState,f===null)return tt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)bl(f,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=mc(n),d!==null){for(i.flags|=128,bl(f,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)$_(a,n),a=a.sibling;return Ke(At,At.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>xc&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304)}else{if(!l)if(n=mc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return tt(i),null}else 2*un()-f.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=At.current,Ke(At,l?n&1|2:n&1),i):(tt(i),null);case 22:case 23:return zr(i),$f(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&it(Bs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fr(Rt),tt(i),null;case 25:return null}throw Error(s(156,i.tag))}function VS(n,i){switch(Gf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fr(Rt),Cr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 13:if(zr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return it(At),null;case 4:return Cr(),null;case 10:return Fr(i.type),null;case 22:case 23:return zr(i),$f(),n!==null&&it(Bs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fr(Rt),null;case 25:return null;default:return null}}function Z_(n,i){switch(Gf(i),i.tag){case 3:Fr(Rt),Cr();break;case 26:case 27:case 5:pa(i);break;case 4:Cr();break;case 13:zr(i);break;case 19:it(At);break;case 10:Fr(i.type);break;case 22:case 23:zr(i),$f(),n!==null&&it(Bs);break;case 24:Fr(Rt)}}var PS={getCacheForType:function(n){var i=Qt(Rt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},kS=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Ne=null,Ue=0,We=0,vn=null,$r=!1,$a=!1,Hd=!1,Xr=0,ot=0,Hi=0,Xs=0,Fd=0,zn=0,Xa=0,Sl=null,_r=null,Gd=!1,Kd=0,xc=1/0,Mc=null,Fi=null,Vc=!1,Ws=null,Al=0,Qd=0,Yd=null,Rl=0,$d=null;function En(){if((nt&2)!==0&&Ue!==0)return Ue&-Ue;if(R.T!==null){var n=Ba;return n!==0?n:rm()}return zu()}function J_(){zn===0&&(zn=(Ue&536870912)===0||Be?Lo():536870912);var n=kn.current;return n!==null&&(n.flags|=32),zn}function an(n,i,a){(n===Xe&&We===2||n.cancelPendingCommit!==null)&&(Wa(n,0),Wr(n,Ue,zn,!1)),ut(n,a),((nt&2)===0||n!==Xe)&&(n===Xe&&((nt&2)===0&&(Xs|=a),ot===4&&Wr(n,Ue,zn,!1)),vr(n))}function ev(n,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||yi(n,i),f=l?jS(n,i):Jd(n,i,!0),d=l;do{if(f===0){$a&&!l&&Wr(n,i,0,!1);break}else if(f===6)Wr(n,i,0,!$r);else{if(a=n.current.alternate,d&&!US(a)){f=Jd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=n;f=Sl;var D=w.current.memoizedState.isDehydrated;if(D&&(Wa(w,v).flags|=256),v=Jd(w,v,!1),v!==2){if(Hd&&!D){w.errorRecoveryDisabledLanes|=d,Xs|=d,f=4;break e}d=_r,_r=f,d!==null&&Xd(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){Wa(n,0),Wr(n,i,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Wr(l,i,zn,!$r);break e}break;case 2:_r=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Kd+300-un(),10<d)){if(Wr(l,i,zn,!$r),Rn(l,0)!==0)break e;l.timeoutHandle=Sv(tv.bind(null,l,a,_r,Mc,Gd,i,zn,Xs,Xa,$r,2,-0,0),d);break e}tv(l,a,_r,Mc,Gd,i,zn,Xs,Xa,$r,0,-0,0)}}break}while(!0);vr(n)}function Xd(n){_r===null?_r=n:_r.push.apply(_r,n)}function tv(n,i,a,l,f,d,v,w,D,L,W,te,G){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:_A},G_(i),i=EA(),i!==null)){n.cancelPendingCommit=i(lv.bind(null,n,a,l,f,v,w,D,1,te,G)),Wr(n,d,v,!L);return}lv(n,a,l,f,v,w,D,W,te,G)}function US(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wr(n,i,a,l){i&=~Fd,i&=~Xs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&vi(n,a,i)}function Pc(){return(nt&6)===0?(Cl(0),!1):!0}function Wd(){if(Ne!==null){if(We===0)var n=Ne.return;else n=Ne,Hr=Ks=null,rd(n),ja=null,ol=0,n=Ne;for(;n!==null;)Z_(n.alternate,n),n=n.return;Ne=null}}function Wa(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,nA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wd(),Xe=n,Ne=a=qi(n.current,null),Ue=i,We=0,vn=null,$r=!1,$a=yi(n,i),Hd=!1,Xa=zn=Fd=Xs=Hi=ot=0,_r=Sl=null,Gd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-tn(l),d=1<<f;i|=n[f],l&=~d}return Xr=i,sc(),a}function nv(n,i){Ie=null,R.H=yr,i===sl?(i=yy(),We=3):i===my?(i=yy(),We=4):We=i===p_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ne===null&&(ot=1,Ac(n,Mn(i,n.current)))}function rv(){var n=R.H;return R.H=yr,n===null?yr:n}function iv(){var n=R.A;return R.A=PS,n}function Zd(){ot=4,$r||(Ue&4194176)!==Ue&&kn.current!==null||($a=!0),(Hi&134217727)===0&&(Xs&134217727)===0||Xe===null||Wr(Xe,Ue,zn,!1)}function Jd(n,i,a){var l=nt;nt|=2;var f=rv(),d=iv();(Xe!==n||Ue!==i)&&(Mc=null,Wa(n,i)),i=!1;var v=ot;e:do try{if(We!==0&&Ne!==null){var w=Ne,D=vn;switch(We){case 8:Wd(),v=6;break e;case 3:case 2:case 6:kn.current===null&&(i=!0);var L=We;if(We=0,vn=null,Za(n,w,D,L),a&&$a){v=0;break e}break;default:L=We,We=0,vn=null,Za(n,w,D,L)}}LS(),v=ot;break}catch(W){nv(n,W)}while(!0);return i&&n.shellSuspendCounter++,Hr=Ks=null,nt=l,R.H=f,R.A=d,Ne===null&&(Xe=null,Ue=0,sc()),v}function LS(){for(;Ne!==null;)sv(Ne)}function jS(n,i){var a=nt;nt|=2;var l=rv(),f=iv();Xe!==n||Ue!==i?(Mc=null,xc=un()+500,Wa(n,i)):$a=yi(n,i);e:do try{if(We!==0&&Ne!==null){i=Ne;var d=vn;t:switch(We){case 1:We=0,vn=null,Za(n,i,d,1);break;case 2:if(py(d)){We=0,vn=null,av(i);break}i=function(){We===2&&Xe===n&&(We=7),vr(n)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:py(d)?(We=0,vn=null,av(i)):(We=0,vn=null,Za(n,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var w=Ne;if(!v||Pv(v)){We=0,vn=null;var D=w.sibling;if(D!==null)Ne=D;else{var L=w.return;L!==null?(Ne=L,kc(L)):Ne=null}break t}}We=0,vn=null,Za(n,i,d,5);break;case 6:We=0,vn=null,Za(n,i,d,6);break;case 8:Wd(),ot=6;break e;default:throw Error(s(462))}}zS();break}catch(W){nv(n,W)}while(!0);return Hr=Ks=null,R.H=l,R.A=f,nt=a,Ne!==null?0:(Xe=null,Ue=0,sc(),ot)}function zS(){for(;Ne!==null&&!Cf();)sv(Ne)}function sv(n){var i=C_(n.alternate,n,Xr);n.memoizedProps=n.pendingProps,i===null?kc(n):Ne=i}function av(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=T_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=T_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:rd(i);default:Z_(a,i),i=Ne=$_(i,Xr),i=C_(a,i,Xr)}n.memoizedProps=n.pendingProps,i===null?kc(n):Ne=i}function Za(n,i,a,l){Hr=Ks=null,rd(i),ja=null,ol=0;var f=i.return;try{if(IS(n,f,i,a,Ue)){ot=1,Ac(n,Mn(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ot=1,Ac(n,Mn(a,n.current)),Ne=null;return}i.flags&32768?(Be||l===1?n=!0:$a||(Ue&536870912)!==0?n=!1:($r=n=!0,(l===2||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ov(i,n)):kc(i)}function kc(n){var i=n;do{if((i.flags&32768)!==0){ov(i,$r);return}n=i.return;var a=MS(i.alternate,i,Xr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);ot===0&&(ot=5)}function ov(n,i){do{var a=VS(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ot=6,Ne=null}function lv(n,i,a,l,f,d,v,w,D,L){var W=R.T,te=ue.p;try{ue.p=2,R.T=null,BS(n,i,a,l,te,f,d,v,w,D,L)}finally{R.T=W,ue.p=te}}function BS(n,i,a,l,f,d,v,w){do Ja();while(Ws!==null);if((nt&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=D.lanes|D.childLanes;if(L|=qf,Lu(n,l,L,d,v,w),n===Xe&&(Ne=Xe=null,Ue=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Vc||(Vc=!0,Qd=L,Yd=a,GS(Ir,function(){return Ja(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,d=ue.p,ue.p=2,v=nt,nt|=4,NS(n,D),q_(D,n),hS(hm,n.containerInfo),Yc=!!cm,hm=cm=null,n.current=D,L_(n,D.alternate,D),Vo(),nt=v,ue.p=d,R.T=a):n.current=D,Vc?(Vc=!1,Ws=n,Al=l):uv(n,L),L=n.pendingLanes,L===0&&(Fi=null),ko(D.stateNode),vr(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)L=i[D],f(L.value,{componentStack:L.stack});return(Al&3)!==0&&Ja(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===$d?Rl++:(Rl=0,$d=n):Rl=0,Cl(0),null}function uv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ul(i)))}function Ja(){if(Ws!==null){var n=Ws,i=Qd;Qd=0;var a=ju(Al),l=R.T,f=ue.p;try{if(ue.p=32>a?32:a,R.T=null,Ws===null)var d=!1;else{a=Yd,Yd=null;var v=Ws,w=Al;if(Ws=null,Al=0,(nt&6)!==0)throw Error(s(331));var D=nt;if(nt|=4,Q_(v.current),F_(v,v.current,w,a),nt=D,Cl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pi,v)}catch{}d=!0}return d}finally{ue.p=f,R.T=l,uv(n,i)}}return!1}function cv(n,i,a){i=Mn(a,i),i=yd(n.stateNode,i,2),n=Li(n,i,2),n!==null&&(ut(n,2),vr(n))}function $e(n,i,a){if(n.tag===3)cv(n,n,a);else for(;i!==null;){if(i.tag===3){cv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fi===null||!Fi.has(l))){n=Mn(a,n),a=d_(2),l=Li(i,a,2),l!==null&&(m_(a,l,i,n),ut(l,2),vr(l));break}}i=i.return}}function em(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new kS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Hd=!0,f.add(a),n=qS.bind(null,n,i,a),i.then(n,n))}function qS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Ue&a)===a&&(ot===4||ot===3&&(Ue&62914560)===Ue&&300>un()-Kd?(nt&2)===0&&Wa(n,0):Fd|=a,Xa===Ue&&(Xa=0)),vr(n)}function hv(n,i){i===0&&(i=_i()),n=Ni(n,i),n!==null&&(ut(n,i),vr(n))}function HS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),hv(n,a)}function FS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),hv(n,a)}function GS(n,i){return Ts(n,i)}var Uc=null,eo=null,tm=!1,Lc=!1,nm=!1,Zs=0;function vr(n){n!==eo&&n.next===null&&(eo===null?Uc=eo=n:eo=eo.next=n),Lc=!0,tm||(tm=!0,QS(KS))}function Cl(n,i){if(!nm&&Lc){nm=!0;do for(var a=!1,l=Uc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-tn(42|n)+1)-1,d&=f&~(v&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,mv(l,d))}else d=Ue,d=Rn(l,l===Xe?d:0),(d&3)===0||yi(l,d)||(a=!0,mv(l,d));l=l.next}while(a);nm=!1}}function KS(){Lc=tm=!1;var n=0;Zs!==0&&(tA()&&(n=Zs),Zs=0);for(var i=un(),a=null,l=Uc;l!==null;){var f=l.next,d=fv(l,i);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(eo=a)):(a=l,(n!==0||(d&3)!==0)&&(Lc=!0)),l=f}Cl(n)}function fv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-tn(d),w=1<<v,D=f[v];D===-1?((w&a)===0||(w&l)!==0)&&(f[v]=_a(w,i)):D<=i&&(n.expiredLanes|=w),d&=~w}if(i=Xe,a=Ue,a=Rn(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&We===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yi(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ya(l),ju(a)){case 2:case 8:a=Dt;break;case 32:a=Ir;break;case 268435456:a=Po;break;default:a=Ir}return l=dv.bind(null,n),a=Ts(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ya(l),n.callbackPriority=2,n.callbackNode=null,2}function dv(n,i){var a=n.callbackNode;if(Ja()&&n.callbackNode!==a)return null;var l=Ue;return l=Rn(n,n===Xe?l:0),l===0?null:(ev(n,l,i),fv(n,un()),n.callbackNode!=null&&n.callbackNode===a?dv.bind(null,n):null)}function mv(n,i){if(Ja())return null;ev(n,i,!0)}function QS(n){rA(function(){(nt&6)!==0?Ts(Tt,n):n()})}function rm(){return Zs===0&&(Zs=Lo()),Zs}function pv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:lr(""+n)}function gv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function YS(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=pv((f[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?pv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var w=new Aa("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var D=v?gv(f,v):new FormData(f);fd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(w.preventDefault(),D=v?gv(f,v):new FormData(f),fd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var im=0;im<ly.length;im++){var sm=ly[im],$S=sm.toLowerCase(),XS=sm[0].toUpperCase()+sm.slice(1);Qn($S,"on"+XS)}Qn(ry,"onAnimationEnd"),Qn(iy,"onAnimationIteration"),Qn(sy,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(dS,"onTransitionRun"),Qn(mS,"onTransitionStart"),Qn(pS,"onTransitionCancel"),Qn(ay,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function yv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],D=w.instance,L=w.currentTarget;if(w=w.listener,D!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=L;try{d(f)}catch(W){Sc(W)}f.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(w=l[v],D=w.instance,L=w.currentTarget,w=w.listener,D!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=L;try{d(f)}catch(W){Sc(W)}f.currentTarget=null,d=D}}}}function Me(n,i){var a=i[bs];a===void 0&&(a=i[bs]=new Set);var l=n+"__bubble";a.has(l)||(_v(i,n,2,!1),a.add(l))}function am(n,i,a){var l=0;i&&(l|=4),_v(a,n,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[jc]){n[jc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(WS.has(a)||am(a,!1,n),am(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[jc]||(i[jc]=!0,am("selectionchange",!1,i))}}function _v(n,i,a,l){switch(Bv(i)){case 2:var f=bA;break;case 8:f=SA;break;default:f=Em}a=f.bind(null,i,a,n),f=void 0,!Nn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function lm(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;w!==null;){if(v=Kn(w),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}w=w.parentNode}}l=l.return}Fu(function(){var L=d,W=Sa(a),te=[];e:{var G=oy.get(n);if(G!==void 0){var $=Aa,de=n;switch(n){case"keypress":if(cr(a)===0)break e;case"keydown":case"keyup":$=Oa;break;case"focusin":de="focus",$=Ia;break;case"focusout":de="blur",$=Ia;break;case"beforeblur":case"afterblur":$=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Zu;break;case ry:case iy:case sy:$=Da;break;case ay:$=ec;break;case"scroll":case"scrollend":$=Gu;break;case"wheel":$=xa;break;case"copy":case"cut":case"paste":$=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zo;break;case"toggle":case"beforetoggle":$=nc}var be=(i&4)!==0,lt=!be&&(n==="scroll"||n==="scrollend"),j=be?G!==null?G+"Capture":null:G;be=[];for(var k=L,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=Is(k,j),Z!=null&&be.push(Dl(k,Z,q))),lt)break;k=k.return}0<be.length&&(G=new $(G,de,null,a,W),te.push({event:G,listeners:be}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",G&&a!==Dn&&(de=a.relatedTarget||a.fromElement)&&(Kn(de)||de[Dr]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(de=a.relatedTarget||a.toElement,$=L,de=de?Kn(de):null,de!==null&&(lt=ge(de),be=de.tag,de!==lt||be!==5&&be!==27&&be!==6)&&(de=null)):($=null,de=L),$!==de)){if(be=On,Z="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(be=Zo,Z="onPointerLeave",j="onPointerEnter",k="pointer"),lt=$==null?G:bi($),q=de==null?G:bi(de),G=new be(Z,k+"leave",$,a,W),G.target=lt,G.relatedTarget=q,Z=null,Kn(W)===L&&(be=new be(j,k+"enter",de,a,W),be.target=q,be.relatedTarget=lt,Z=be),lt=Z,$&&de)t:{for(be=$,j=de,k=0,q=be;q;q=to(q))k++;for(q=0,Z=j;Z;Z=to(Z))q++;for(;0<k-q;)be=to(be),k--;for(;0<q-k;)j=to(j),q--;for(;k--;){if(be===j||j!==null&&be===j.alternate)break t;be=to(be),j=to(j)}be=null}else be=null;$!==null&&vv(te,G,$,be,!1),de!==null&&lt!==null&&vv(te,lt,de,be,!0)}}e:{if(G=L?bi(L):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var fe=Kg;else if(St(G))if(Qg)fe=uS;else{fe=oS;var De=aS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&Go(L.elementType)&&(fe=Kg):fe=lS;if(fe&&(fe=fe(n,L))){Ur(te,fe,a,W);break e}De&&De(n,G,L),n==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&ba(G,"number",G.value)}switch(De=L?bi(L):window,n){case"focusin":(St(De)||De.contentEditable==="true")&&(Ma=De,jf=L,tl=null);break;case"focusout":tl=jf=Ma=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,ty(te,a,W);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":ty(te,a,W)}var pe;if(dr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(pe=Qo()):(ur=W,Di="value"in ur?ur.value:ur.textContent,Pe=!0)),De=zc(L,_e),0<De.length&&(_e=new Xo(_e,n,null,a,W),te.push({event:_e,listeners:De}),pe?_e.data=pe:(pe=se(a),pe!==null&&(_e.data=pe)))),(pe=y?bt(n,a):ke(n,a))&&(_e=zc(L,"onBeforeInput"),0<_e.length&&(De=new Xo("onBeforeInput","beforeinput",null,a,W),te.push({event:De,listeners:_e}),De.data=pe)),YS(te,n,L,a,W)}yv(te,i)})}function Dl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function zc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Is(n,a),f!=null&&l.unshift(Dl(n,f,d)),f=Is(n,i),f!=null&&l.push(Dl(n,f,d))),n=n.return}return l}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function vv(n,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var w=a,D=w.alternate,L=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||L===null||(D=L,f?(L=Is(a,d),L!=null&&v.unshift(Dl(a,L,D))):f||(L=Is(a,d),L!=null&&v.push(Dl(a,L,D)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var ZS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Ev(n){return(typeof n=="string"?n:""+n).replace(ZS,`
`).replace(JS,"")}function Tv(n,i){return i=Ev(i),Ev(n)===i}function Bc(){}function Ye(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(n,""+l);break;case"className":Ri(n,"class",l);break;case"tabIndex":Ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(n,a,l);break;case"style":Hu(n,l,d);break;case"data":if(i!=="object"){Ri(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=lr(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(n,i,"name",f.name,f,null),Ye(n,i,"formEncType",f.formEncType,f,null),Ye(n,i,"formMethod",f.formMethod,f,null),Ye(n,i,"formTarget",f.formTarget,f,null)):(Ye(n,i,"encType",f.encType,f,null),Ye(n,i,"method",f.method,f,null),Ye(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=lr(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=lr(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ai(n,"popover",l);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ai(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xf.get(a)||a,Ai(n,a,l))}}function um(n,i,a,l,f,d){switch(a){case"style":Hu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ai(n,a,l)}}}function Bt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(n,i,d,v,a,null)}}f&&Ye(n,i,"srcSet",a.srcSet,a,null),l&&Ye(n,i,"src",a.src,a,null);return;case"input":Me("invalid",n);var w=d=v=f=null,D=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":D=W;break;case"defaultChecked":L=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Ye(n,i,l,W,a,null)}}Rs(n,d,w,D,L,v,f,!1),As(n);return;case"select":Me("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Ye(n,i,f,w,a,null)}i=d,a=v,n.multiple=!!l,i!=null?ze(n,!!l,i,!1):a!=null&&ze(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ye(n,i,v,w,a,null)}Ii(n,l,f,d),As(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,i,D,l,a,null)}return;case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<Il.length;l++)Me(Il[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(n,i,L,l,a,null)}return;default:if(Go(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&um(n,i,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ye(n,i,w,l,a,null))}function eA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,D=null,L=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty($)||Ye(n,i,$,null,l,te)}}for(var G in l){var $=l[G];if(te=a[G],l.hasOwnProperty(G)&&($!=null||te!=null))switch(G){case"type":d=$;break;case"name":f=$;break;case"checked":L=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==te&&Ye(n,i,G,$,l,te)}}Ci(n,v,w,D,L,W,d,f);return;case"select":$=v=w=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(d)||Ye(n,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==D&&Ye(n,i,f,d,l,D)}i=w,a=v,l=$,G!=null?ze(n,!!a,G,!1):!!l!=!!a&&(i!=null?ze(n,!!a,i,!0):ze(n,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ye(n,i,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ye(n,i,v,f,l,d)}Cs(n,G,$);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:Ye(n,i,de,null,l,G)}for(D in l)if(G=l[D],$=a[D],l.hasOwnProperty(D)&&G!==$&&(G!=null||$!=null))switch(D){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ye(n,i,D,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&Ye(n,i,be,null,l,G);for(L in l)if(G=l[L],$=a[L],l.hasOwnProperty(L)&&G!==$&&(G!=null||$!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ye(n,i,L,G,l,$)}return;default:if(Go(i)){for(var lt in a)G=a[lt],a.hasOwnProperty(lt)&&G!==void 0&&!l.hasOwnProperty(lt)&&um(n,i,lt,void 0,l,G);for(W in l)G=l[W],$=a[W],!l.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||um(n,i,W,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Ye(n,i,j,null,l,G);for(te in l)G=l[te],$=a[te],!l.hasOwnProperty(te)||G===$||G==null&&$==null||Ye(n,i,te,G,l,$)}var cm=null,hm=null;function qc(n){return n.nodeType===9?n:n.ownerDocument}function wv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function fm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function tA(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(n){return Av.resolve(null).then(n).catch(iA)}:Sv;function iA(n){setTimeout(function(){throw n})}function mm(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Ul(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Ul(i)}function pm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function sA(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[wi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function aA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Xn(n.nextSibling),n===null))return null;return n}function Xn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function Rv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Cv(n,i,a){switch(i=qc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Bn=new Map,Iv=new Set;function Hc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Zr=ue.d;ue.d={f:oA,r:lA,D:uA,C:cA,L:hA,m:fA,X:mA,S:dA,M:pA};function oA(){var n=Zr.f(),i=Pc();return n||i}function lA(n){var i=Nr(n);i!==null&&i.tag===5&&i.type==="form"?t_(i):Zr.r(n)}var no=typeof document>"u"?null:document;function Dv(n,i,a){var l=no;if(l&&typeof i=="string"&&i){var f=st(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Iv.has(f)||(Iv.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Bt(i,"link",n),et(i),l.head.appendChild(i)))}}function uA(n){Zr.D(n),Dv("dns-prefetch",n,null)}function cA(n,i){Zr.C(n,i),Dv("preconnect",n,i)}function hA(n,i,a){Zr.L(n,i,a);var l=no;if(l&&n&&i){var f='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+st(a.imageSizes)+'"]')):f+='[href="'+st(n)+'"]';var d=f;switch(i){case"style":d=ro(n);break;case"script":d=io(n)}Bn.has(d)||(n=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Bn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Bt(i,"link",n),et(i),l.head.appendChild(i)))}}function fA(n,i){Zr.m(n,i);var a=no;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!Bn.has(d)&&(n=N({rel:"modulepreload",href:n},i),Bn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Bt(l,"link",n),et(l),a.head.appendChild(l)}}}function dA(n,i,a){Zr.S(n,i,a);var l=no;if(l&&n){var f=Si(l).hoistableStyles,d=ro(n);i=i||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Nl(d)))w.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Bn.get(d))&&gm(n,a);var D=v=l.createElement("link");et(D),Bt(D,"link",n),D._p=new Promise(function(L,W){D.onload=L,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function mA(n,i){Zr.X(n,i);var a=no;if(a&&n){var l=Si(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(n=N({src:n,async:!0},i),(i=Bn.get(f))&&ym(n,i),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pA(n,i){Zr.M(n,i);var a=no;if(a&&n){var l=Si(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(n=N({src:n,async:!0,type:"module"},i),(i=Bn.get(f))&&ym(n,i),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Nv(n,i,a,l){var f=(f=An.current)?Hc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=Si(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ro(a.href);var d=Si(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Nl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),d||gA(f,n,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=Si(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ro(n){return'href="'+st(n)+'"'}function Nl(n){return'link[rel="stylesheet"]['+n+"]"}function Ov(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function gA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),et(i),n.head.appendChild(i))}function io(n){return'[src="'+st(n)+'"]'}function Ol(n){return"script[async]"+n}function xv(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return i.instance=l,et(l),l;var f=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),et(l),Bt(l,"style",f),Fc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ro(a.href);var d=n.querySelector(Nl(f));if(d)return i.state.loading|=4,i.instance=d,et(d),d;l=Ov(a),(f=Bn.get(f))&&gm(l,f),d=(n.ownerDocument||n).createElement("link"),et(d);var v=d;return v._p=new Promise(function(w,D){v.onload=w,v.onerror=D}),Bt(d,"link",l),i.state.loading|=4,Fc(d,a.precedence,n),i.instance=d;case"script":return d=io(a.src),(f=n.querySelector(Ol(d)))?(i.instance=f,et(f),f):(l=a,(f=Bn.get(d))&&(l=N({},a),ym(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),et(f),Bt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Fc(l,a.precedence,n));return i.instance}function Fc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function gm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Gc=null;function Mv(n,i,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function Vv(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function yA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var xl=null;function _A(){}function vA(n,i,a){if(xl===null)throw Error(s(475));var l=xl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ro(a.href),d=n.querySelector(Nl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,et(d);return}d=n.ownerDocument||n,a=Ov(a),(f=Bn.get(f))&&gm(a,f),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(w,D){v.onload=w,v.onerror=D}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function EA(){if(xl===null)throw Error(s(475));var n=xl;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qc=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qc=new Map,i.forEach(TA,n),Qc=null,Kc.call(n))}function TA(n,i){if(!(i.state.loading&4)){var a=Qc.get(n);if(a)var l=a.get(null);else{a=new Map,Qc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Ml={$$typeof:I,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function wA(n,i,a,l,f,d,v,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function kv(n,i,a,l,f,d,v,w,D,L,W,te){return n=new wA(n,i,a,v,w,D,L,te),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),n.current=d,d.stateNode=n,i=Xf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nd(d),n}function Uv(n){return n?(n=ka,n):ka}function Lv(n,i,a,l,f,d){f=Uv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(n,l,i),a!==null&&(an(a,n,i),gl(a,n,i))}function jv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function vm(n,i){jv(n,i),(n=n.alternate)&&jv(n,i)}function zv(n){if(n.tag===13){var i=Ni(n,67108864);i!==null&&an(i,n,67108864),vm(n,67108864)}}var Yc=!0;function bA(n,i,a,l){var f=R.T;R.T=null;var d=ue.p;try{ue.p=2,Em(n,i,a,l)}finally{ue.p=d,R.T=f}}function SA(n,i,a,l){var f=R.T;R.T=null;var d=ue.p;try{ue.p=8,Em(n,i,a,l)}finally{ue.p=d,R.T=f}}function Em(n,i,a,l){if(Yc){var f=Tm(l);if(f===null)lm(n,i,l,$c,a),qv(n,l);else if(RA(f,n,i,a,l))l.stopPropagation();else if(qv(n,l),i&4&&-1<AA.indexOf(n)){for(;f!==null;){var d=Nr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Gn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var D=1<<31-tn(v);w.entanglements[1]|=D,v&=~D}vr(d),(nt&6)===0&&(xc=un()+500,Cl(0))}}break;case 13:w=Ni(d,2),w!==null&&an(w,d,2),Pc(),vm(d,2)}if(d=Tm(l),d===null&&lm(n,i,l,$c,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(n,i,l,null,a)}}function Tm(n){return n=Sa(n),wm(n)}var $c=null;function wm(n){if($c=null,n=Kn(n),n!==null){var i=ge(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=He(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return $c=n,null}function Bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case Tt:return 2;case Dt:return 8;case Ir:case Pu:return 32;case Po:return 268435456;default:return 32}default:return 32}}var bm=!1,Gi=null,Ki=null,Qi=null,Vl=new Map,Pl=new Map,Yi=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(n,i){switch(n){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function kl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Nr(i),i!==null&&zv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function RA(n,i,a,l,f){switch(i){case"focusin":return Gi=kl(Gi,n,i,a,l,f),!0;case"dragenter":return Ki=kl(Ki,n,i,a,l,f),!0;case"mouseover":return Qi=kl(Qi,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,kl(Vl.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,kl(Pl.get(d)||null,n,i,a,l,f)),!0}return!1}function Hv(n){var i=Kn(n.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=He(a),i!==null){n.blockedOn=i,Ti(n.priority,function(){if(a.tag===13){var l=En(),f=Ni(a,l);f!==null&&an(f,a,l),vm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Tm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Dn=l,a.target.dispatchEvent(l),Dn=null}else return i=Nr(a),i!==null&&zv(i),n.blockedOn=a,!1;i.shift()}return!0}function Fv(n,i,a){Xc(n)&&a.delete(i)}function CA(){bm=!1,Gi!==null&&Xc(Gi)&&(Gi=null),Ki!==null&&Xc(Ki)&&(Ki=null),Qi!==null&&Xc(Qi)&&(Qi=null),Vl.forEach(Fv),Pl.forEach(Fv)}function Wc(n,i){n.blockedOn===i&&(n.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CA)))}var Zc=null;function Gv(n){Zc!==n&&(Zc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var d=Nr(a);d!==null&&(n.splice(i,3),i-=3,fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ul(n){function i(D){return Wc(D,n)}Gi!==null&&Wc(Gi,n),Ki!==null&&Wc(Ki,n),Qi!==null&&Wc(Qi,n),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<Yi.length;a++){var l=Yi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Yi.length&&(a=Yi[0],a.blockedOn===null);)Hv(a),a.blockedOn===null&&Yi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[wt]||null;if(typeof d=="function")v||Gv(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[wt]||null)w=v.formAction;else if(wm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Gv(a)}}}function Sm(n){this._internalRoot=n}Jc.prototype.render=Sm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();Lv(a,l,n,i,null,null)},Jc.prototype.unmount=Sm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Ja(),Lv(n.current,2,null,n,null,null),Pc(),i[Dr]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var i=zu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Yi.length&&i!==0&&i<Yi[a].priority;a++);Yi.splice(a,0,n),a===0&&Hv(n)}};var Kv=e.version;if(Kv!=="19.0.0")throw Error(s(527,Kv,"19.0.0"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var IA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{pi=eh.inject(IA),Kt=eh}catch{}}return jl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=u_,d=c_,v=h_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=kv(n,1,!1,null,null,a,l,f,d,v,w,null),n[Dr]=i.current,om(n.nodeType===8?n.parentNode:n),new Sm(i)},jl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=u_,v=c_,w=h_,D=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=kv(n,1,!0,i,a??null,l,f,d,v,w,D,L),i.context=Uv(null),a=i.current,l=En(),f=Ui(l),f.callback=null,Li(a,f,l),i.current.lanes=l,ut(i,l),vr(i),n[Dr]=i.current,om(n),new Jc(i)},jl.version="19.0.0",jl}var n0;function BA(){if(n0)return Im.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=zA(),Im.exports}var qA=BA(),zl={},r0;function HA(){if(r0)return zl;r0=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=h,zl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,I){const x=new u,F=S.length;if(F<2)return x;const P=(I==null?void 0:I.decode)||E;let K=0;do{const X=S.indexOf("=",K);if(X===-1)break;const Y=S.indexOf(";",K),ie=Y===-1?F:Y;if(X>ie){K=S.lastIndexOf(";",X-1)+1;continue}const re=m(S,K,X),oe=p(S,X,re),M=S.slice(re,oe);if(x[M]===void 0){let C=m(S,X+1,ie),R=p(S,ie,C);const N=P(S.slice(C,R));x[M]=N}K=ie+1}while(K<F);return x}function m(S,I,x){do{const F=S.charCodeAt(I);if(F!==32&&F!==9)return I}while(++I<x);return x}function p(S,I,x){for(;I>x;){const F=S.charCodeAt(--I);if(F!==32&&F!==9)return I+1}return x}function g(S,I,x){const F=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=F(I);if(!e.test(P))throw new TypeError(`argument val is invalid: ${I}`);let K=S+"="+P;if(!x)return K;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);K+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);K+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);K+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);K+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(K+="; HttpOnly"),x.secure&&(K+="; Secure"),x.partitioned&&(K+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return zl}HA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function FA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return ep("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:nu(o)}return KA(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GA(){return Math.random().toString(36).substring(2,10)}function s0(r,e){return{usr:r.state,key:r.key,idx:e}}function ep(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:t,key:e&&e.key||s||GA()}}function nu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function So(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function KA(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=E(),K=P==null?null:P-g;g=P,p&&p({action:m,location:F.location,delta:K})}function S(P,K){m="PUSH";let X=ep(F.location,P,K);g=E()+1;let Y=s0(X,g),ie=F.createHref(X);try{h.pushState(Y,"",ie)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ie)}u&&p&&p({action:m,location:F.location,delta:1})}function I(P,K){m="REPLACE";let X=ep(F.location,P,K);g=E();let Y=s0(X,g),ie=F.createHref(X);h.replaceState(Y,"",ie),u&&p&&p({action:m,location:F.location,delta:0})}function x(P){let K=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof P=="string"?P:nu(P);return X=X.replace(/ $/,"%20"),Je(K,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,K)}let F={get action(){return m},get location(){return r(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,T),p=P,()=>{o.removeEventListener(i0,T),p=null}},createHref(P){return e(o,P)},createURL:x,encodeLocation(P){let K=x(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:I,go(P){return h.go(P)}};return F}function eT(r,e,t="/"){return QA(r,e,t,!1)}function QA(r,e,t,s){let o=typeof e=="string"?So(e):e,u=as(o.pathname||"/",t);if(u==null)return null;let h=tT(r);YA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=s1(u);m=r1(h[p],g,s)}return m}function tT(r,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ri([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),tT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:t1(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of nT(u.path))o(u,h,p)}),e}function nT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function YA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:n1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var $A=/^:[\w-]+$/,XA=3,WA=2,ZA=1,JA=10,e1=-2,a0=r=>r==="*";function t1(r,e){let t=r.split("/"),s=t.length;return t.some(a0)&&(s+=e1),e&&(s+=WA),t.filter(o=>!a0(o)).reduce((o,u)=>o+($A.test(u)?XA:u===""?ZA:JA),s)}function n1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function r1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ri([u,T.pathname]),pathnameBase:u1(ri([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ri([u,T.pathnameBase]))}return h}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=i1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let x=m[S]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const I=m[S];return T&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function i1(r,e=!1,t=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function s1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function as(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function a1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?So(r):r;return{pathname:t?t.startsWith("/")?t:o1(t,e):e,search:c1(s),hash:h1(o)}}function o1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vp(r){let e=l1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Pp(r,e,t,s=!1){let o;typeof r=="string"?o=So(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=a1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),u1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,h1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function f1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var d1=["GET",...rT];new Set(d1);var Ao=H.createContext(null);Ao.displayName="DataRouter";var Zh=H.createContext(null);Zh.displayName="DataRouterState";var iT=H.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var m1=H.createContext(new Map);m1.displayName="Fetchers";var p1=H.createContext(null);p1.displayName="Await";var rr=H.createContext(null);rr.displayName="Navigation";var pu=H.createContext(null);pu.displayName="Location";var Fn=H.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var kp=H.createContext(null);kp.displayName="RouteError";function g1(r,{relative:e}={}){Je(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(rr),{hash:o,pathname:u,search:h}=yu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ri([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Ro(){return H.useContext(pu)!=null}function ms(){return Je(Ro(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(pu).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(r){H.useContext(rr).static||H.useLayoutEffect(r)}function gu(){let{isDataRoute:r}=H.useContext(Fn);return r?x1():y1()}function y1(){Je(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Ao),{basename:e,navigator:t}=H.useContext(rr),{matches:s}=H.useContext(Fn),{pathname:o}=ms(),u=JSON.stringify(Vp(s)),h=H.useRef(!1);return aT(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(tr(h.current,sT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=Pp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ri([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}var _1=H.createContext(null);function v1(r){let e=H.useContext(Fn).outlet;return e&&H.createElement(_1.Provider,{value:r},e)}function E1(){let{matches:r}=H.useContext(Fn),e=r[r.length-1];return e?e.params:{}}function yu(r,{relative:e}={}){let{matches:t}=H.useContext(Fn),{pathname:s}=ms(),o=JSON.stringify(Vp(t));return H.useMemo(()=>Pp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function T1(r,e){return oT(r,e)}function oT(r,e,t,s){var X;Je(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(rr),{matches:h}=H.useContext(Fn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Y=T&&T.path||"";lT(g,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=ms(),I;if(e){let Y=typeof e=="string"?So(e):e;Je(E==="/"||((X=Y.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),I=Y}else I=S;let x=I.pathname||"/",F=x;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");F="/"+x.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=!u&&t&&t.matches&&t.matches.length>0?t.matches:eT(r,{pathname:F});tr(T||P!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),tr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=R1(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:ri([E,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:ri([E,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,t,s);return e&&K?H.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},K):K}function w1(){let r=O1(),e=f1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var b1=H.createElement(w1,null),S1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Fn.Provider,{value:this.props.routeContext},H.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A1({routeContext:r,match:e,children:t}){let s=H.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Fn.Provider,{value:r},t)}function R1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:T}=t,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,S=!1,I=null,x=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||b1,h&&(m<0&&E===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):m===E&&(S=!0,x=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),P=()=>{let K;return T?K=I:S?K=x:g.route.Component?K=H.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,H.createElement(A1,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(S1,{location:t.location,revalidation:t.revalidation,component:I,error:T,children:P(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):P()},null)}function Up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(r){let e=H.useContext(Ao);return Je(e,Up(r)),e}function I1(r){let e=H.useContext(Zh);return Je(e,Up(r)),e}function D1(r){let e=H.useContext(Fn);return Je(e,Up(r)),e}function Lp(r){let e=D1(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function N1(){return Lp("useRouteId")}function O1(){var s;let r=H.useContext(kp),e=I1("useRouteError"),t=Lp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function x1(){let{router:r}=C1("useNavigate"),e=Lp("useNavigate"),t=H.useRef(!1);return aT(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{tr(t.current,sT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var o0={};function lT(r,e,t){!e&&!o0[r]&&(o0[r]=!0,tr(!1,t))}H.memo(M1);function M1({routes:r,future:e,state:t}){return oT(r,void 0,t,e)}function V1({to:r,replace:e,state:t,relative:s}){Je(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(rr);tr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Fn),{pathname:h}=ms(),m=gu(),p=Pp(r,Vp(u),h,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function P1(r){return v1(r.context)}function Wn(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=So(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:S="default"}=t,I=H.useMemo(()=>{let x=as(p,h);return x==null?null:{location:{pathname:x,search:g,hash:E,state:T,key:S},navigationType:s}},[h,p,g,E,T,S,s]);return tr(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:H.createElement(rr.Provider,{value:m},H.createElement(pu.Provider,{children:e,value:I}))}function U1({children:r,location:e}){return T1(tp(r),e)}function tp(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,tp(s.props.children,u));return}Je(s.type===Wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=tp(s.props.children,u)),t.push(h)}),t}var uh="get",ch="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function L1(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function j1(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function z1(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function B1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function q1(r,e){return r.button===0&&(!e||e==="_self")&&!B1(r)}var th=null;function H1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!F1.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function G1(r,e){let t,s,o,u,h;if(j1(r)){let m=r.getAttribute("action");s=m?as(m,e):null,t=r.getAttribute("method")||uh,o=Mm(r.getAttribute("enctype"))||ch,u=new FormData(r)}else if(L1(r)||z1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?as(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Mm(r.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||ch,u=new FormData(m,r),!H1()){let{name:g,type:E,value:T}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,s=null,o=ch,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function K1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Y1(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await K1(u,t);return h.links?h.links():[]}return[]}));return Z1(s.flat(1).filter(Q1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $1(r,e,{includeHydrateFallback:t}={}){return X1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function X1(r){return[...new Set(r)]}function W1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Z1(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(W1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function J1(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eR(){let r=H.useContext(Ao);return jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tR(){let r=H.useContext(Zh);return jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zp=H.createContext(void 0);zp.displayName="FrameworkContext";function uT(){let r=H.useContext(zp);return jp(r,"You must render this element inside a <HydratedRouter> element"),r}function nR(r,e){let t=H.useContext(zp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=K=>{K.forEach(X=>{h(X.isIntersecting)})},P=new IntersectionObserver(F,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[r]),H.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let I=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,I),onBlur:Bl(p,x),onMouseEnter:Bl(g,I),onMouseLeave:Bl(E,x),onTouchStart:Bl(T,I)}]:[!1,S,{}]}function Bl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function rR({page:r,...e}){let{router:t}=eR(),s=H.useMemo(()=>eT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(sR,{page:r,matches:s,...e}):null}function iR(r){let{manifest:e,routeModules:t}=uT(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Y1(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function sR({page:r,matches:e,...t}){let s=ms(),{manifest:o,routeModules:u}=uT(),{loaderData:h,matches:m}=tR(),p=H.useMemo(()=>l0(r,e,m,o,s,"data"),[r,e,m,o,s]),g=H.useMemo(()=>l0(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,x=!1;if(e.forEach(P=>{var X;let K=o.routes[P.route.id];!K||!K.hasLoader||(!p.some(Y=>Y.route.id===P.route.id)&&P.route.id in h&&((X=u[P.route.id])!=null&&X.shouldRevalidate)||K.hasClientLoader?x=!0:I.add(P.route.id))}),I.size===0)return[];let F=J1(r);return x&&I.size>0&&F.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[F.pathname+F.search]},[h,s,o,p,e,r,u]),T=H.useMemo(()=>$1(g,o),[g,o]),S=iR(g);return H.createElement(H.Fragment,null,E.map(I=>H.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>H.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:x})=>H.createElement("link",{key:I,...x})))}function aR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.2.0")}catch{}function oR({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=FA({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(k1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$l=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...S},I){let{basename:x}=H.useContext(rr),F=typeof g=="string"&&hT.test(g),P,K=!1;if(typeof g=="string"&&F&&(P=g,cT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),U=as(N.pathname,x);N.origin===R.origin&&U!=null?g=U+N.search+N.hash:K=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=g1(g,{relative:o}),[Y,ie,re]=nR(s,S),oe=hR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||oe(R)}let C=H.createElement("a",{...S,...re,href:P||X,onClick:K||u?e:M,ref:aR(I,ie),target:p,"data-discover":!F&&t==="render"?"true":void 0});return Y&&!F?H.createElement(H.Fragment,null,C,H.createElement(rR,{page:X})):C});$l.displayName="Link";var lR=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=yu(h,{relative:g.relative}),S=ms(),I=H.useContext(Zh),{navigator:x,basename:F}=H.useContext(rr),P=I!=null&&gR(T)&&m===!0,K=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,X=S.pathname,Y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,K=K.toLowerCase()),Y&&F&&(Y=as(Y,F)||Y);const ie=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let re=X===K||!o&&X.startsWith(K)&&X.charAt(ie)==="/",oe=Y!=null&&(Y===K||!o&&Y.startsWith(K)&&Y.charAt(K.length)==="/"),M={isActive:re,isPending:oe,isTransitioning:P},C=re?e:void 0,R;typeof s=="function"?R=s(M):R=[s,re?"active":null,oe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return H.createElement($l,{...g,"aria-current":C,className:R,ref:E,style:N,to:h,viewTransition:m},typeof p=="function"?p(M):p)});lR.displayName="NavLink";var uR=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=uh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...S},I)=>{let x=mR(),F=pR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&hT.test(m),X=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,re=(ie==null?void 0:ie.getAttribute("formmethod"))||h;x(ie||Y.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return H.createElement("form",{ref:I,method:P,action:F,onSubmit:s?p:X,...S,"data-discover":!K&&r==="render"?"true":void 0})});uR.displayName="Form";function cR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(r){let e=H.useContext(Ao);return Je(e,cR(r)),e}function hR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=gu(),p=ms(),g=yu(r,{relative:u});return H.useCallback(E=>{if(q1(E,e)){E.preventDefault();let T=t!==void 0?t:nu(p)===nu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,r,o,u,h])}var fR=0,dR=()=>`__${String(++fR)}__`;function mR(){let{router:r}=fT("useSubmit"),{basename:e}=H.useContext(rr),t=N1();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=G1(s,e);if(o.navigate===!1){let E=o.fetcherKey||dR();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function pR(r,{relative:e}={}){let{basename:t}=H.useContext(rr),s=H.useContext(Fn);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(r||".",{relative:e})},h=ms();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ri([t,u.pathname])),nu(u)}function gR(r,e={}){let t=H.useContext(iT);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fT("useViewTransitionState"),o=yu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=as(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=as(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}new TextEncoder;var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(S=64)),s.push(t[E],t[T],t[S],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new _R;const S=u<<2|m>>4;if(s.push(S),g!==64){const I=m<<4&240|g>>2;if(s.push(I),T!==64){const x=g<<6&192|T;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=dT(r);return mT.encodeByteArray(e,!0)},bh=function(r){return vR(r).replace(/\./g,"")},pT=function(r){try{return mT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof u0>"u")return;const r=u0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pT(r[1]);return e&&JSON.parse(e)},ef=()=>{try{return TR()||wR()||bR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>{var e,t;return(t=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},SR=r=>{const e=gT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yT=()=>{var r;return(r=ef())===null||r===void 0?void 0:r.config},_T=r=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bh(JSON.stringify(t)),bh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function IR(){var r;const e=(r=ef())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class fi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kR,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?UR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fi(o,m,s)}}function UR(r,e){return r.replace(LR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LR=/\{\$([^}]+)}/g;function jR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Sh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(c0(u)&&c0(h)){if(!Sh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function zR(r,e){const t=new BR(r,e);return t.subscribe.bind(t)}class BR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new AR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FR(r){return r===Js?void 0:r}function GR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const QR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},YR=Oe.INFO,$R={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},XR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$R[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=YR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const WR=(r,e)=>e.some(t=>r instanceof t);let h0,f0;function ZR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,np=new WeakMap,ET=new WeakMap,Pm=new WeakMap,qp=new WeakMap;function eC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ts(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&vT.set(t,r)}).catch(()=>{}),qp.set(e,r),e}function tC(r){if(np.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});np.set(r,e)}let rp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ET.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nC(r){rp=r(rp)}function rC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(km(this),e,...t);return ET.set(s,e.sort?e.sort():[e]),ts(s)}:JR().includes(r)?function(...e){return r.apply(km(this),e),ts(vT.get(this))}:function(...e){return ts(r.apply(km(this),e))}}function iC(r){return typeof r=="function"?rC(r):(r instanceof IDBTransaction&&tC(r),WR(r,ZR())?new Proxy(r,rp):r)}function ts(r){if(r instanceof IDBRequest)return eC(r);if(Pm.has(r))return Pm.get(r);const e=iC(r);return e!==r&&(Pm.set(r,e),qp.set(e,r)),e}const km=r=>qp.get(r);function sC(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ts(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ts(h.result),p.oldVersion,p.newVersion,ts(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const aC=["get","getKey","getAll","getAllKeys","count"],oC=["put","add","delete","clear"],Um=new Map;function d0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=oC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aC.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Um.set(e,u),u}nC(r=>({...r,get:(e,t,s)=>d0(e,t)||r.get(e,t,s),has:(e,t)=>!!d0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function uC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",m0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Bp("@firebase/app"),cC="@firebase/app-compat",hC="@firebase/analytics-compat",fC="@firebase/analytics",dC="@firebase/app-check-compat",mC="@firebase/app-check",pC="@firebase/auth",gC="@firebase/auth-compat",yC="@firebase/database",_C="@firebase/data-connect",vC="@firebase/database-compat",EC="@firebase/functions",TC="@firebase/functions-compat",wC="@firebase/installations",bC="@firebase/installations-compat",SC="@firebase/messaging",AC="@firebase/messaging-compat",RC="@firebase/performance",CC="@firebase/performance-compat",IC="@firebase/remote-config",DC="@firebase/remote-config-compat",NC="@firebase/storage",OC="@firebase/storage-compat",xC="@firebase/firestore",MC="@firebase/vertexai",VC="@firebase/firestore-compat",PC="firebase",kC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",UC={[ip]:"fire-core",[cC]:"fire-core-compat",[fC]:"fire-analytics",[hC]:"fire-analytics-compat",[mC]:"fire-app-check",[dC]:"fire-app-check-compat",[pC]:"fire-auth",[gC]:"fire-auth-compat",[yC]:"fire-rtdb",[_C]:"fire-data-connect",[vC]:"fire-rtdb-compat",[EC]:"fire-fn",[TC]:"fire-fn-compat",[wC]:"fire-iid",[bC]:"fire-iid-compat",[SC]:"fire-fcm",[AC]:"fire-fcm-compat",[RC]:"fire-perf",[CC]:"fire-perf-compat",[IC]:"fire-rc",[DC]:"fire-rc-compat",[NC]:"fire-gcs",[OC]:"fire-gcs-compat",[xC]:"fire-fst",[VC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[PC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,LC=new Map,ap=new Map;function p0(r,e){try{r.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function po(r){const e=r.name;if(ap.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,r);for(const t of Ah.values())p0(t,r);for(const t of LC.values())p0(t,r);return!0}function Hp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new _u("app","Firebase",jC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=kC;function TT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=yT()),!t)throw ns.create("no-options");const u=Ah.get(o);if(u){if(Sh(t,u.options)&&Sh(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const h=new KR(o);for(const p of ap.values())h.addComponent(p);const m=new zC(t,s,h);return Ah.set(o,m),m}function wT(r=sp){const e=Ah.get(r);if(!e&&r===sp&&yT())return TT();if(!e)throw ns.create("no-app",{appName:r});return e}function rs(r,e,t){var s;let o=(s=UC[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}po(new ia(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebase-heartbeat-database",qC=1,ru="firebase-heartbeat-store";let Lm=null;function bT(){return Lm||(Lm=sC(BC,qC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Lm}async function HC(r){try{const t=(await bT()).transaction(ru),s=await t.objectStore(ru).get(ST(r));return await t.done,s}catch(e){if(e instanceof fi)oi.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function g0(r,e){try{const s=(await bT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,ST(r)),await s.done}catch(t){if(t instanceof fi)oi.warn(t.message);else{const s=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(s.message)}}}function ST(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1024,GC=30;class KC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GC){const h=$C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y0(),{heartbeatsToSend:s,unsentEntries:o}=QC(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return oi.warn(t),""}}}function y0(){return new Date().toISOString().substring(0,10)}function QC(r,e=FC){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),_0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class YC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _0(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function $C(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){po(new ia("platform-logger",e=>new lC(e),"PRIVATE")),po(new ia("heartbeat",e=>new KC(e),"PRIVATE")),rs(ip,m0,r),rs(ip,m0,"esm2017"),rs("fire-js","")}XC("");function Fp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WC=AT,RT=new _u("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Bp("@firebase/auth");function ZC(r,...e){Rh.logLevel<=Oe.WARN&&Rh.warn(`Auth (${Co}): ${r}`,...e)}function hh(r,...e){Rh.logLevel<=Oe.ERROR&&Rh.error(`Auth (${Co}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw Kp(r,...e)}function er(r,...e){return Kp(r,...e)}function Gp(r,e,t){const s=Object.assign(Object.assign({},WC()),{[e]:t});return new _u("auth","Firebase",s).create(e,{appName:r.name})}function ii(r){return Gp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JC(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Hn(r,"argument-error"),Gp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return RT.create(r,...e)}function Ee(r,e,...t){if(!r)throw Kp(e,...t)}function ei(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function li(r,e){r||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function e2(){return v0()==="http:"||v0()==="https:"}function v0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e2()||NR()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=CR()||OR()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Eu(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function gs(r,e,t,s,o={}){return IT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return DR()||(g.referrerPolicy="no-referrer"),CT.fetch()(DT(r,r.config.apiHost,t,m),g)})}async function IT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},r2),e);try{const o=new a2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Gp(r,E,g);Hn(r,E)}}catch(o){if(o instanceof fi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,t,s,o={}){const u=await gs(r,e,t,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function DT(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`}function s2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),i2.get())})}}function nh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=er(r,e,s);return o.customData._tokenResponse=t,o}function E0(r){return r!==void 0&&r.enterprise!==void 0}class o2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l2(r,e){return gs(r,"GET","/v2/recaptchaConfig",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){return gs(r,"POST","/v1/accounts:delete",e)}async function NT(r,e){return gs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c2(r,e=!1){const t=vt(r),s=await t.getIdToken(e),o=Yp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(jm(o.auth_time)),issuedAtTime:Xl(jm(o.iat)),expirationTime:Xl(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function Yp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(t);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(r){const e=Yp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof fi&&h2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function h2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){var e;const t=r.auth,s=await r.getIdToken(),o=await iu(r,NT(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?OT(u.providerUserInfo):[],m=m2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new lp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function d2(r){const e=vt(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OT(r){return r.map(e=>{var{providerId:t}=e,s=Fp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e){const t=await IT(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=DT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",CT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g2(r,e){return gs(r,"POST","/v2/accounts:revokeToken",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=T0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await p2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return c2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await iu(this,u2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:ie,isAnonymous:re,providerData:oe,stsTokenManager:M}=t;Ee(Y&&M,e,"internal-error");const C=co.fromJSON(this.name,M);Ee(typeof Y=="string",e,"internal-error"),Xi(T,e.name),Xi(S,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Xi(I,e.name),Xi(x,e.name),Xi(F,e.name),Xi(P,e.name),Xi(K,e.name),Xi(X,e.name);const R=new ti({uid:Y,auth:e,email:S,emailVerified:ie,displayName:T,isAnonymous:re,photoURL:x,phoneNumber:I,tenantId:F,stsTokenManager:C,createdAt:K,lastLoginAt:X});return oe&&Array.isArray(oe)&&(R.providerData=oe.map(N=>Object.assign({},N))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new co;o.updateFromServerResponse(t);const u=new ti({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;function ni(r){li(r instanceof Function,"Expected a class definition");let e=w0.get(r);return e?(li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,w0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xT.type="NONE";const b0=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,e,t){return`firebase:${r}:${e}:${t}`}class ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ho(ni(b0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(b0);const h=fh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){const T=ti._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(jT(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function MT(r=Jt()){return/firefox\//i.test(r)}function VT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(r=Jt()){return/crios\//i.test(r)}function kT(r=Jt()){return/iemobile/i.test(r)}function UT(r=Jt()){return/android/i.test(r)}function LT(r=Jt()){return/blackberry/i.test(r)}function jT(r=Jt()){return/webos/i.test(r)}function $p(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y2(r=Jt()){var e;return $p(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _2(){return xR()&&document.documentMode===10}function zT(r=Jt()){return $p(r)||UT(r)||jT(r)||LT(r)||/windows phone/i.test(r)||kT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,e=[]){let t;switch(r){case"Browser":t=S0(Jt());break;case"Worker":t=`${S0(Jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(r,e={}){return gs(r,"GET","/v2/passwordPolicy",ps(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class w2{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:T2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new v2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await NT(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ii(this));const t=e?vt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E2(this),t=new w2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await g2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ys(r){return vt(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(r){tf=r}function qT(r){return tf.loadJS(r)}function A2(){return tf.recaptchaEnterpriseScript}function R2(){return tf.gapiScript}function C2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class I2{constructor(){this.enterprise=new D2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class D2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N2="recaptcha-enterprise",HT="NO_RECAPTCHA";class O2{constructor(e){this.type=N2,this.auth=ys(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{l2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new o2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;E0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(HT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&E0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=A2();p.length!==0&&(p+=m),qT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function R0(r,e,t,s=!1,o=!1){const u=new O2(r);let h;if(o)h=HT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function up(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await R0(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await R0(r,e,t,t==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e){const t=Hp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Sh(u,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function M2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function V2(r,e,t){const s=ys(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FT(e),{host:h,port:m}=P2(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),k2()}function FT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function P2(r){const e=FT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:C0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:C0(h)}}}function C0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function k2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,t){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function U2(r,e){return gs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function z2(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Xp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new su(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new su(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,t,"signInWithPassword",L2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,s,"signUpPassword",U2);case"emailLink":return z2(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="http://localhost";class sa extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Fp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}buildRequest(){const e={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(r){const e=ql(Hl(r)).link,t=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||t||e||r}class Wp{constructor(e){var t,s,o,u,h,m;const p=ql(Hl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=q2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=H2(e);try{return new Wp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,t){return su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Wp.parseLink(t);return Ee(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends wu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jr.credential(t,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends wu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends wu{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ji.credential(t,s)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,e){return Tu(r,"POST","/v1/accounts:signUp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),h=I0(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function I0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends fi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function GT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function G2(r,e,t=!1){const s=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return aa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e,t=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(ii(s));const o="reauthenticate";try{const u=await iu(r,GT(s,o,e,r),t);Ee(u.idToken,s,"internal-error");const h=Yp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),aa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(r,e,t=!1){if(Tn(r.app))return Promise.reject(ii(r));const s="signIn",o=await GT(r,s,e),u=await aa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function Q2(r,e){return KT(ys(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(r){const e=ys(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y2(r,e,t){if(Tn(r.app))return Promise.reject(ii(r));const s=ys(r),h=await up(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&QT(r),p}),m=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function $2(r,e,t){return Tn(r.app)?Promise.reject(ii(r)):Q2(vt(r),Io.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QT(r),s})}function X2(r,e,t,s){return vt(r).onIdTokenChanged(e,t,s)}function W2(r,e,t){return vt(r).beforeAuthStateChanged(e,t)}function Z2(r,e,t,s){return vt(r).onAuthStateChanged(e,t,s)}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1e3,eI=10;class $T extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);_2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$T.type="LOCAL";const tI=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XT.type="SESSION";const WT=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await nI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function iI(r){Tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function sI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function oI(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firebaseLocalStorageDb",lI=1,Nh="firebaseLocalStorage",ew="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function uI(){const r=indexedDB.deleteDatabase(JT);return new bu(r).toPromise()}function cp(){const r=indexedDB.open(JT,lI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:ew})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await uI(),e(await cp()))})})}async function D0(r,e,t){const s=rf(r,!0).put({[ew]:e,value:t});return new bu(s).toPromise()}async function cI(r,e){const t=rf(r,!1).get(e),s=await new bu(t).toPromise();return s===void 0?null:s.value}function N0(r,e){const t=rf(r,!0).delete(e);return new bu(t).toPromise()}const hI=800,fI=3;class tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>fI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(oI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await D0(e,Dh,"1"),await N0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tw.type="LOCAL";const dI=tw;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(r,e){return e?ni(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mI(r){return KT(r.auth,new eg(r),r.bypassAuthState)}function pI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),K2(t,new eg(r),r.bypassAuthState)}async function gI(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),G2(t,new eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mI;case"linkViaPopup":case"linkViaRedirect":return gI;case"reauthViaPopup":case"reauthViaRedirect":return pI;default:Hn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Eu(2e3,1e4);async function _I(r,e,t){if(Tn(r.app))return Promise.reject(er(r,"operation-not-supported-in-this-environment"));const s=ys(r);JC(r,e,Zp);const o=nw(s,t);return new ta(s,"signInViaPopup",e,o).executeNotNull()}class ta extends rw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yI.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="pendingRedirect",dh=new Map;class EI extends rw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await TI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TI(r,e){const t=SI(e),s=bI(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function wI(r,e){dh.set(r._key(),e)}function bI(r){return ni(r._redirectPersistence)}function SI(r){return fh(vI,r.config.apiKey,r.name)}async function AI(r,e,t=!1){if(Tn(r.app))return Promise.reject(ii(r));const s=ys(r),o=nw(s,e),h=await new EI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=10*60*1e3;class CI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!II(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!iw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RI&&this.cachedEventUids.clear(),this.cachedEventUids.has(O0(e))}saveEventToCache(e){this.cachedEventUids.add(O0(e)),this.lastProcessedEventTime=Date.now()}}function O0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function II(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e={}){return gs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OI=/^https?/;async function xI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DI(r);for(const t of e)try{if(MI(t))return}catch{}Hn(r,"unauthorized-domain")}function MI(r){const e=op(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!OI.test(t))return!1;if(NI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Eu(3e4,6e4);function x0(){const r=Tr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function PI(r){return new Promise((e,t)=>{var s,o,u;function h(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),t(er(r,"network-request-failed"))},timeout:VI.get()})}if(!((o=(s=Tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Tr().gapi)===null||u===void 0)&&u.load)h();else{const m=C2("iframefcb");return Tr()[m]=()=>{gapi.load?h():t(er(r,"network-request-failed"))},qT(`${R2()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw mh=null,e})}let mh=null;function kI(r){return mh=mh||PI(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Eu(5e3,15e3),LI="__/auth/iframe",jI="emulator/auth/iframe",zI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qp(e,jI):`https://${r.config.authDomain}/${LI}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=BI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${vu(s).slice(1)}`}async function HI(r){const e=await kI(r),t=Tr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:qI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=er(r,"network-request-failed"),m=Tr().setTimeout(()=>{u(h)},UI.get());function p(){Tr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GI=500,KI=600,QI="_blank",YI="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $I(r,e,t,s=GI,o=KI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},FI),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();t&&(m=PT(g)?QI:t),MT(g)&&(e=e||YI,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[I,x])=>`${S}${I}=${x},`,"");if(y2(g)&&m!=="_self")return XI(e||"",m),new M0(null);const T=window.open(e||"",m,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new M0(T)}function XI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="__/auth/handler",ZI="emulator/auth/handler",JI=encodeURIComponent("fac");async function V0(r,e,t,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Co,eventId:o};if(e instanceof Zp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",jR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof wu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${JI}=${encodeURIComponent(p)}`:"";return`${eD(r)}?${vu(m).slice(1)}${g}`}function eD({config:r}){return r.emulator?Qp(r,ZI):`https://${r.authDomain}/${WI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class tD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=AI,this._overrideRedirectResult=wI}async _openPopup(e,t,s,o){var u;li((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await V0(e,t,s,op(),o);return $I(e,h,Jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await V0(e,t,s,op(),o);return iI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(li(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await HI(e),s=new CI(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zm];h!==void 0&&t(!!h),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zT()||VT()||$p()}}const nD=tD;var P0="@firebase/auth",k0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sD(r){po(new ia("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(r)},g=new b2(s,o,u,p);return M2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),po(new ia("auth-internal",e=>{const t=ys(e.getProvider("auth").getImmediate());return(s=>new rD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(P0,k0,iD(r)),rs(P0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=5*60,oD=_T("authIdTokenMaxAge")||aD;let U0=null;const lD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>oD)return;const o=t==null?void 0:t.token;U0!==o&&(U0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sw(r=wT()){const e=Hp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=x2(r,{popupRedirectResolver:nD,persistence:[dI,tI,WT]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lD(u.toString());W2(t,h,()=>h(t.currentUser)),X2(t,m=>h(m))}}const o=gT("auth");return o&&V2(t,`http://${o}`),t}function uD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}S2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=er("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",uD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sD("Browser");var cD="firebase",hD="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(cD,hD,"app");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,aw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,U,B){for(var O=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)O[Et-2]=arguments[Et];return C.prototype[U].apply(N,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)N[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;16>U;++U)N[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],U=M.g[2];var B=M.g[3],O=C+(B^R&(U^B))+N[0]+3614090360&4294967295;C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[2]+606105819&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[3]+3250441966&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[4]+4118548399&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[6]+2821735955&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[7]+4249261313&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[8]+1770035416&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[10]+4294925233&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[11]+2304563134&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[12]+1804603682&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[14]+2792965006&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[15]+1236535329&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(U^B&(R^U))+N[1]+4129170786&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[11]+643717713&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[0]+3921069994&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[5]+3593408605&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[15]+3634488961&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[4]+3889429448&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[9]+568446438&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[3]+4107603335&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[8]+1163531501&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[13]+2850285829&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[7]+1735328473&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[12]+2368359562&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(R^U^B)+N[5]+4294588738&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[11]+1839030562&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[14]+4259657740&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[1]+2763975236&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[7]+4139469664&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[10]+3200236656&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[13]+681279174&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[3]+3572445317&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[6]+76029189&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[9]+3654602809&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[15]+530742520&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[2]+3299628645&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(U^(R|~B))+N[0]+4096336452&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[14]+2878612391&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[5]+4237533241&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[12]+1700485571&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[10]+4293915773&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[1]+2240044497&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[8]+1873313359&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[6]+2734768916&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[13]+1309151649&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[4]+4149444226&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[2]+718787259&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,N=this.B,U=this.h,B=0;B<C;){if(U==0)for(;B<=R;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<C;)if(N[U++]=M.charCodeAt(B++),U==this.blockSize){o(this,N),U=0;break}}else for(;B<C;)if(N[U++]=M[B++],U==this.blockSize){o(this,N),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)M[R++]=this.g[C]>>>N&255;return M};function u(M,C){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function h(M,C){this.h=C;for(var R=[],N=!0,U=M.length-1;0<=U;U--){var B=M[U]|0;N&&B==C||(R[U]=B,N=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return P(g(-M));for(var C=[],R=1,N=0;M>=R;N++)C[N]=M/R|0,R*=4294967296;return new h(C,0)}function E(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return P(E(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),N=T,U=0;U<M.length;U+=8){var B=Math.min(8,M.length-U),O=parseInt(M.substring(U,U+B),C);8>B?(B=g(Math.pow(C,B)),N=N.j(B).add(g(O))):(N=N.j(R),N=N.add(g(O)))}return N}var T=p(0),S=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-P(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(F(this))return"-"+P(this).toString(M);for(var C=g(Math.pow(M,6)),R=this,N="";;){var U=ie(R,C).g;R=K(R,U.j(C));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=U,x(R))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function F(M){return M.h==-1}r.l=function(M){return M=K(this,M),F(M)?-1:x(M)?0:1};function P(M){for(var C=M.g.length,R=[],N=0;N<C;N++)R[N]=~M.g[N];return new h(R,~M.h).add(S)}r.abs=function(){return F(this)?P(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0,U=0;U<=C;U++){var B=N+(this.i(U)&65535)+(M.i(U)&65535),O=(B>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);N=O>>>16,B&=65535,O&=65535,R[U]=O<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(M,C){return M.add(P(C))}r.j=function(M){if(x(this)||x(M))return T;if(F(this))return F(M)?P(this).j(P(M)):P(P(this).j(M));if(F(M))return P(this.j(P(M)));if(0>this.l(I)&&0>M.l(I))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<M.g.length;U++){var B=this.i(N)>>>16,O=this.i(N)&65535,Et=M.i(U)>>>16,ft=M.i(U)&65535;R[2*N+2*U]+=O*ft,X(R,2*N+2*U),R[2*N+2*U+1]+=B*ft,X(R,2*N+2*U+1),R[2*N+2*U+1]+=O*Et,X(R,2*N+2*U+1),R[2*N+2*U+2]+=B*Et,X(R,2*N+2*U+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new h(R,0)};function X(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function Y(M,C){this.g=M,this.h=C}function ie(M,C){if(x(C))throw Error("division by zero");if(x(M))return new Y(T,T);if(F(M))return C=ie(P(M),C),new Y(P(C.g),P(C.h));if(F(C))return C=ie(M,P(C)),new Y(P(C.g),C.h);if(30<M.g.length){if(F(M)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=C;0>=N.l(M);)R=re(R),N=re(N);var U=oe(R,1),B=oe(N,1);for(N=oe(N,2),R=oe(R,2);!x(N);){var O=B.add(N);0>=O.l(M)&&(U=U.add(R),B=O),N=oe(N,1),R=oe(R,1)}return C=K(M,U.j(C)),new Y(U,C)}for(U=T;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=g(R),O=B.j(C);F(O)||0<O.l(M);)R-=N,B=g(R),O=B.j(C);x(B)&&(B=S),U=U.add(B),M=K(M,O)}return new Y(U,M)}r.A=function(M){return ie(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&M.i(N);return new h(R,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|M.i(N);return new h(R,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^M.i(N);return new h(R,this.h^M.h)};function re(M){for(var C=M.g.length+1,R=[],N=0;N<C;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(R,M.h)}function oe(M,C){var R=C>>5;C%=32;for(var N=M.g.length-R,U=[],B=0;B<N;B++)U[B]=0<C?M.i(B+R)>>>C|M.i(B+R+1)<<32-C:M.i(B+R);return new h(U,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,is=h}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,Fl,lw,ph,hp,uw,cw,hw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[z].apply(b,se)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let se=0;se<Q;se++)c[z+se]=b[se]}else c.push(b)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var re=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function oe(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function O(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,_){const b=ft.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ft=new K(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ge=!1,He=new Et,V=()=>{const c=m.Promise.resolve(void 0);ve=()=>{c.then(ne)}};var ne=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){B(_)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ie(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,le);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),je=0;function it(c,y,_,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=z,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=An(c,y,b,z);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new it(y,this.src,Q,!!b,z),y.fa=_,c.push(y)),y};function Rr(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function An(c,y,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return z}return-1}var di="closure_lm_"+(1e6*Math.random()|0),mi={};function Cr(c,y,_,b,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Cr(c,y[Q],_,b,z);return null}return _=Vu(_),c&&c[dt]?c.K(y,_,g(b)?!!b.capture:!1,z):Mo(c,y,_,!1,b,z)}function Mo(c,y,_,b,z,Q){if(!y)throw Error("Invalid event type");var se=g(z)?!!z.capture:!!z,Pe=Vo(c);if(Pe||(c[di]=Pe=new en(c)),_=Pe.add(y,_,b,se,Q),_.proxy)return _;if(b=pa(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ue||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(ya(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pa(){function c(_){return y.call(c.src,c.listener,_)}const y=Cf;return c}function ga(c,y,_,b,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ga(c,y[Q],_,b,z);else b=g(b)?!!b.capture:!!b,_=Vu(_),c&&c[dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=An(Q,_,b,z),-1<_&&(Ke(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Vo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=An(y,_,b,z)),(_=-1<c?y[c]:null)&&Ts(_))}function Ts(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])Rr(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ya(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Vo(y))?(Rr(_,c),_.h==0&&(_.src=null,y[di]=null)):Ke(c)}}}function ya(c){return c in mi?mi[c]:mi[c]="on"+c}function Cf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ts(c),c=_.call(b,y)}return c}function Vo(c){return c=c[di],c instanceof en?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function Tt(){me.call(this),this.i=new en(this),this.M=this,this.F=null}x(Tt,me),Tt.prototype[dt]=!0,Tt.prototype.removeEventListener=function(c,y,_,b){ga(this,c,y,_,b)};function Dt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(b,c),N(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=y.g=_[Q];z=Ir(se,b,!0,y)&&z}if(se=y.g=c,z=Ir(se,b,!0,y)&&z,z=Ir(se,b,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)se=y.g=_[Q],z=Ir(se,b,!1,y)&&z}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ke(_[b]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Tt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Ir(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var se=y[Q];if(se&&!se.da&&se.capture==_){var Pe=se.listener,bt=se.ha||se.src;se.fa&&Rr(c.i,se),z=Pe.call(bt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Pu(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Po(c){c.g=Pu(()=>{c.g=null,c.i&&(c.i=!1,Po(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class If extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){me.call(this),this.h=c,this.g={}}x(ws,me);var pi=[];function Kt(c){oe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ts(y)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Kt(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,ir=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function ku(c){return c.h||(c.h=c.i())}function Uu(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){le.call(this,"d")}x(gi,le);function Gn(){le.call(this,"c")}x(Gn,le);var Rn={},yi=null;function _a(){return yi=yi||new Tt}Rn.La="serverreachability";function Lo(c){le.call(this,Rn.La,c)}x(Lo,le);function _i(c){const y=_a();Dt(y,new Lo(y))}Rn.STAT_EVENT="statevent";function va(c,y){le.call(this,Rn.STAT_EVENT,c),this.stat=y}x(va,le);function ut(c){const y=_a();Dt(y,new va(y,c))}Rn.Ma="timingevent";function Lu(c,y){le.call(this,Rn.Ma,c),this.size=y}x(Lu,le);function vi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function ju(c,y,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var se="",Pe=Q.split("&"),bt=0;bt<Pe.length;bt++){var ke=Pe[bt].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var St=xt.split("_");se=2<=St.length&&St[1]=="type"?se+(xt+"="+ke+"&"):se+(xt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+_+`
`+se})}function zu(c,y,_,b,z,Q,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+se})}function Ti(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nt(c,_)+(b?" "+b:"")})}function ar(c,y){c.info(function(){return"TIMEOUT: "+y})}Ei.prototype.info=function(){};function Nt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return ko(_)}catch{return y}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bs;function Ea(){}x(Ea,Uo),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},bs=new Ea;function or(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jo}function jo(){this.i=null,this.g="",this.h=!1}var wi={},Ss={};function Kn(c,y,_){c.L=1,c.v=Cs(st(y)),c.m=_,c.P=!0,Nr(c,null)}function Nr(c,y){c.F=Date.now(),et(c),c.A=st(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Mr(_.i,"t",b),c.C=0,_=c.j.J,c.h=new jo,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new If(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(pi[0]=z.toString()),z=pi);for(var Q=0;Q<z.length;Q++){var se=Cr(_,z[Q],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_i(),ju(c.i,c.u,c.A,c.l,c.R,c.m)}or.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},or.prototype.Y=function(c){try{if(c==this.g)e:{const St=On(this.g);var y=this.g.Ba();const Ur=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||St!=4||y==7||(y==8||0>=Ur?_i(3):_i(2)),Ta(this);var _=this.g.Z();this.X=_;t:if(bi(this)){var b=Ku(this.g);c="";var z=b.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),mn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,zu(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)Ti(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,_);else{this.o=!1,this.s=3,ut(12),cn(this),mn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=Si(this,se),Lt==Ss){St==4&&(this.s=4,ut(14),_=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==wi){this.s=4,ut(15),Ti(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Ti(this.i,this.l,Lt,null),pn(this,Lt);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Ti(this.i,this.l,se,"[Invalid Chunked Response]"),cn(this),mn(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Vs(xt),xt.M=!0,ut(11))}}else Ti(this.i,this.l,se,null),pn(this,se);St==4&&cn(this),this.o&&!this.J&&(St==4?Wu(this.j,this):(this.o=!1,et(this)))}else Vf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),cn(this),mn(this)}}}catch{}finally{}};function bi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Si(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Ss:(_=Number(y.substring(_,b)),isNaN(_)?wi:(b+=1,b+_>y.length?Ss:(y=y.slice(b,b+_),c.C=b+_,y)))}or.prototype.cancel=function(){this.J=!0,cn(this)};function et(c){c.S=Date.now()+c.I,zo(c,c.I)}function zo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vi(S(c.ba,c),y)}function Ta(c){c.B&&(m.clearTimeout(c.B),c.B=null)}or.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ar(this.i,this.A),this.L!=2&&(_i(),ut(17)),cn(this),this.s=2,mn(this)):zo(this,this.S-c)};function mn(c){c.j.G==0||c.J||Wu(c.j,c)}function cn(c){Ta(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Kt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function pn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ai(_.h,c))){if(!c.K&&Ai(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Oa(_),Da(_);else break e;Wo(_),ut(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=vi(S(_.Za,_),6e3));if(1>=Bu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((c.K||_.g==c)&&Oa(_),!X(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const xt=ke[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const St=ke[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Ur=ke[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(b=1.5*Ur,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const mr=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var Q=b.h;Q.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ri(Q,Q.h),Q.h=null))}if(b.D){const Jo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(b.ya=Jo,ze(b.I,b.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Ju(b,b.J?b.ia:null,b.W),se.K){Cn(b.h,se);var Pe=se,bt=b.L;bt&&(Pe.I=bt),Pe.B&&(Ta(Pe),et(Pe)),b.g=se}else $u(b);0<_.i.length&&Na(_)}else ke[0]!="stop"&&ke[0]!="close"||kr(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?kr(_,7):$o(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}_i(4)}catch{}}var Df=class{constructor(c,y){this.g=c,this.map=y}};function Bo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function Ai(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ri(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function qu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Nf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function As(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Nf(c),b=qu(c),z=b.length,Q=0;Q<z;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Or){this.h=c.h,Ci(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,_=new lr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ba(this,_),this.m=c.m}else c&&(y=String(c).match(Ho))?(this.h=!1,Ci(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),Rs(this,y[4]),this.l=Ii(y[5]||"",!0),ba(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Or.prototype.toString=function(){var c=[],y=this.j;y&&c.push(In(y,Fo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(In(y,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(In(_,_.charAt(0)=="/"?Go:Hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",In(_,Mf)),c.join("")};function st(c){return new Or(c)}function Ci(c,y,_){c.j=_?Ii(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ba(c,y,_){y instanceof lr?(c.i=y,Ko(c.i,c.h)):(_||(y=In(y,xf)),c.i=new lr(y,c.h))}function ze(c,y,_){c.i.set(y,_)}function Cs(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ii(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function In(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Of),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Of(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Hu=/[#\?:]/g,Go=/[#\?]/g,xf=/[#\?@]/g,Mf=/#/g;function lr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=lr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=Vr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Sa(c,y){Dn(c),y=Vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xr(c,y){return Dn(c),y=Vr(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(y,z,b,this)},this)},this)},r.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(y[b])}return _},r.V=function(c){Dn(this);let y=[];if(typeof c=="string")xr(this,c)&&(y=y.concat(this.g.get(Vr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Dn(this),this.i=null,c=Vr(this,c),xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Mr(c,y,_){Sa(c,y),0<_.length&&(c.i=null,c.g.set(Vr(c,y),F(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var z=Q;se[b]!==""&&(z+="="+encodeURIComponent(String(se[b]))),c.push(z)}}return this.i=c.join("&")};function Vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ko(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Sa(this,b),Mr(this,z,_))},c)),c.j=y}function Fu(c,y){const _=new Ei;if(m.Image){const b=new Image;b.onload=I(Nn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=I(Nn,_,"TestLoadImage: error",!1,y,b),b.onabort=I(Nn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(Nn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Is(c,y){const _=new Ei,b=new AbortController,z=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?Nn(_,"TestPingServer: ok",!0,y):Nn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(_,"TestPingServer: error",!1,y)})}function Nn(c,y,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Ds(){this.g=new tn}function ur(c,y,_){const b=_||"";try{As(c,function(z,Q){let se=z;g(z)&&(se=ko(z)),y.push(b+Q+"="+encodeURIComponent(se))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function Di(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Di,Uo),Di.prototype.g=function(){return new Pr(this.l,this.j)},Di.prototype.i=function(c){return function(){return c}}({});function Pr(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Pr,Tt),r=Pr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?cr(this):hr(this),this.readyState==3&&Qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,cr(this))},r.Qa=function(c){this.g&&(this.response=c,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return oe(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,y,_))}function Fe(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Fe,Tt);var Aa=/^https?$/i,Ns=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bs.g(),this.v=this.o?ku(this.o):ku(bs),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Gu(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Gu(this,Q)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ra(c),fr(c)}function Ra(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Pu(c.Ea,0,c);else if(Dt(c,"readystatechange"),On(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var z=String(c.D).match(Ho)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!Aa.test(z?z.toLowerCase():"")}_=b}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var Q=2<On(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ra(c)}}finally{fr(c)}}}}function fr(c,y){if(c.g){Os(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Dt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ir(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var _=U(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}M(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,c),this.cb=xs("retryDelaySeedMs",1e4,c),this.Wa=xs("forwardChannelMaxRetries",2,c),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){ut(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Ju(this,null,this.W),Na(this)};function $o(c){if(Qu(c),c.G==3){var y=c.U++,_=st(c.I);if(ze(_,"SID",c.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Ms(c,_),y=new or(c,c.j,y),y.L=2,y.v=Cs(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Zu(c)}function Da(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function Qu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!qo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ve||V(),ge||(ve(),ge=!0),He.add(y,c),c.B=0}}function Pf(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vi(S(c.Ga,c,y),Zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new or(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Yu(this,z,y),_=st(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Ms(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Yo(Q)))+"&"+y:this.m&&Ot(_,this.m,Q)),Ri(this.h,z),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),z.T=!0,Kn(z,_,null)):Kn(z,_,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||qo(this.h)||Xo(this))};function Xo(c,y){var _;y?_=y.l:_=c.U++;const b=st(c.I);ze(b,"SID",c.K),ze(b,"RID",_),ze(b,"AID",c.T),Ms(c,b),c.m&&c.o&&Ot(b,c.m,c.o),_=new or(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Yu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ri(c.h,_),Kn(_,b,y)}function Ms(c,y){c.H&&oe(c.H,function(_,b){ze(y,b,_)}),c.l&&As({},function(_,b){ze(y,b,_)})}function Yu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=z[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let Pe=!0;for(let bt=0;bt<_;bt++){let ke=z[bt].g;const xt=z[bt].map;if(ke-=Q,0>ke)Q=Math.max(0,z[bt].g-100),Pe=!1;else try{ur(xt,se,"req"+ke+"_")}catch{b&&b(xt)}}if(Pe){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ve||V(),ge||(ve(),ge=!0),He.add(y,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vi(S(c.Fa,c),Zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vi(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Da(this),Xu(this))};function Vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=st(c.qa);ze(y,"RID","rpc"),ze(y,"SID",c.K),ze(y,"AID",c.T),ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(y,"TO",c.ja),ze(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Cs(st(y)),_.m=null,_.P=!0,Nr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Da(this),Wo(this),ut(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var _=null;if(c.g==y){Oa(c),Vs(c),c.g=null;var b=2}else if(Ai(c.h,y))_=y.D,Cn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=_a(),Dt(b,new Lu(b,_)),Na(c)}else $u(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&Pf(c,y)||b==2&&Wo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function Zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function kr(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const z=!b;b=new Or(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ci(b,"https"),Cs(b),z?Fu(b.toString(),_):Is(b.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=nn(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var b=_ instanceof Or?st(_):new Or(_);if(b.g!="")y&&(b.g=y+"."+b.g),Rs(b,b.s);else{var z=m.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new Or(null);b&&Ci(Q,b),y&&(Q.g=y),z&&Rs(Q,z),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&ze(b,_,y),ze(b,"VER",c.la),Ms(c,b),b}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new Di({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new dr(this)}x(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){$o(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ko(c),c=_);y.i.push(new Df(y.Ya++,c)),y.G==3&&Na(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,rn.aa.N.call(this)};function nc(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(nc,gi);function rc(){Gn.call(this),this.status=1}x(rc,Gn);function dr(c){this.g=c}x(dr,tc),dr.prototype.ua=function(){Dt(this.g,"a")},dr.prototype.ta=function(c){Dt(this.g,new nc(c))},dr.prototype.sa=function(c){Dt(this.g,new rc)},dr.prototype.ra=function(){Dt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,hw=function(){return new xa},cw=function(){return _a()},uw=Rn,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,ph=wt,Dr.COMPLETE="complete",lw=Dr,Uu.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Fl=Uu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ow=Fe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",z0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Bp("@firebase/firestore");function so(){return oa.logLevel}function ce(r,...e){if(oa.logLevel<=Oe.DEBUG){const t=e.map(tg);oa.debug(`Firestore (${Do}): ${r}`,...t)}}function ui(r,...e){if(oa.logLevel<=Oe.ERROR){const t=e.map(tg);oa.error(`Firestore (${Do}): ${r}`,...t)}}function go(r,...e){if(oa.logLevel<=Oe.WARN){const t=e.map(tg);oa.warn(`Firestore (${Do}): ${r}`,...t)}}function tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+r;throw ui(e),new Error(e)}function Ge(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class dD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new fw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Xt(e)}}class pD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new pD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new B0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new B0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_D(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function yo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,H0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*H0);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<q0)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class Er{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Er.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Er.isNumericId(e),o=Er.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Er.extractNumericId(e).compare(Er.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class Ze extends Er{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Er{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return vD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new Ft([F0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function ED(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new os(o,ye.empty(),e)}function TD(r){return new os(r.readTime,r.key,au)}class os{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new os(we.min(),ye.empty(),au)}static max(){return new os(we.max(),ye.empty(),au)}}function wD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==bD)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function AD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function af(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function RD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function CD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=G0(e)),e=ID(r.get(t),e);return G0(e)}function ID(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case mw:t+="";break;default:t+=u}}return t}function G0(r){return r+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _s(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function pw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let t=new It(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gw("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Ge(!!r),typeof r=="string"){let e=0;const t=DD.exec(r);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(r.seconds),nanos:ht(r.nanos)}}function ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="server_timestamp",_w="__type__",vw="__previous_value__",Ew="__local_write_time__";function rg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[_w])===null||t===void 0?void 0:t.stringValue)===yw}function of(r){const e=r.mapValue.fields[vw];return rg(e)?of(e):e}function ou(r){const e=ls(r.mapValue.fields[Ew].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const xh="(default)";class lu{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",OD="__max__",sh={mapValue:{}},ww="__vector__",Mh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rg(r)?4:MD(r)?9007199254740991:xD(r)?10:11:Te()}function Sr(r,e){if(r===e)return!0;const t=cs(r);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ou(r).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ls(o.timestampValue),m=ls(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ht(o.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ht(o.integerValue)===ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ht(o.doubleValue),m=ht(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(K0(h)!==K0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Sr(h[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function uu(r,e){return(r.values||[]).find(t=>Sr(t,e))!==void 0}function _o(r,e){if(r===e)return 0;const t=cs(r),s=cs(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ht(u.integerValue||u.doubleValue),p=ht(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Y0(r.timestampValue,e.timestampValue);case 4:return Y0(ou(r),ou(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,h){const m=us(u),p=us(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(ht(u.latitude),ht(h.latitude));return m!==0?m:Ve(ht(u.longitude),ht(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return $0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const T=u.fields||{},S=h.fields||{},I=(m=T[Mh])===null||m===void 0?void 0:m.arrayValue,x=(p=S[Mh])===null||p===void 0?void 0:p.arrayValue,F=Ve(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:$0(I,x)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=Ve(p[T],E[T]);if(S!==0)return S;const I=_o(m[p[T]],g[E[T]]);if(I!==0)return I}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Y0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const t=ls(r),s=ls(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function $0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=_o(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function vo(r){return fp(r)}function fp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ls(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return us(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=fp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${fp(t.fields[h])}`;return o+"}"}(r.mapValue):Te()}function gh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return _s(s.fields,(u,h)=>{o+=u.length+gh(h)}),o}(r.mapValue);default:throw Te()}}function X0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dp(r){return!!r&&"integerValue"in r}function ig(r){return!!r&&"arrayValue"in r}function W0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function xD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tw])===null||t===void 0?void 0:t.stringValue)===ww}function Wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Wl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function MD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Wl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_s(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new dn(Wl(this.value))}}function bw(r){const e=[];return _s(r.fields,(t,s)=>{const o=new Ft([t]);if(yh(s)){const u=bw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function J0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=_o(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Sr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function VD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{}class _t extends Sw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kD(e,t,s):t==="array-contains"?new jD(e,s):t==="in"?new zD(e,s):t==="not-in"?new BD(e,s):t==="array-contains-any"?new qD(e,s):new _t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new UD(e,s):new LD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_o(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Sw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new nr(e,t)}matches(e){return Aw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Aw(r){return r.op==="and"}function Rw(r){return PD(r)&&Aw(r)}function PD(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function mp(r){if(r instanceof _t)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(Rw(r))return r.filters.map(e=>mp(e)).join(",");{const e=r.filters.map(t=>mp(t)).join(",");return`${r.op}(${e})`}}function Cw(r,e){return r instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&Sr(s.value,o.value)}(r,e):r instanceof nr?function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Cw(h,o.filters[m]),!0):!1}(r,e):void Te()}function Iw(r){return r instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${vo(t.value)}`}(r):r instanceof nr?function(t){return t.op.toString()+" {"+t.getFilters().map(Iw).join(" ,")+"}"}(r):"Filter"}class kD extends _t{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class UD extends _t{constructor(e,t){super(e,"in",t),this.keys=Dw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LD extends _t{constructor(e,t){super(e,"not-in",t),this.keys=Dw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class jD extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&uu(t.arrayValue,this.value)}}class zD extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uu(this.value.arrayValue,t)}}class BD extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!uu(this.value.arrayValue,t)}}class qD extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>uu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function tE(r,e=null,t=[],s=[],o=null,u=null,h=null){return new HD(r,e,t,s,o,u,h)}function sg(r){const e=Se(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>mp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vo(s)).join(",")),e.le=t}return e.le}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!VD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Cw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!eE(r.startAt,e.startAt)&&eE(r.endAt,e.endAt)}function pp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FD(r,e,t,s,o,u,h,m){return new Su(r,e,t,s,o,u,h,m)}function lf(r){return new Su(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Nw(r){return r.collectionGroup!==null}function Zl(r){const e=Se(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new It(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ph(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new Ph(Ft.keyField(),s))}return e.he}function wr(r){const e=Se(r);return e.Pe||(e.Pe=GD(e,Zl(r))),e.Pe}function GD(r,e){if(r.limitType==="F")return tE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const t=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function gp(r,e){const t=r.filters.concat([e]);return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yp(r,e,t){return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function uf(r,e){return ag(wr(r),wr(e))&&r.limitType===e.limitType}function Ow(r){return`${sg(wr(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Iw(o)).join(", ")}]`),af(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>vo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(wr(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=J0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(h,m,p){const g=J0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(r,e)}function KD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xw(r){return(e,t)=>{let s=!1;for(const o of Zl(r)){const u=QD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QD(r,e,t){const s=r.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):Te()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new rt(ye.comparator);function ci(){return YD}const Mw=new rt(ye.comparator);function Gl(...r){let e=Mw;for(const t of r)e=e.insert(t.key,t);return e}function Vw(r){let e=Mw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function na(){return Jl()}function Pw(){return Jl()}function Jl(){return new ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const $D=new rt(ye.comparator),XD=new It(ye.comparator);function xe(...r){let e=XD;for(const t of r)e=e.add(t);return e}const WD=new It(Ve);function ZD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function kw(r){return{integerValue:""+r}}function JD(r,e){return RD(e)?kw(e):og(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function eN(r,e,t){return r instanceof kh?function(o,u){const h={fields:{[_w]:{stringValue:yw},[Ew]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rg(u)&&(u=of(u)),u&&(h.fields[vw]=u),{mapValue:h}}(t,e):r instanceof cu?Lw(r,e):r instanceof hu?jw(r,e):function(o,u){const h=Uw(o,u),m=rE(h)+rE(o.Ie);return dp(h)&&dp(o.Ie)?kw(m):og(o.serializer,m)}(r,e)}function tN(r,e,t){return r instanceof cu?Lw(r,e):r instanceof hu?jw(r,e):t}function Uw(r,e){return r instanceof Uh?function(s){return dp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class kh extends hf{}class cu extends hf{constructor(e){super(),this.elements=e}}function Lw(r,e){const t=zw(e);for(const s of r.elements)t.some(o=>Sr(o,s))||t.push(s);return{arrayValue:{values:t}}}class hu extends hf{constructor(e){super(),this.elements=e}}function jw(r,e){let t=zw(e);for(const s of r.elements)t=t.filter(o=>!Sr(o,s));return{arrayValue:{values:t}}}class Uh extends hf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function rE(r){return ht(r.integerValue||r.doubleValue)}function zw(r){return ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?yo(s.elements,o.elements,Sr):s instanceof Uh&&o instanceof Uh?Sr(s.Ie,o.Ie):s instanceof kh&&o instanceof kh}(r.transform,e.transform)}class rN{constructor(e,t){this.version=e,this.transformResults=t}}class on{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function Bw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new df(r.key,on.none()):new Au(r.key,r.data,on.none());{const t=r.data,s=dn.empty();let o=new It(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new vs(r.key,s,new wn(o.toArray()),on.none())}}function iN(r,e,t){r instanceof Au?function(o,u,h){const m=o.value.clone(),p=sE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof vs?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=sE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(qw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function eu(r,e,t,s){return r instanceof Au?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=u.value.clone(),E=aE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof vs?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=aE(u.fieldTransforms,p,h),E=h.data;return E.setAll(qw(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,h,m){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function sN(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Uw(s.transform,o||null);u!=null&&(t===null&&(t=dn.empty()),t.set(s.field,u))}return t||null}function iE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,h)=>nN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends ff{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends ff{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function sE(r,e,t){const s=new Map;Ge(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,tN(h,m,t[o]))}return s}function aE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,eN(u,h,e))}return s}class df extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=eu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=eu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Pw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=Bw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(t,s)=>iE(t,s))&&yo(this.baseMutations,e.baseMutations,(t,s)=>iE(t,s))}}class lg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length);let o=function(){return $D}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Le;function cN(r){switch(r){case J.OK:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te()}}function Hw(r){if(r===void 0)return ui("GRPC error has no .code"),J.UNKNOWN;switch(r){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Le=yt||(yt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new is([4294967295,4294967295],0);function oE(r){const e=hN().encode(r),t=new aw;return t.update(e),new Uint8Array(t.digest())}function lE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([t,s],0),new is([o,u],0)]}class ug{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=is.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(is.fromNumber(s)));return o.compare(fN)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=oE(e),[s,o]=lE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ug(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=oE(e),[s,o]=lE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mf(we.min(),o,new rt(Ve),ci(),xe())}}class Ru{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ru(s,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Fw{constructor(e,t){this.targetId=e,this.ge=t}}class Gw{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class uE{constructor(){this.pe=0,this.ye=cE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xe(),t=xe(),s=xe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Ru(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=cE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=ah(),this.Ke=ah(),this.Ue=new rt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(pp(u))if(s===0){const h=new ye(u.path);this.ze(t,h,Wt.newNoDocument(h,we.min()))}else Ge(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=us(s).toUint8Array()}catch(p){if(p instanceof gw)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ug(h,o,u)}catch(p){return go(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&pp(m.target)){const p=new ye(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Wt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=xe();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new mf(e,t,this.Ue,this.Qe,s);return this.Qe=ci(),this.$e=ah(),this.Ke=ah(),this.Ue=new rt(Ve),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new uE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new It(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new It(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new uE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ah(){return new rt(ye.comparator)}function cE(){return new rt(ye.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(r,e){return r.useProto3Json||af(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _N(r,e){return Lh(r,e.toTimestamp())}function br(r){return Ge(!!r),we.fromTimestamp(function(t){const s=ls(t);return new Ct(s.seconds,s.nanos)}(r))}function cg(r,e){return vp(r,e).canonicalString()}function vp(r,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Qw(r){const e=Ze.fromString(r);return Ge(Zw(e)),e}function Ep(r,e){return cg(r.databaseId,e.path)}function Bm(r,e){const t=Qw(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye($w(t))}function Yw(r,e){return cg(r.databaseId,e)}function vN(r){const e=Qw(r);return e.length===4?Ze.emptyPath():$w(e)}function Tp(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $w(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function hE(r,e,t){return{name:Ep(r,e),fields:t.value.mapValue.fields}}function EN(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?J.UNKNOWN:Hw(g.code);return new he(E,g.message||"")}(h);t=new Gw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(r,s.document.name),u=br(s.document.updateTime),h=s.document.createTime?br(s.document.createTime):we.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new vh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bm(r,s.document),u=s.readTime?br(s.readTime):we.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bm(r,s.document),u=s.removedTargetIds||[];t=new vh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new uN(o,u),m=s.targetId;t=new Fw(m,h)}}return t}function TN(r,e){let t;if(e instanceof Au)t={update:hE(r,e.key,e.value)};else if(e instanceof df)t={delete:Ep(r,e.key)};else if(e instanceof vs)t={update:hE(r,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof aN))return Te();t={verify:Ep(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),t}function wN(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?br(o.updateTime):br(u);return h.isEqual(we.min())&&(h=br(u)),new rN(h,o.transformResults||[])}(t,e))):[]}function bN(r,e){return{documents:[Yw(r,e.path)]}}function SN(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Yw(r,o);const u=function(g){if(g.length!==0)return Ww(nr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:oo(S.field),direction:CN(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=_p(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function AN(r){let e=vN(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const S=Xw(T);return S instanceof nr&&Rw(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(x){return new Ph(lo(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(T){let S;return S=typeof T=="object"?T.value:T,af(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,I=T.values||[];return new Vh(I,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,I=T.values||[];return new Vh(I,S)}(t.endAt)),FD(e,o,h,u,m,"F",p,g)}function RN(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return _t.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return _t.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return nr.create(t.compositeFilter.filters.map(s=>Xw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function CN(r){return mN[r]}function IN(r){return pN[r]}function DN(r){return gN[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Ft.fromServerFormat(r.fieldPath)}function Ww(r){return r instanceof _t?function(t){if(t.op==="=="){if(Z0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(W0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(W0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:IN(t.op),value:t.value}}}(r):r instanceof nr?function(t){const s=t.getFilters().map(o=>Ww(o));return s.length===1?s[0]:{compositeFilter:{op:DN(t.op),filters:s}}}(r):Te()}function NN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,s,o,u=we.min(),h=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.Tt=e}}function xN(r){const e=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Tn=new VN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(os.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class VN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new It(Ze.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jw=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Jw,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Eo(0)}static Un(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",PN=1048576;function mE([r,e],[t,s]){const o=Ve(r,t);return o===0?Ve(e,s):o}class kN{constructor(e){this.Hn=e,this.buffer=new It(mE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();mE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(dE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oo(t)?ce(dE,"Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.er(3e5)})}}class LN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(sf.ae);const s=new kN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(fE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),so()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function jN(r,e){return new LN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&eu(s.mutation,o,wn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=xe()){const o=na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Gl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=na();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,xe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ci();const h=Jl(),m=function(){return Jl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),eu(E.mutation,g,E.mutation.getFieldMask(),Ct.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return m.set(g,new BN(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Jl();let o=new rt((h,m)=>h-m),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||xe()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Pw();E.forEach(S=>{if(!u.has(S)){const I=Bw(t.get(S),s.get(S));I!==null&&T.set(S,I),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(na());let m=au,p=u;return h.next(g=>ee.forEach(g,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,xe())).next(E=>({batchId:m,changes:Vw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(T,S){return new Su(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let m=Gl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,g,wn.empty(),Ct.now()),cf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:xN(o.bundledQuery),readTime:br(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=na();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=na(),u=t.length+1,h=new ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new rt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new lN(t,s));let u=this.Rr.get(t);u===void 0&&(u=xe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Vr=new It(kt.mr),this.gr=new It(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new kt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ye(new Ze([])),s=new kt(t,e),o=new kt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Ze([])),s=new kt(t,e),o=new kt(t,e+1);let u=xe();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new kt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new It(kt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new oN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new It(Ve);return t.forEach(o=>{const u=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new kt(new ye(u),0);let m=new It(Ve);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),ee.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(t.mutations,o=>{const u=new kt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new kt(t,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=ci();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ci();const h=t.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wD(TD(E),s)<=0||(o.has(E.key)||cf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te()}qr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new YN(this)}getSize(e){return ee.resolve(this.size)}}class YN extends zN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.persistence=e,this.Qr=new ha(t=>sg(t),ag),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new hg,this.targetCount=0,this.Ur=Eo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Eo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sf(0),this.zr=!1,this.zr=!0,this.jr=new GN,this.referenceDelegate=e(this),this.Hr=new $N(this),this.indexManager=new MN,this.remoteDocumentCache=function(o){return new QN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ON(t),this.Yr=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new KN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new XN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class XN extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.ti=new hg,this.ni=null}static ri(e){return new fg(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.oi=new ha(s=>CD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=jN(this,t)}static ri(e,t){return new jh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}ar(e,t,s){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=xe(),o=xe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MR()?8:AD(Jt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new WN;return this._s(e,t,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(so()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(so()<=Oe.DEBUG&&ce("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):ee.resolve())}rs(e,t){if(nE(t))return ee.resolve(null);let s=wr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=yp(t,null,"F"),s=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=xe(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,h,p.readTime)?this.rs(e,yp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return nE(t)||o.isEqual(we.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?ee.resolve(null):(so()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.hs(e,h,t,ED(o,au)).next(m=>m))})}cs(e,t){let s=new It(xw(e));return t.forEach((o,u)=>{cf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return so()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ao(t)),this.ns.getDocumentsMatchingQuery(e,t,os.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",JN=3e8;class eO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Ve),this.Is=new ha(u=>sg(u),ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tO(r,e,t,s){return new eO(r,e,t,s)}async function tb(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=xe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function nO(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const T=g.batch,S=T.keys();let I=ee.resolve();return S.forEach(x=>{I=I.next(()=>E.getEntry(p,x)).next(F=>{const P=g.docVersions.get(x);Ge(P!==null),F.version.compareTo(P)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function nb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function rO(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,T)=>{const S=o.get(T);if(!S)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(T,I),function(F,P,K){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=JN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,I,E)&&m.push(t.Hr.updateTargetData(u,I))});let p=ci(),g=xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(iO(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function iO(r,e,t){let s=xe(),o=xe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ci();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(mg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function sO(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ng),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function aO(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new es(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function wp(r,e,t){const s=Se(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Oo(h))throw h;ce(mg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function pE(r,e,t){const s=Se(r);let o=we.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Se(p),S=T.Is.get(E);return S!==void 0?ee.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,E)}(s,h,wr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:xe())).next(m=>(oO(s,KD(e),m),{documents:m,gs:u})))}function oO(r,e,t){let s=r.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class gE{constructor(){this.activeTargetIds=ZD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lO{constructor(){this.ho=new gE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class _E{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function bp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=bp(),m=this.bo(e,t.toUriEncodedString());ce(qm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(qm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw go(qm,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=cO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class dO extends hO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=bp();return new Promise((h,m)=>{const p=new ow;p.setWithCredentials(!0),p.listenOnce(lw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ph.NO_ERROR:const E=p.getResponseJson();ce($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ph.TIMEOUT:ce($t,`RPC '${e}' ${u} timed out`),m(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const T=p.getStatus();if(ce($t,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const x=function(P){const K=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(K)>=0?K:J.UNKNOWN}(I.status);m(new he(x,I.message))}else m(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce($t,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=bp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=hw(),m=cw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let S=!1,I=!1;const x=new fO({Fo:P=>{I?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(S||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ce($t,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Mo:()=>T.close()}),F=(P,K,X)=>{P.listen(K,Y=>{try{X(Y)}catch(ie){setTimeout(()=>{throw ie},0)}})};return F(T,Fl.EventType.OPEN,()=>{I||(ce($t,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),F(T,Fl.EventType.CLOSE,()=>{I||(I=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),x.Ko())}),F(T,Fl.EventType.ERROR,P=>{I||(I=!0,go($t,`RPC '${e}' stream ${o} transport errored:`,P),x.Ko(new he(J.UNAVAILABLE,"The operation could not be completed")))}),F(T,Fl.EventType.MESSAGE,P=>{var K;if(!I){const X=P.data[0];Ge(!!X);const Y=X,ie=(Y==null?void 0:Y.error)||((K=Y[0])===null||K===void 0?void 0:K.error);if(ie){ce($t,`RPC '${e}' stream ${o} received error:`,ie);const re=ie.status;let oe=function(R){const N=yt[R];if(N!==void 0)return Hw(N)}(re),M=ie.message;oe===void 0&&(oe=J.INTERNAL,M="Unknown error status: "+re+" with message "+ie.message),I=!0,x.Ko(new he(oe,M)),T.close()}else ce($t,`RPC '${e}' stream ${o} received:`,X),x.Uo(X)}}),F(m,uw.STAT_EVENT,P=>{P.stat===hp.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===hp.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(r){return new yN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class ib{constructor(e,t,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mO extends ib{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=EN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?br(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Tp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=pp(p)?{documents:bN(u,p)}:{query:SN(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Kw(u,h.resumeToken);const g=_p(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Lh(u,h.snapshotVersion.toTimestamp());const g=_p(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=RN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Tp(this.serializer),t.removeTarget=e,this.I_(t)}}class pO extends ib{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=wN(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Tp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>TN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{}class yO extends gO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,vp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,vp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class vO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{fa(this)&&(ce(la,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await Cu(g),g.j_.set("Unknown"),g.W_.delete(4),await gf(g)}(this))})}),this.j_=new _O(s,o)}}async function gf(r){if(fa(r))for(const e of r.G_)await e(!0)}async function Cu(r){for(const e of r.G_)await e(!1)}function sb(r,e){const t=Se(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_g(t)?yg(t):xo(t).c_()&&gg(t,e))}function pg(r,e){const t=Se(r),s=xo(t);t.U_.delete(e),s.c_()&&ab(t,e),t.U_.size===0&&(s.c_()?s.P_():fa(t)&&t.j_.set("Unknown"))}function gg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(r).y_(e)}function ab(r,e){r.H_.Ne(e),xo(r).w_(e)}function yg(r){r.H_=new dN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.j_.B_()}function _g(r){return fa(r)&&!xo(r).u_()&&r.U_.size>0}function fa(r){return Se(r).W_.size===0}function ob(r){r.H_=void 0}async function EO(r){r.j_.set("Online")}async function TO(r){r.U_.forEach((e,t)=>{gg(r,e)})}async function wO(r,e){ob(r),_g(r)?(r.j_.q_(e),yg(r)):r.j_.set("Unknown")}async function bO(r,e,t){if(r.j_.set("Online"),e instanceof Gw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof vh?r.H_.We(e):e instanceof Fw?r.H_.Ze(e):r.H_.je(e),!t.isEqual(we.min()))try{const s=await nb(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),ab(u,p);const T=new es(E.target,p,g,E.sequenceNumber);gg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ce(la,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,t){if(!Oo(e))throw e;r.W_.add(1),await Cu(r),r.j_.set("Offline"),t||(t=()=>nb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(la,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await gf(r)})}function lb(r,e){return e().catch(t=>zh(r,t,e))}async function yf(r){const e=Se(r),t=hs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ng;for(;SO(e);)try{const o=await sO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,AO(e,o)}catch(o){await zh(e,o)}ub(e)&&cb(e)}function SO(r){return fa(r)&&r.K_.length<10}function AO(r,e){r.K_.push(e);const t=hs(r);t.c_()&&t.S_&&t.b_(e.mutations)}function ub(r){return fa(r)&&!hs(r).u_()&&r.K_.length>0}function cb(r){hs(r).start()}async function RO(r){hs(r).C_()}async function CO(r){const e=hs(r);for(const t of r.K_)e.b_(t.mutations)}async function IO(r,e,t){const s=r.K_.shift(),o=lg.from(s,e,t);await lb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yf(r)}async function DO(r,e){e&&hs(r).S_&&await async function(s,o){if(function(h){return cN(h)&&h!==J.ABORTED}(o.code)){const u=s.K_.shift();hs(s).h_(),await lb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(s)}}(r,e),ub(r)&&cb(r)}async function EE(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const s=fa(t);t.W_.add(3),await Cu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gf(t)}async function NO(r,e){const t=Se(r);e?(t.W_.delete(2),await gf(t)):e||(t.W_.add(2),await Cu(t),t.j_.set("Unknown"))}function xo(r){return r.J_||(r.J_=function(t,s,o){const u=Se(t);return u.M_(),new mO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:EO.bind(null,r),No:TO.bind(null,r),Lo:wO.bind(null,r),p_:bO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),_g(r)?yg(r):r.j_.set("Unknown")):(await r.J_.stop(),ob(r))})),r.J_}function hs(r){return r.Y_||(r.Y_=function(t,s,o){const u=Se(t);return u.M_(),new pO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:RO.bind(null,r),Lo:DO.bind(null,r),D_:CO.bind(null,r),v_:IO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await yf(r)):(await r.Y_.stop(),r.K_.length>0&&(ce(la,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new vg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Oo(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Gl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Z_=new rt(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class To{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new To(e,t,mo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class xO{constructor(){this.queries=wE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=wE(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function wE(){return new ha(r=>Ow(r),uf)}async function Tg(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new OO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Eg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&bg(t)}async function wg(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function MO(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&bg(t)}function VO(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function bg(r){r.ia.forEach(e=>{e.next()})}var Sp,bE;(bE=Sp||(Sp={}))._a="default",bE.Cache="cache";class Sg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class PO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xe(),this.mutatedKeys=xe(),this.ya=xw(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new TE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const S=o.get(E),I=cf(this.query,T)?T:null,x=!!S&&this.mutatedKeys.has(S.key),F=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;S&&I?S.data.isEqual(I.data)?x!==F&&(s.track({type:3,doc:I}),P=!0):this.va(S,I)||(s.track({type:2,doc:I}),P=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(m=!0)):!S&&I?(s.track({type:0,doc:I}),P=!0):S&&!I&&(s.track({type:1,doc:S}),P=!0,(p||g)&&(m=!0)),P&&(I?(h=h.add(I),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(I,x){const F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return F(I)-F(x)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new To(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new fb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new hb(s))}),t}Oa(e){this.fa=e.gs,this.pa=xe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ag="SyncEngine";class kO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UO{constructor(e){this.key=e,this.Ba=!1}}class LO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ha(m=>Ow(m),uf),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ka=new Map,this.Ua=new hg,this.Wa={},this.Ga=new Map,this.za=Eo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jO(r,e,t=!0){const s=_b(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await db(s,e,t,!0),o}async function zO(r,e){const t=_b(r);await db(t,e,!0,!1)}async function db(r,e,t,s){const o=await aO(r.localStore,wr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await BO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&sb(r.remoteStore,o),m}async function BO(r,e,t,s,o){r.Ha=(T,S,I)=>async function(F,P,K,X){let Y=P.view.ba(K);Y.ls&&(Y=await pE(F.localStore,P.query,!1).then(({documents:M})=>P.view.ba(M,Y)));const ie=X&&X.targetChanges.get(P.targetId),re=X&&X.targetMismatches.get(P.targetId)!=null,oe=P.view.applyChanges(Y,F.isPrimaryClient,ie,re);return AE(F,P.targetId,oe.Ma),oe.snapshot}(r,T,S,I);const u=await pE(r.localStore,e,!0),h=new PO(e,u.gs),m=h.ba(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);AE(r,t,g.Ma);const E=new kO(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function qO(r,e,t){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!uf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&pg(s.remoteStore,o.targetId),Ap(s,o.targetId)}).catch(No)):(Ap(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function HO(r,e){const t=Se(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),pg(t.remoteStore,s.targetId))}async function FO(r,e,t){const s=WO(r);try{const o=await function(h,m){const p=Se(h),g=Ct.now(),E=m.reduce((I,x)=>I.add(x.key),xe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=ci(),F=xe();return p.ds.getEntries(I,E).next(P=>{x=P,x.forEach((K,X)=>{X.isValidDocument()||(F=F.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(P=>{T=P;const K=[];for(const X of m){const Y=sN(X,T.get(X.key).overlayedDocument);Y!=null&&K.push(new vs(X.key,Y,bw(Y.value.mapValue),on.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,K,m)}).next(P=>{S=P;const K=P.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(I,P.batchId,K)})}).then(()=>({batchId:S.batchId,changes:Vw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new rt(Ve)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Iu(s,o.changes),await yf(s.remoteStore)}catch(o){const u=Eg(o,"Failed to persist write");t.reject(u)}}async function mb(r,e){const t=Se(r);try{const s=await rO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ge(h.Ba):o.removedDocuments.size>0&&(Ge(h.Ba),h.Ba=!1))}),await Iu(t,s,e)}catch(s){await No(s)}}function SE(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach((E,T)=>{for(const S of T.ta)S.sa(m)&&(g=!0)}),g&&bg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GO(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new rt(ye.comparator);h=h.insert(u,Wt.newNoDocument(u,we.min()));const m=xe().add(u),p=new mf(we.min(),new Map,new rt(Ve),h,m);await mb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Rg(s)}else await wp(s.localStore,e,!1).then(()=>Ap(s,e,t)).catch(No)}async function KO(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await nO(t.localStore,e);gb(t,s,null),pb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(t,o)}catch(o){await No(o)}}async function QO(r,e,t){const s=Se(r);try{const o=await function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Ge(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);gb(s,e,t),pb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Iu(s,o)}catch(o){await No(o)}}function pb(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function gb(r,e,t){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Ap(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||yb(r,s)})}function yb(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(pg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Rg(r))}function AE(r,e,t){for(const s of t)s instanceof hb?(r.Ua.addReference(s.key,e),YO(r,s)):s instanceof fb?(ce(Ag,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||yb(r,s.key)):Te()}function YO(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(ce(Ag,"New document in limbo: "+t),r.Qa.add(s),Rg(r))}function Rg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ye(Ze.fromString(e)),s=r.za.next();r.Ka.set(s,new UO(t)),r.$a=r.$a.insert(t,s),sb(r.remoteStore,new es(wr(lf(t.path)),s,"TargetPurposeLimboResolution",sf.ae))}}async function Iu(r,e,t){const s=Se(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=dg.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,S=>ee.forEach(S.Hi,I=>E.persistence.referenceDelegate.addReference(T,S.targetId,I)).next(()=>ee.forEach(S.Ji,I=>E.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))}catch(T){if(!Oo(T))throw T;ce(mg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=E.Ts.get(S),x=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(x);E.Ts=E.Ts.insert(S,F)}}}(s.localStore,u))}async function $O(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ce(Ag,"User change. New user:",e.toKey());const s=await tb(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new he(J.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(t,s.Rs)}}function XO(r,e){const t=Se(r),s=t.Ka.get(e);if(s&&s.Ba)return xe().add(s.key);{let o=xe();const u=t.qa.get(e);if(!u)return o;for(const h of u){const m=t.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function _b(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GO.bind(null,e),e.La.p_=MO.bind(null,e.eventManager),e.La.Ja=VO.bind(null,e.eventManager),e}function WO(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QO.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tO(this.persistence,new ZN,e.initialUser,this.serializer)}Xa(e){return new eb(fg.ri,this.serializer)}Za(e){return new lO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class ZO extends Bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ge(this.persistence.referenceDelegate instanceof jh);const s=this.persistence.referenceDelegate.garbageCollector;return new UN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new eb(s=>jh.ri(s,t),this.serializer)}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xO}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=function(u){return new dO(u)}(e.databaseInfo);return function(u,h,m,p){return new yO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new vO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>SE(this.syncEngine,t,0),function(){return _E.D()?new _E:new uO}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const T=new LO(o,u,h,m,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ce(la,"RemoteStore shutting down."),u.W_.add(5),await Cu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class JO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Eg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(fs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function RE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ex(r);ce(fs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>EE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>EE(e.remoteStore,o)),r._onlineComponents=e}async function ex(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(fs,"Using user provided OfflineComponentProvider");try{await Fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;go("Error using user provided cache. Falling back to memory cache: "+t),await Fm(r,new Bh)}}else ce(fs,"Using default OfflineComponentProvider"),await Fm(r,new ZO(void 0));return r._offlineComponents}async function vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(fs,"Using user provided OnlineComponentProvider"),await RE(r,r._uninitializedComponentsProvider._online)):(ce(fs,"Using default OnlineComponentProvider"),await RE(r,new Rp))),r._onlineComponents}function tx(r){return vb(r).then(e=>e.syncEngine)}async function qh(r){const e=await vb(r),t=e.eventManager;return t.onListen=jO.bind(null,e.syncEngine),t.onUnlisten=qO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HO.bind(null,e.syncEngine),t}function nx(r,e,t={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Cg({next:S=>{E.su(),h.enqueueAndForget(()=>wg(u,T));const I=S.docs.has(m);!I&&S.fromCache?g.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Sg(lf(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Tg(u,T)}(await qh(r),r.asyncQueue,e,t,s)),s.promise}function rx(r,e,t={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Cg({next:S=>{E.su(),h.enqueueAndForget(()=>wg(u,T)),S.fromCache&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Sg(m,E,{includeMetadataChanges:!0,Ta:!0});return Tg(u,T)}(await qh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ix(r,e,t,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function IE(r){if(!ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function DE(r){if(ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firestore.googleapis.com",NE=!0;class OE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wb,this.ssl=NE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PN)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fD;switch(s.type){case"firstParty":return new gD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=CE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),CE.delete(t),s.terminate())}(this),Promise.resolve()}}function sx(r,e,t,s={}){var o;const u=(r=ln(r,vf))._getSettings(),h=`${e}:${t}`;if(u.host!==wb&&u.host!==h&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Xt.MOCK_USER;else{m=RR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(g)}r._authCredentials=new dD(new fw(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class ss extends da{constructor(e,t,s){super(e,t,lf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ye(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function ma(r,e,...t){if(r=vt(r),Tb("collection","path",e),r instanceof vf){const s=Ze.fromString(e,...t);return DE(s),new ss(r,null,s)}{if(!(r instanceof Zt||r instanceof ss))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...t));return DE(s),new ss(r.firestore,null,s)}}function qn(r,e,...t){if(r=vt(r),arguments.length===1&&(e=dw.newId()),Tb("doc","path",e),r instanceof vf){const s=Ze.fromString(e,...t);return IE(s),new Zt(r,null,new ye(s))}{if(!(r instanceof Zt||r instanceof ss))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...t));return IE(s),new Zt(r.firestore,r instanceof ss?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rb(this,"async_queue_retry"),this.Su=()=>{const s=Hm();s&&ce(xE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new si;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ce(xE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw ui("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=vg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function VE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ar extends vf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function ax(r,e){const t=typeof r=="object"?r:wT(),s=typeof r=="string"?r:xh,o=Hp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=SR("firestore");u&&sx(o,...u)}return o}function Du(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ox(r),r._firestoreClient}function ox(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new ND(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Eb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new JO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Gt.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=/^__.*__$/;class ux{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Au(e,this.data,t,this.fieldTransforms)}}class bb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Og{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Hh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Sb(this.Lu)&&lx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}ju(e,t,s,o=!1){return new Og({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ou(r){const e=r._freezeSettings(),t=pf(r._databaseId);return new cx(r._databaseId,!!e.ignoreUndefinedProperties,t)}function xg(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);Mg("Data must be an object, but it was:",h,s);const m=Cb(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=Cp(e,T,t);if(!h.contains(S))throw new he(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Db(E,S)||E.push(S)}p=new wn(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new ux(new dn(m),p,g)}class Ef extends Ig{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function Ab(r,e,t,s){const o=r.ju(1,e,t);Mg("Data must be an object, but it was:",o,s);const u=[],h=dn.empty();_s(s,(p,g)=>{const E=Vg(e,p,t);g=vt(g);const T=o.Ku(E);if(g instanceof Ef)u.push(E);else{const S=xu(g,T);S!=null&&(u.push(E),h.set(E,S))}});const m=new wn(u);return new bb(h,m,o.fieldTransforms)}function Rb(r,e,t,s,o,u){const h=r.ju(1,e,t),m=[Cp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Cp(e,u[S])),p.push(u[S+1]);const g=[],E=dn.empty();for(let S=m.length-1;S>=0;--S)if(!Db(g,m[S])){const I=m[S];let x=p[S];x=vt(x);const F=h.Ku(I);if(x instanceof Ef)g.push(I);else{const P=xu(x,F);P!=null&&(g.push(I),E.set(I,P))}}const T=new wn(g);return new bb(E,T,h.fieldTransforms)}function hx(r,e,t,s=!1){return xu(t,r.ju(s?4:3,e))}function xu(r,e){if(Ib(r=vt(r)))return Mg("Unsupported field value:",e,r),Cb(r,e);if(r instanceof Ig)return function(s,o){if(!Sb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=xu(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof Dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wo)return{bytesValue:Kw(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ng)return function(h,m){return{mapValue:{fields:{[Tw]:{stringValue:ww},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return og(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${_f(s)}`)}(r,e)}function Cb(r,e){const t={};return pw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,(s,o)=>{const u=xu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Ib(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof Dg||r instanceof wo||r instanceof Zt||r instanceof Ig||r instanceof Ng)}function Mg(r,e,t){if(!Ib(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=_f(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Cp(r,e,t){if((e=vt(e))instanceof Nu)return e._internalPath;if(typeof e=="string")return Vg(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,t)}const fx=new RegExp("[~\\*/\\[\\]]");function Vg(r,e,t){if(e.search(fx)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nu(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Hh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,m+r+p)}function Db(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dx extends Nb{data(){return super.data()}}function Pg(r,e){return typeof e=="string"?Vg(r,e):e instanceof Nu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class mx extends kg{}function xb(r,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Ug).length,m=u.filter(p=>p instanceof Tf).length;if(h>1||h>0&&m>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Tf extends mx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return Vb(e._query,t),new da(e.firestore,e.converter,gp(e._query,t))}_parse(e){const t=Ou(e.firestore);return function(u,h,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){kE(T,E);const x=[];for(const F of T)x.push(PE(p,u,F));S={arrayValue:{values:x}}}else S=PE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||kE(T,E),S=hx(m,h,T,E==="in"||E==="not-in");return _t.create(g,E,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mb(r,e,t){const s=e,o=Pg("where",r);return Tf._create(o,s,t)}class Ug extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ug(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Vb(h,p),h=gp(h,p)}(e._query,t),new da(e.firestore,e.converter,gp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PE(r,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ze.fromString(t));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return X0(r,new ye(s))}if(t instanceof Zt)return X0(r,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function kE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class px{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _s(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ht(h.doubleValue));return new Ng(u)}convertGeoPoint(e){return new Dg(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=ls(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Ge(Zw(s));const o=new lu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pb extends Nb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Eh extends Pb{data(e={}){return super.data(e)}}class kb{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Eh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:gx(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){r=ln(r,Zt);const e=ln(r.firestore,Ar);return nx(Du(e),r._key).then(t=>jb(e,r,t))}class jg extends px{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function wf(r){r=ln(r,da);const e=ln(r.firestore,Ar),t=Du(e),s=new jg(e);return Ob(r._query),rx(t,r._query).then(o=>new kb(e,s,r,o))}function Ub(r,e,t){r=ln(r,Zt);const s=ln(r.firestore,Ar),o=Lg(r.converter,e,t);return Mu(s,[xg(Ou(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,on.none())])}function Lb(r,e,t,...s){r=ln(r,Zt);const o=ln(r.firestore,Ar),u=Ou(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof Nu?Rb(u,"updateDoc",r._key,e,t,s):Ab(u,"updateDoc",r._key,e),Mu(o,[h.toMutation(r._key,on.exists(!0))])}function yx(r){return Mu(ln(r.firestore,Ar),[new df(r._key,on.none())])}function _x(r,e){const t=ln(r.firestore,Ar),s=qn(r),o=Lg(r.converter,e);return Mu(t,[xg(Ou(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,on.exists(!1))]).then(()=>s)}function vx(r,...e){var t,s,o;r=vt(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||VE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(VE(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof Zt)g=ln(r.firestore,Ar),E=lf(r._key.path),p={next:T=>{e[h]&&e[h](jb(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=ln(r,da);g=ln(T.firestore,Ar),E=T._query;const S=new jg(g);p={next:I=>{e[h]&&e[h](new kb(g,S,T,I))},error:e[h+1],complete:e[h+2]},Ob(r._query)}return function(S,I,x,F){const P=new Cg(F),K=new Sg(I,P,x);return S.asyncQueue.enqueueAndForget(async()=>Tg(await qh(S),K)),()=>{P.su(),S.asyncQueue.enqueueAndForget(async()=>wg(await qh(S),K))}}(Du(g),E,m,p)}function Mu(r,e){return function(s,o){const u=new si;return s.asyncQueue.enqueueAndForget(async()=>FO(await tx(s),o,u)),u.promise}(Du(r),e)}function jb(r,e,t){const s=t.docs.get(e._key),o=new jg(r);return new Pb(r,o,e._key,s,new Ql(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ou(e)}set(e,t,s){this._verifyNotCommitted();const o=Gm(e,this._firestore),u=Lg(o.converter,t,s),h=xg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,on.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Gm(e,this._firestore);let h;return h=typeof(t=vt(t))=="string"||t instanceof Nu?Rb(this._dataReader,"WriteBatch.update",u._key,t,s,o):Ab(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gm(e,this._firestore);return this._mutations=this._mutations.concat(new df(t._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gm(r,e){if((r=vt(r)).firestore!==e)throw new he(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(r){return Du(r=ln(r,Ar)),new Ex(r,e=>Mu(r,e))}(function(e,t=!0){(function(o){Do=o})(Co),po(new ia("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ar(new mD(s.getProvider("auth-internal")),new yD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),rs(j0,z0,e),rs(j0,z0,"esm2017")})();const wx={apiKey:"AIzaSyCydH1CUMSdkeSNa2tlfFopu80A7rujnrY",authDomain:"carbooking-9908f.firebaseapp.com",projectId:"carbooking-9908f",storageBucket:"carbooking-9908f.firebasestorage.app",messagingSenderId:"319597721197",appId:"1:319597721197:web:cd5c7ea6735446248c3164"},zb=TT(wx),Ut=ax(zb),Zn=sw(zb),bx=[{id:6,name:"Toyota Fortuner 2024",price:" 40,50,000",priceRange:"35 - 50 Lakh",year:2024,model:"Camry",fuelType:"Diesel",mileage:"12-15 km/l",make:"Toyota",Transmission:"Manual/Automatic",imageUrl:"https://assets.autobuzz.my/wp-content/uploads/2024/08/16202129/2024-Toyota-Fortuner-SRZ-GR-Bodykit-2-696x392.jpg",type:"used",description:"The Toyota Fortuner 2024 is a rugged and premium SUV with a powerful diesel engine. It offers a commanding road presence, spacious cabin, and modern tech features.",enginetype:"2.8L Turbo Diesel",horsepower:204,torque:"500 Nm",towing_capacity:"3,100 kg",trim:"Legender 4x4",body_type:"SUV",seating_capacity:7,max_capacity:"7 passengers",city_mpg:12,highway_mpg:15,combined_mpg:13,technology:"Wireless charging, JBL Sound System",safety:"7 airbags, ESP, Hill Descent Control",infotainment:"9-inch touchscreen, Connected Car Features"},{id:7,name:"Honda Accord 2024",price:" 35,00,000",priceRange:"35 - 50 Lakh",year:2024,model:"Civic",fuelType:"Petrol/Hybrid",mileage:"22-26 km/l",make:"Honda",Transmission:"Automatic",imageUrl:"https://www.clickheretesting.com/TeamHonda/research/2024/accord-hybrid/images/trim-2024-accord-hybrid-touring.jpg",type:"new",description:"The 2024 Honda Accord is a luxury sedan with a hybrid powertrain, offering premium interiors, cutting-edge technology, and excellent fuel efficiency.",enginetype:"2.0L Hybrid i-VTEC",horsepower:212,torque:"315 Nm",towing_capacity:"Not Available",trim:"Hybrid Touring",body_type:"Sedan",seating_capacity:5,max_capacity:"5 passengers",city_mpg:22,highway_mpg:26,combined_mpg:24,technology:"Head-Up Display, Wireless Android Auto",safety:"6 airbags, Lane Keep Assist, Collision Mitigation Braking",infotainment:"10-inch touchscreen, Premium Audio System"},{id:8,name:"Ford Mustang Mach-E 2024",price:" 50,00,000",priceRange:"35 - 50 Lakh",year:2024,model:"Mustang",fuelType:"Electric",mileage:"450 km per charge",make:"Ford",Transmission:"Automatic",imageUrl:"https://topnews.in/files/styles/large/public/files/2024-ford-mustang-mach-e.jpg?itok=s1JH9f_k",type:"new",description:"The Ford Mustang Mach-E is an all-electric performance SUV that offers exhilarating acceleration, a modern cabin, and advanced driver assistance features.",enginetype:"Dual Electric Motors",horsepower:480,torque:"860 Nm",towing_capacity:"1,500 kg",trim:"GT Performance",body_type:"SUV",seating_capacity:5,max_capacity:"5 passengers",city_mpg:"Not Applicable",highway_mpg:"Not Applicable",combined_mpg:"Not Applicable",technology:"15.5-inch touchscreen, BlueCruise hands-free driving",safety:"8 airbags, Adaptive Cruise Control, 360-degree camera",infotainment:"Ford SYNC 4, Wireless Apple CarPlay/Android Auto"},{id:9,name:"BMW X3 2024",price:" 48,50,000",priceRange:"35 - 50 Lakh",year:2024,model:"Mini Cooper",fuelType:"Petrol/Diesel",mileage:"13-18 km/l",make:"BMW",Transmission:"Automatic",imageUrl:"https://vehicle-images.dealerinspire.com/ebae-110006829/5UX53DP0XR9V54129/8843f0d9a12388e4568a802f58e014b1.jpg",type:"used",description:"The BMW X3 2024 is a luxury SUV with a dynamic driving experience, high-quality interiors, and advanced technology features for a premium ride.",enginetype:"2.0L TwinPower Turbo Petrol/Diesel",horsepower:252,torque:"400 Nm",towing_capacity:"2,500 kg",trim:"xDrive30i M Sport",body_type:"SUV",seating_capacity:5,max_capacity:"5 passengers",city_mpg:13,highway_mpg:18,combined_mpg:15,technology:"BMW iDrive 7, Gesture Control",safety:"8 airbags, Lane Departure Warning, Blind Spot Monitor",infotainment:"12.3-inch touchscreen, Harman Kardon Sound System"},{id:10,name:"Maruti Suzuki Baleno 2024",price:" 9,50,000",priceRange:"5 - 10 Lakh",year:2024,model:"Civic",fuelType:"Petrol",mileage:"21-24 km/l",make:"Maruti",Transmission:"Manual/Automatic",imageUrl:"https://www.kvrmaruti.com/storage/upload/blogs/feature_image/Suzuki%20Baleno%202024%20.jpg",type:"used",description:"The Maruti Suzuki Baleno 2024 is a compact hatchback offering excellent mileage, spacious interiors, and the latest technology for a comfortable drive.",enginetype:"1.2L K-Series Petrol",horsepower:90,torque:"113 Nm",towing_capacity:"Not Available",trim:"Zeta AMT",body_type:"Hatchback",seating_capacity:5,max_capacity:"5 passengers",city_mpg:21,highway_mpg:24,combined_mpg:22,technology:"Head-Up Display, 360-degree Camera",safety:"6 airbags, ABS with EBD, ESP",infotainment:"9-inch SmartPlay Pro+ touchscreen, Wireless Android Auto"}],Sx=async()=>{const r=Tx(Ut),e=ma(Ut,"cars");bx.forEach(t=>{const s=qn(e,t.id.toString());r.set(s,t)});try{await r.commit(),console.log("All cars added successfully!")}catch(t){console.error("Error adding cars: ",t)}};Sx();const Ax="/assets/image1-CxOFk-n7.png",Rx=()=>{const[r,e]=H.useState(""),[t,s]=H.useState(""),[o,u]=H.useState(""),[h,m]=H.useState(""),[p,g]=H.useState(!1),E=gu(),T=async x=>{x.preventDefault(),m("");try{const P=(await Y2(Zn,t,o)).user;await Ub(qn(Ut,"users",P.uid),{name:r,email:P.email,role:"user"}),console.log("Signup successful!"),E("/usedcar")}catch(F){F.code==="auth/email-already-in-use"?m("This email is already registered. Please log in."):F.code==="auth/weak-password"?m("Password should be at least 6 characters."):m("Signup failed. Please try again."),console.error("Signup error:",F.message)}},S=async x=>{x.preventDefault(),m("");try{const P=(await $2(Zn,t,o)).user,K=await fu(qn(Ut,"users",P.uid));if(!K.exists()){m("Account not found in our records. Please sign up."),await Zn.signOut();return}const X=K.data().role;localStorage.setItem("role",X),console.log("Logged in as:",X),E(X==="admin"?"/admin":"/usedcar")}catch(F){F.code==="auth/user-not-found"?m("No account found with this email. Please sign up."):F.code==="auth/wrong-password"?m("Incorrect password. Please try again."):m("Login failed. Please check your details and try again."),console.error("Login error:",F.message)}},I=async()=>{try{const x=new Jr,P=(await _I(Zn,x)).user,K=await fu(qn(Ut,"users",P.uid));if(K.exists()){const X=K.data().role;localStorage.setItem("role",X),E(X==="admin"?"/admin":"/usedcar")}else{m("Account not found. Please sign up first."),await Zn.signOut();return}}catch(x){m("Google sign-in failed. Please try again."),console.error("Google login error:",x.message)}};return A.jsx("div",{className:"registration-container",children:A.jsxs("div",{className:"loginsignup-container",children:[A.jsx("div",{className:"loginsignup-right",style:{backgroundImage:`url(${Ax})`}}),A.jsxs("div",{className:"loginsignup-left",children:[A.jsxs("div",{className:"loginsignup-left-top",children:[A.jsxs("h1",{children:["Car",A.jsx("span",{children:"space"})]}),A.jsxs("div",{className:"button-group",children:[A.jsx("button",{onClick:()=>g(!1),className:p?"":"active",children:"Log In"}),A.jsx("button",{onClick:()=>g(!0),className:p?"active":"",children:"Sign Up"})]})]}),p?A.jsxs("form",{onSubmit:T,children:[A.jsx("input",{type:"text",value:r,onChange:x=>e(x.target.value),placeholder:"Enter your Name",required:!0}),A.jsx("input",{type:"email",value:t,onChange:x=>s(x.target.value),placeholder:"Enter Email ID",required:!0}),A.jsx("input",{type:"password",value:o,onChange:x=>u(x.target.value),placeholder:"Enter Password",required:!0}),A.jsx("button",{type:"submit",className:"continuebtn",children:"Continue"})]}):A.jsxs("form",{onSubmit:S,children:[A.jsx("input",{type:"email",value:t,onChange:x=>s(x.target.value),placeholder:"Enter email",required:!0}),A.jsx("input",{type:"password",value:o,onChange:x=>u(x.target.value),placeholder:"Enter password",required:!0}),A.jsx("button",{type:"submit",className:"continuebtn",children:"Continue"}),A.jsx("button",{type:"button",onClick:I,className:"continuebtn",children:"Continue with Google"})]}),h&&A.jsx("p",{className:"error-message",children:h})]})]})})};var Bb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=ra.createContext&&ra.createContext(Bb),Cx=["attr","size","title"];function Ix(r,e){if(r==null)return{};var t=Dx(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Dx(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Fh(){return Fh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Fh.apply(this,arguments)}function LE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Gh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(t),!0).forEach(function(s){Nx(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LE(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function Nx(r,e,t){return e=Ox(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ox(r){var e=xx(r,"string");return typeof e=="symbol"?e:e+""}function xx(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qb(r){return r&&r.map((e,t)=>ra.createElement(e.tag,Gh({key:t},e.attr),qb(e.child)))}function Es(r){return e=>ra.createElement(Mx,Fh({attr:Gh({},r.attr)},e),qb(r.child))}function Mx(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=Ix(r,Cx),m=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),ra.createElement("svg",Fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Gh(Gh({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ra.createElement("title",null,u),r.children)};return UE!==void 0?ra.createElement(UE.Consumer,null,t=>e(t)):e(Bb)}function Vx(r){return Es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(r)}function Px(r){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(r)}function kx(r){return Es({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function Ux(r){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"},child:[]}]})(r)}function Lx(r){return Es({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function jx(r){return Es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(r)}function zx(r){return Es({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M573.19 402.67l-139.79-320C428.43 71.29 417.6 64 405.68 64h-97.59l2.45 23.16c.5 4.72-3.21 8.84-7.96 8.84h-29.16c-4.75 0-8.46-4.12-7.96-8.84L267.91 64h-97.59c-11.93 0-22.76 7.29-27.73 18.67L2.8 402.67C-6.45 423.86 8.31 448 30.54 448h196.84l10.31-97.68c.86-8.14 7.72-14.32 15.91-14.32h68.8c8.19 0 15.05 6.18 15.91 14.32L348.62 448h196.84c22.23 0 36.99-24.14 27.73-45.33zM260.4 135.16a8 8 0 0 1 7.96-7.16h39.29c4.09 0 7.53 3.09 7.96 7.16l4.6 43.58c.75 7.09-4.81 13.26-11.93 13.26h-40.54c-7.13 0-12.68-6.17-11.93-13.26l4.59-43.58zM315.64 304h-55.29c-9.5 0-16.91-8.23-15.91-17.68l5.07-48c.86-8.14 7.72-14.32 15.91-14.32h45.15c8.19 0 15.05 6.18 15.91 14.32l5.07 48c1 9.45-6.41 17.68-15.91 17.68z"},child:[]}]})(r)}function Bx(r){return Es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}const qx=({setActivePage:r})=>A.jsxs("div",{className:"sidebar",children:[A.jsx("h2",{className:"title",children:"Carspace"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsxs($l,{to:"/admin",className:"nav-link1",onClick:()=>r("Home"),children:[A.jsx(Lx,{})," Home"]})}),A.jsx("li",{children:A.jsxs($l,{to:"/admin/manage-listing",className:"nav-link1",onClick:()=>r("Manage Listing"),children:[A.jsx(jx,{})," Manage Listing"]})}),A.jsx("li",{children:A.jsxs($l,{to:"/admin/booking",className:"nav-link1",onClick:()=>r("Booking"),children:[A.jsx(Vx,{})," Booking"]})})]})]}),Hx=()=>A.jsxs("div",{className:"dashboard-container",children:[A.jsx(qx,{}),A.jsxs("div",{className:"main-content",children:[A.jsx(P1,{}),"  "]})]}),jE=({children:r,role:e})=>localStorage.getItem("role")===e?r:A.jsx(V1,{to:"/"}),Fx=()=>{const[r,e]=H.useState([]);return H.useEffect(()=>{(async()=>{const s=xb(ma(Ut,"requests"),Mb("userId","==",Zn.currentUser.uid)),o=await wf(s);e(o.docs.map(u=>({id:u.id,...u.data()})))})()},[]),A.jsxs("div",{children:[A.jsx("h2",{children:"Your Requests"}),r.map(t=>A.jsx("div",{children:A.jsxs("p",{children:["Car ",t.carId," - Status: ",t.status]})},t.id))]})};var Km={exports:{}},Qm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function Gx(){if(zE)return Qm;zE=1;var r=Wh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,h=r.useMemo,m=r.useDebugValue;return Qm.useSyncExternalStoreWithSelector=function(p,g,E,T,S){var I=o(null);if(I.current===null){var x={hasValue:!1,value:null};I.current=x}else x=I.current;I=h(function(){function P(re){if(!K){if(K=!0,X=re,re=T(re),S!==void 0&&x.hasValue){var oe=x.value;if(S(oe,re))return Y=oe}return Y=re}if(oe=Y,t(X,re))return oe;var M=T(re);return S!==void 0&&S(oe,M)?(X=re,oe):(X=re,Y=M)}var K=!1,X,Y,ie=E===void 0?null:E;return[function(){return P(g())},ie===null?void 0:function(){return P(ie())}]},[g,E,T,S]);var F=s(p,I[0],I[1]);return u(function(){x.hasValue=!0,x.value=F},[F]),m(F),F},Qm}var BE;function Kx(){return BE||(BE=1,Km.exports=Gx()),Km.exports}var Qx=Kx();function Yx(r){r()}function $x(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Yx(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var qE={notify(){},get:()=>[]};function Xx(r,e){let t,s=qE,o=0,u=!1;function h(F){E();const P=s.subscribe(F);let K=!1;return()=>{K||(K=!0,P(),T())}}function m(){s.notify()}function p(){x.onStateChange&&x.onStateChange()}function g(){return u}function E(){o++,t||(t=r.subscribe(p),s=$x())}function T(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=qE)}function S(){u||(u=!0,E())}function I(){u&&(u=!1,T())}const x={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:S,tryUnsubscribe:I,getListeners:()=>s};return x}var Wx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zx=Wx(),Jx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eM=Jx(),tM=()=>Zx||eM?H.useLayoutEffect:H.useEffect,nM=tM(),Ym=Symbol.for("react-redux-context"),$m=typeof globalThis<"u"?globalThis:{};function rM(){if(!H.createContext)return{};const r=$m[Ym]??($m[Ym]=new Map);let e=r.get(H.createContext);return e||(e=H.createContext(null),r.set(H.createContext,e)),e}var ds=rM();function iM(r){const{children:e,context:t,serverState:s,store:o}=r,u=H.useMemo(()=>{const p=Xx(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),h=H.useMemo(()=>o.getState(),[o]);nM(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=t||ds;return H.createElement(m.Provider,{value:u},e)}var sM=iM;function zg(r=ds){return function(){return H.useContext(r)}}var Hb=zg();function Fb(r=ds){const e=r===ds?Hb:zg(r),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var aM=Fb();function oM(r=ds){const e=r===ds?aM:Fb(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var lM=oM(),uM=(r,e)=>r===e;function cM(r=ds){const e=r===ds?Hb:zg(r),t=(s,o={})=>{const{equalityFn:u=uM}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;H.useRef(!0);const E=H.useCallback({[s.name](S){return s(S)}}[s.name],[s]),T=Qx.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,E,u);return H.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var uo=cM();function qt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var hM=typeof Symbol=="function"&&Symbol.observable||"@@observable",HE=hM,Xm=()=>Math.random().toString(36).substring(7).split("").join("."),fM={INIT:`@@redux/INIT${Xm()}`,REPLACE:`@@redux/REPLACE${Xm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xm()}`},Kh=fM;function Bg(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function Gb(r,e,t){if(typeof r!="function")throw new Error(qt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(qt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(qt(1));return t(Gb)(r,e)}let s=r,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((P,K)=>{h.set(K,P)}))}function E(){if(p)throw new Error(qt(3));return o}function T(P){if(typeof P!="function")throw new Error(qt(4));if(p)throw new Error(qt(5));let K=!0;g();const X=m++;return h.set(X,P),function(){if(K){if(p)throw new Error(qt(6));K=!1,g(),h.delete(X),u=null}}}function S(P){if(!Bg(P))throw new Error(qt(7));if(typeof P.type>"u")throw new Error(qt(8));if(typeof P.type!="string")throw new Error(qt(17));if(p)throw new Error(qt(9));try{p=!0,o=s(o,P)}finally{p=!1}return(u=h).forEach(X=>{X()}),P}function I(P){if(typeof P!="function")throw new Error(qt(10));s=P,S({type:Kh.REPLACE})}function x(){const P=T;return{subscribe(K){if(typeof K!="object"||K===null)throw new Error(qt(11));function X(){const ie=K;ie.next&&ie.next(E())}return X(),{unsubscribe:P(X)}},[HE](){return this}}}return S({type:Kh.INIT}),{dispatch:S,subscribe:T,getState:E,replaceReducer:I,[HE]:x}}function dM(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Kh.INIT})>"u")throw new Error(qt(12));if(typeof t(void 0,{type:Kh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qt(13))})}function mM(r){const e=Object.keys(r),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof r[h]=="function"&&(t[h]=r[h])}const s=Object.keys(t);let o;try{dM(t)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let E=0;E<s.length;E++){const T=s[E],S=t[T],I=h[T],x=S(I,m);if(typeof x>"u")throw m&&m.type,new Error(qt(14));g[T]=x,p=p||x!==I}return p=p||s.length!==Object.keys(h).length,p?g:h}}function Qh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function pM(...r){return e=>(t,s)=>{const o=e(t,s);let u=()=>{throw new Error(qt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(h));return u=Qh(...m)(o.dispatch),{...o,dispatch:u}}}function gM(r){return Bg(r)&&"type"in r&&typeof r.type=="string"}var Kb=Symbol.for("immer-nothing"),FE=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function Jn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var bo=Object.getPrototypeOf;function ua(r){return!!r&&!!r[bn]}function hi(r){var e;return r?Qb(r)||Array.isArray(r)||!!r[FE]||!!((e=r.constructor)!=null&&e[FE])||Sf(r)||Af(r):!1}var yM=Object.prototype.constructor.toString();function Qb(r){if(!r||typeof r!="object")return!1;const e=bo(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===yM}function Yh(r,e){bf(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,s)=>e(s,t,r))}function bf(r){const e=r[bn];return e?e.type_:Array.isArray(r)?1:Sf(r)?2:Af(r)?3:0}function Ip(r,e){return bf(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Yb(r,e,t){const s=bf(r);s===2?r.set(e,t):s===3?r.add(t):r[e]=t}function _M(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Sf(r){return r instanceof Map}function Af(r){return r instanceof Set}function ea(r){return r.copy_||r.base_}function Dp(r,e){if(Sf(r))return new Map(r);if(Af(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=Qb(r);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(r);delete s[bn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],m=s[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[h]})}return Object.create(bo(r),s)}else{const s=bo(r);if(s!==null&&t)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function qg(r,e=!1){return Rf(r)||ua(r)||!hi(r)||(bf(r)>1&&(r.set=r.add=r.clear=r.delete=vM),Object.freeze(r),e&&Object.entries(r).forEach(([t,s])=>qg(s,!0))),r}function vM(){Jn(2)}function Rf(r){return Object.isFrozen(r)}var EM={};function ca(r){const e=EM[r];return e||Jn(0,r),e}var du;function $b(){return du}function TM(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GE(r,e){e&&(ca("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Np(r){Op(r),r.drafts_.forEach(wM),r.drafts_=null}function Op(r){r===du&&(du=r.parent_)}function KE(r){return du=TM(du,r)}function wM(r){const e=r[bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QE(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[bn].modified_&&(Np(e),Jn(4)),hi(r)&&(r=$h(e,r),e.parent_||Xh(e,r)),e.patches_&&ca("Patches").generateReplacementPatches_(t[bn].base_,r,e.patches_,e.inversePatches_)):r=$h(e,t,[]),Np(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==Kb?r:void 0}function $h(r,e,t){if(Rf(e))return e;const s=e[bn];if(!s)return Yh(e,(o,u)=>YE(r,s,e,o,u,t)),e;if(s.scope_!==r)return e;if(!s.modified_)return Xh(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,h=!1;s.type_===3&&(u=new Set(o),o.clear(),h=!0),Yh(u,(m,p)=>YE(r,s,o,m,p,t,h)),Xh(r,o,!1),t&&r.patches_&&ca("Patches").generatePatches_(s,t,r.patches_,r.inversePatches_)}return s.copy_}function YE(r,e,t,s,o,u,h){if(ua(o)){const m=u&&e&&e.type_!==3&&!Ip(e.assigned_,s)?u.concat(s):void 0,p=$h(r,o,m);if(Yb(t,s,p),ua(p))r.canAutoFreeze_=!1;else return}else h&&t.add(o);if(hi(o)&&!Rf(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;$h(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Xh(r,o)}}function Xh(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&qg(e,t)}function bM(r,e){const t=Array.isArray(r),s={type_:t?1:0,scope_:e?e.scope_:$b(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Hg;t&&(o=[s],u=mu);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=h,m}var Hg={get(r,e){if(e===bn)return r;const t=ea(r);if(!Ip(t,e))return SM(r,t,e);const s=t[e];return r.finalized_||!hi(s)?s:s===Wm(r.base_,e)?(Zm(r),r.copy_[e]=Mp(s,r)):s},has(r,e){return e in ea(r)},ownKeys(r){return Reflect.ownKeys(ea(r))},set(r,e,t){const s=Xb(ea(r),e);if(s!=null&&s.set)return s.set.call(r.draft_,t),!0;if(!r.modified_){const o=Wm(ea(r),e),u=o==null?void 0:o[bn];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(_M(t,o)&&(t!==void 0||Ip(r.base_,e)))return!0;Zm(r),xp(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Wm(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Zm(r),xp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=ea(r),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Jn(11)},getPrototypeOf(r){return bo(r.base_)},setPrototypeOf(){Jn(12)}},mu={};Yh(Hg,(r,e)=>{mu[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mu.deleteProperty=function(r,e){return mu.set.call(this,r,e,void 0)};mu.set=function(r,e,t){return Hg.set.call(this,r[0],e,t,r[0])};function Wm(r,e){const t=r[bn];return(t?ea(t):r)[e]}function SM(r,e,t){var o;const s=Xb(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(r.draft_):void 0}function Xb(r,e){if(!(e in r))return;let t=bo(r);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=bo(t)}}function xp(r){r.modified_||(r.modified_=!0,r.parent_&&xp(r.parent_))}function Zm(r){r.copy_||(r.copy_=Dp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var AM=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(p=u,...g){return h.produce(p,E=>t.call(this,E,...g))}}typeof t!="function"&&Jn(6),s!==void 0&&typeof s!="function"&&Jn(7);let o;if(hi(e)){const u=KE(this),h=Mp(e,void 0);let m=!0;try{o=t(h),m=!1}finally{m?Np(u):Op(u)}return GE(u,s),QE(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===Kb&&(o=void 0),this.autoFreeze_&&qg(o,!0),s){const u=[],h=[];ca("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else Jn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let s,o;return[this.produce(e,t,(h,m)=>{s=h,o=m}),s,o]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){hi(r)||Jn(8),ua(r)&&(r=RM(r));const e=KE(this),t=Mp(r,void 0);return t[bn].isManual_=!0,Op(e),t}finishDraft(r,e){const t=r&&r[bn];(!t||!t.isManual_)&&Jn(9);const{scope_:s}=t;return GE(s,e),QE(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));const s=ca("Patches").applyPatches_;return ua(r)?s(r,e):this.produce(r,o=>s(o,e))}};function Mp(r,e){const t=Sf(r)?ca("MapSet").proxyMap_(r,e):Af(r)?ca("MapSet").proxySet_(r,e):bM(r,e);return(e?e.scope_:$b()).drafts_.push(t),t}function RM(r){return ua(r)||Jn(10,r),Wb(r)}function Wb(r){if(!hi(r)||Rf(r))return r;const e=r[bn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Dp(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Dp(r,!0);return Yh(t,(s,o)=>{Yb(t,s,Wb(o))}),e&&(e.finalized_=!1),t}var Sn=new AM,Zb=Sn.produce;Sn.produceWithPatches.bind(Sn);Sn.setAutoFreeze.bind(Sn);Sn.setUseStrictShallowCopy.bind(Sn);Sn.applyPatches.bind(Sn);Sn.createDraft.bind(Sn);Sn.finishDraft.bind(Sn);function Jb(r){return({dispatch:t,getState:s})=>o=>u=>typeof u=="function"?u(t,s,r):o(u)}var CM=Jb(),IM=Jb,DM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qh:Qh.apply(null,arguments)},NM=r=>r&&typeof r.match=="function";function tu(r,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(ai(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=s=>gM(s)&&s.type===r,t}var eS=class Yl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yl.prototype)}static get[Symbol.species](){return Yl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yl(...e[0].concat(this)):new Yl(...e.concat(this))}};function $E(r){return hi(r)?Zb(r,()=>{}):r}function XE(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function OM(r){return typeof r=="boolean"}var xM=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new eS;return t&&(OM(t)?h.push(CM):h.push(IM(t.extraArgument))),h},MM="RTK_autoBatch",WE=r=>e=>{setTimeout(e,r)},VM=(r={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,u=!1,h=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WE(10):r.type==="callback"?r.queueNotification:WE(r.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},s,{subscribe(E){const T=()=>o&&E(),S=s.subscribe(T);return m.add(E),()=>{S(),m.delete(E)}},dispatch(E){var T;try{return o=!((T=E==null?void 0:E.meta)!=null&&T[MM]),u=!o,u&&(h||(h=!0,p(g))),s.dispatch(E)}finally{o=!0}}})},PM=r=>function(t){const{autoBatch:s=!0}=t??{};let o=new eS(r);return s&&o.push(VM(typeof s=="object"?s:void 0)),o};function kM(r){const e=xM(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=r||{};let m;if(typeof t=="function")m=t;else if(Bg(t))m=mM(t);else throw new Error(ai(1));let p;typeof s=="function"?p=s(e):p=e();let g=Qh;o&&(g=DM({trace:!1,...typeof o=="object"&&o}));const E=pM(...p),T=PM(E);let S=typeof h=="function"?h(T):T();const I=g(...S);return Gb(m,u,I)}function tS(r){const e={},t=[];let s;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(ai(28));if(m in e)throw new Error(ai(29));return e[m]=h,o},addMatcher(u,h){return t.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,t,s]}function UM(r){return typeof r=="function"}function LM(r,e){let[t,s,o]=tS(e),u;if(UM(r))u=()=>$E(r());else{const m=$E(r);u=()=>m}function h(m=u(),p){let g=[t[p.type],...s.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,T)=>{if(T)if(ua(E)){const I=T(E,p);return I===void 0?E:I}else{if(hi(E))return Zb(E,S=>T(S,p));{const S=T(E,p);if(S===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return E},m)}return h.getInitialState=u,h}var jM=(r,e)=>NM(r)?r.match(e):r(e);function zM(...r){return e=>r.some(t=>jM(t,e))}var BM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qM=(r=21)=>{let e="",t=r;for(;t--;)e+=BM[Math.random()*64|0];return e},HM=["name","message","stack","code"],Jm=class{constructor(r,e){Am(this,"_type");this.payload=r,this.meta=e}},ZE=class{constructor(r,e){Am(this,"_type");this.payload=r,this.meta=e}},FM=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of HM)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},GM=(()=>{function r(e,t,s){const o=tu(e+"/fulfilled",(p,g,E,T)=>({payload:p,meta:{...T||{},arg:E,requestId:g,requestStatus:"fulfilled"}})),u=tu(e+"/pending",(p,g,E)=>({payload:void 0,meta:{...E||{},arg:g,requestId:p,requestStatus:"pending"}})),h=tu(e+"/rejected",(p,g,E,T,S)=>({payload:T,error:(s&&s.serializeError||FM)(p||"Rejected"),meta:{...S||{},arg:E,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function m(p){return(g,E,T)=>{const S=s!=null&&s.idGenerator?s.idGenerator(p):qM(),I=new AbortController;let x,F;function P(X){F=X,I.abort()}const K=async function(){var ie,re;let X;try{let oe=(ie=s==null?void 0:s.condition)==null?void 0:ie.call(s,p,{getState:E,extra:T});if(QM(oe)&&(oe=await oe),oe===!1||I.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((C,R)=>{x=()=>{R({name:"AbortError",message:F||"Aborted"})},I.signal.addEventListener("abort",x)});g(u(S,p,(re=s==null?void 0:s.getPendingMeta)==null?void 0:re.call(s,{requestId:S,arg:p},{getState:E,extra:T}))),X=await Promise.race([M,Promise.resolve(t(p,{dispatch:g,getState:E,extra:T,requestId:S,signal:I.signal,abort:P,rejectWithValue:(C,R)=>new Jm(C,R),fulfillWithValue:(C,R)=>new ZE(C,R)})).then(C=>{if(C instanceof Jm)throw C;return C instanceof ZE?o(C.payload,S,p,C.meta):o(C,S,p)})])}catch(oe){X=oe instanceof Jm?h(null,S,p,oe.payload,oe.meta):h(oe,S,p)}finally{x&&I.signal.removeEventListener("abort",x)}return s&&!s.dispatchConditionRejection&&h.match(X)&&X.meta.condition||g(X),X}();return Object.assign(K,{abort:P,requestId:S,arg:p,unwrap(){return K.then(KM)}})}}return Object.assign(m,{pending:u,rejected:h,fulfilled:o,settled:zM(h,o),typePrefix:e})}return r.withTypes=()=>r,r})();function KM(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function QM(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var YM=Symbol.for("rtk-slice-createasyncthunk");function $M(r,e){return`${r}/${e}`}function XM({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[YM];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(ai(11));const m=(typeof o.reducers=="function"?o.reducers(ZM()):o.reducers)||{},p=Object.keys(m),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(Y,ie){const re=typeof Y=="string"?Y:Y.type;if(!re)throw new Error(ai(12));if(re in g.sliceCaseReducersByType)throw new Error(ai(13));return g.sliceCaseReducersByType[re]=ie,E},addMatcher(Y,ie){return g.sliceMatchers.push({matcher:Y,reducer:ie}),E},exposeAction(Y,ie){return g.actionCreators[Y]=ie,E},exposeCaseReducer(Y,ie){return g.sliceCaseReducersByName[Y]=ie,E}};p.forEach(Y=>{const ie=m[Y],re={reducerName:Y,type:$M(u,Y),createNotation:typeof o.reducers=="function"};e4(ie)?n4(re,ie,E,e):JM(re,ie,E)});function T(){const[Y={},ie=[],re=void 0]=typeof o.extraReducers=="function"?tS(o.extraReducers):[o.extraReducers],oe={...Y,...g.sliceCaseReducersByType};return LM(o.initialState,M=>{for(let C in oe)M.addCase(C,oe[C]);for(let C of g.sliceMatchers)M.addMatcher(C.matcher,C.reducer);for(let C of ie)M.addMatcher(C.matcher,C.reducer);re&&M.addDefaultCase(re)})}const S=Y=>Y,I=new Map;let x;function F(Y,ie){return x||(x=T()),x(Y,ie)}function P(){return x||(x=T()),x.getInitialState()}function K(Y,ie=!1){function re(M){let C=M[Y];return typeof C>"u"&&ie&&(C=P()),C}function oe(M=S){const C=XE(I,ie,()=>new WeakMap);return XE(C,M,()=>{const R={};for(const[N,U]of Object.entries(o.selectors??{}))R[N]=WM(U,M,P,ie);return R})}return{reducerPath:Y,getSelectors:oe,get selectors(){return oe(re)},selectSlice:re}}const X={name:u,reducer:F,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:P,...K(h),injectInto(Y,{reducerPath:ie,...re}={}){const oe=ie??h;return Y.inject({reducerPath:oe,reducer:F},re),{...X,...K(oe,!0)}}};return X}}function WM(r,e,t,s){function o(u,...h){let m=e(u);return typeof m>"u"&&s&&(m=t()),r(m,...h)}return o.unwrapped=r,o}var nS=XM();function ZM(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function JM({type:r,reducerName:e,createNotation:t},s,o){let u,h;if("reducer"in s){if(t&&!t4(s))throw new Error(ai(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,h?tu(r,h):tu(r))}function e4(r){return r._reducerDefinitionType==="asyncThunk"}function t4(r){return r._reducerDefinitionType==="reducerWithPrepare"}function n4({type:r,reducerName:e},t,s,o){if(!o)throw new Error(ai(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:E}=t,T=o(r,u,E);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||lh,pending:m||lh,rejected:p||lh,settled:g||lh})}function lh(){}function ai(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const Th=GM("searchcar/fetchCars",async()=>(await wf(ma(Ut,"cars"))).docs.map(e=>({id:e.id,...e.data()}))),r4={cars:[],filteredCars:[],selectedCategory:"used",selectedMake:"",selectedModel:"",selectedPriceRanges:[],status:"idle"},rS=nS({name:"searchcar",initialState:r4,reducers:{setCategory:(r,e)=>{r.selectedCategory=e.payload,r.selectedMake="",r.selectedModel="",r.selectedPriceRanges=[],r.filteredCars=r.cars.filter(t=>t.type===e.payload)},setMake:(r,e)=>{r.selectedMake=e.payload,r.filteredCars=r.cars.filter(t=>t.type===r.selectedCategory&&(t.make===e.payload||e.payload===""))},setModel:(r,e)=>{r.selectedModel=e.payload,r.filteredCars=r.cars.filter(t=>t.type===r.selectedCategory&&(r.selectedMake?t.make===r.selectedMake:!0)&&(t.model===e.payload||e.payload===""))},setPriceRange:(r,e)=>{r.selectedPriceRanges=e.payload,r.filteredCars=r.cars.filter(t=>t.type===r.selectedCategory&&(r.selectedMake?t.make===r.selectedMake:!0)&&(r.selectedModel?t.model===r.selectedModel:!0)&&(e.payload.length===0||e.payload.includes(t.priceRange)))}},extraReducers:r=>{r.addCase(Th.pending,e=>{e.status="loading"}).addCase(Th.fulfilled,(e,t)=>{e.status="succeeded",e.cars=t.payload,e.filteredCars=t.payload.filter(s=>s.type===e.selectedCategory)}).addCase(Th.rejected,e=>{e.status="failed"})}}),{setMake:i4,setModel:s4,setPriceRange:a4,setCategory:JE}=rS.actions,o4=rS.reducer,Fg="/assets/image4-Bw5nSduC.jpg",Gg=()=>{const r=gu(),e=s=>{s==="Certified Pre-Owned"&&r("/usedcar"),s==="Home"&&r("/usedcar")},t=()=>{r("/MyCars")};return A.jsxs("header",{className:"header",children:[A.jsx("h1",{className:"logo",children:"Carspace"}),A.jsx("nav",{className:"nav",children:["Home","About us","Certified Pre-Owned"].map((s,o)=>A.jsx("a",{href:"#",className:"nav-link",onClick:u=>{u.preventDefault(),e(s)},children:s},o))}),A.jsxs("div",{className:"right-section",children:[A.jsx("button",{className:"compare-button",onClick:t,children:"My Cars"}),A.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKwu24bi0nBtgdzIKRC-Xl-TOoaE3ML5sSAQ&s",alt:"Profile",className:"profile-img"})]})]})},l4=()=>{const r=lM(),e=gu();H.useEffect(()=>{r(Th())},[r]);const t=uo(T=>T.searchcar.filteredCars),s=uo(T=>T.searchcar.selectedCategory),o=uo(T=>T.searchcar.selectedMake),u=uo(T=>T.searchcar.selectedModel),h=uo(T=>T.searchcar.selectedPriceRanges),m=["Toyota","Honda","Ford","BMW","Maruti"],p=["Camry","Civic","Mustang","Mini Cooper"],g=[{label:"5 - 10 Lakh",count:7},{label:"10 - 15 Lakh",count:8},{label:"15 - 20 Lakh",count:5},{label:"20 - 35 Lakh",count:1},{label:"35 - 50 Lakh",count:5}],E=T=>{const S=h.includes(T)?h.filter(I=>I!==T):[T];r(a4(S))};return A.jsxs(A.Fragment,{children:[A.jsx(Gg,{}),A.jsx("div",{className:"carlisting-container",style:{backgroundImage:`url(${Fg})`}}),A.jsxs("div",{className:"car-list",children:[A.jsxs("div",{className:"car-list-search",children:[A.jsxs("div",{className:"search-filters",children:[A.jsx("label",{children:"Make"}),A.jsxs("select",{value:o,onChange:T=>r(i4(T.target.value)),children:[A.jsx("option",{value:"",children:"All Makes"}),m.map(T=>A.jsx("option",{value:T,children:T},T))]}),A.jsx("label",{children:"Model"}),A.jsxs("select",{value:u,onChange:T=>r(s4(T.target.value)),children:[A.jsx("option",{value:"",children:"All Models"}),p.map(T=>A.jsx("option",{value:T,children:T},T))]}),A.jsx("button",{className:"search-button",children:"Search"})]}),A.jsxs("div",{className:"price-range-container",children:[A.jsx("p",{className:"price-range-title",children:"select from the ranges below"}),g.map((T,S)=>A.jsxs("label",{className:"price-range-option",children:[A.jsx("input",{type:"checkbox",checked:h.includes(T.label),onChange:()=>E(T.label)}),A.jsxs("p",{children:[T.label," "]}),A.jsxs("span",{className:"range-count",children:["(",T.count,")"]})]},S))]})]}),A.jsxs("div",{className:"right-container",children:[A.jsxs("div",{className:"search-toggle",children:[A.jsx("button",{className:s==="new"?"active":"",onClick:()=>r(JE("new")),children:"New Cars"}),A.jsx("button",{className:s==="used"?"active":"",onClick:()=>r(JE("used")),children:"Used Cars"})]}),A.jsx("div",{className:"car-container",children:t.length>0?t.map((T,S)=>A.jsxs("div",{className:"car-card",children:[A.jsxs("div",{className:"image-container",children:[A.jsx("img",{src:T.imageUrl,alt:T.name,className:"car-image"}),A.jsx("span",{className:"featured-badge",children:"Featured"})]}),A.jsxs("div",{className:"car-details",children:[A.jsx("p",{className:"model-name",children:T.model}),A.jsx("h3",{className:"car-name",children:T.name}),A.jsx("p",{className:"price",children:T.price}),A.jsxs("div",{className:"car-info",children:[A.jsxs("p",{children:[A.jsx(Ux,{className:"icon"}),A.jsx("span",{children:"FuelType"})," ",A.jsx("br",{}),A.jsx("span",{style:{color:"red",paddingLeft:"20px"},children:T.fuelType})]}),A.jsxs("p",{children:[A.jsx(zx,{className:"icon"})," ",A.jsx("span",{children:"Mileage"}),A.jsx("br",{}),A.jsx("span",{style:{color:"red",paddingLeft:"20px"},children:T.mileage})]}),A.jsxs("p",{children:[A.jsx(Px,{className:"icon"})," ",A.jsx("span",{children:"Transmission"})," ",A.jsx("br",{}),A.jsx("span",{style:{color:"red",paddingLeft:"25px"},children:T.Transmission})]})]}),A.jsx("hr",{}),A.jsx("div",{className:"car-rating",children:A.jsx("button",{className:"view-details",onClick:()=>e(`/car-details/${T.id}`,{state:T}),children:"View Details "})})]})]},S)):A.jsx("p",{children:"No cars found"})})]})]})]})},u4=()=>{H.useEffect(()=>{window.scrollTo(0,0)},[]);const{carId:r}=E1();console.log("carId from useParams:",r);const e=uo(h=>h.searchcar.cars),t=e==null?void 0:e.find(h=>h.id===Number(r)),[s,o]=H.useState(null);H.useEffect(()=>{const h=Zn.onAuthStateChanged(m=>{o(m)});return()=>h()},[]);const u=async()=>{if(!s){alert("Please log in to request a car.");return}if(!r){alert("Car ID is missing.");return}console.log("User ID:",s.uid),console.log("Car ID:",r);try{const h=qn(Ut,"carRequests",`${s.uid}_${r}`);await Ub(h,{carId:r.toString(),userId:s.uid,userName:s.displayName||"Anonymous",userEmail:s.email,status:"Pending",carName:t.name,timestamp:new Date}),alert("Request sent successfully!")}catch(h){console.error("Error requesting car:",h.message),alert("Failed to send request: "+h.message)}};return A.jsxs(A.Fragment,{children:[A.jsx(Gg,{}),A.jsx("div",{children:t?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"carlisting-container",style:{backgroundImage:`url(${Fg})`}}),A.jsx("div",{className:"car-search-title",children:A.jsx("h1",{children:t.name})}),A.jsxs("div",{className:"car-features-box",children:[["Automatic","Luxury","Advanced","High Safety"].map((h,m)=>A.jsx("button",{className:"feature-button",children:h},m)),A.jsxs("span",{className:"car-details-price",children:["Price: ",t.price]})]}),A.jsxs("div",{className:"car-image-details",children:[A.jsx("div",{className:"main-car-image",children:A.jsx("img",{src:t.imageUrl,alt:t.name})}),A.jsxs("div",{className:"sub-car-image",children:[A.jsx("img",{src:t.imageUrl,alt:t.name}),A.jsx("img",{src:t.imageUrl,alt:t.name}),A.jsx("img",{src:t.imageUrl,alt:t.name}),A.jsx("img",{src:t.imageUrl,alt:t.name}),A.jsx("img",{src:t.imageUrl,alt:t.name})]})]}),A.jsxs("div",{className:"car-description",children:[A.jsx("div",{className:"car-search-title",children:A.jsx("h1",{children:"Description"})}),A.jsx("p",{children:t.description})]}),A.jsx("div",{className:"car-search-title",children:A.jsx("h1",{children:"Car Overview"})}),A.jsxs("div",{className:"car-overview-container",children:[A.jsxs("div",{className:"car-overview",children:[A.jsx("span",{children:"Engine Type:"})," ",t.enginetype,A.jsx("span",{children:"Horsepower:"})," ",t.horsepower,A.jsx("span",{children:"Torque:"})," ",t.torque,A.jsx("span",{children:"Towing Capacity:"})," ",t.towing_capacity,A.jsx("span",{children:"Trim:"})," ",t.trim,A.jsx("span",{children:"Body Type:"})," ",t.body_type,A.jsx("span",{children:"Seating Capacity:"})," ",t.seating_capacity,A.jsx("span",{children:"Max Capacity:"})," ",t.max_capacity,A.jsx("span",{children:"City MPG:"})," ",t.city_mpg,A.jsx("span",{children:"Combined MPG:"})," ",t.combined_mpg,A.jsx("span",{children:"Technology:"})," ",t.technology,A.jsx("span",{children:"Safety:"})," ",t.safety,A.jsx("span",{children:"Infotainment:"})," ",t.infotainment]}),A.jsxs("div",{className:"owner-profile",children:[A.jsx("button",{className:"action-btn red-btn",children:"Schedule Test Driver"}),A.jsx("button",{className:"action-btn white-btn",onClick:u,children:"Request Car"}),A.jsxs("div",{className:"profile-card",children:[A.jsx("div",{className:"avatar"}),A.jsx("h3",{className:"owner-name",children:"Name"}),A.jsx("p",{className:"owner-role",children:"Owner of Car"}),A.jsxs("div",{className:"input-fields",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",placeholder:"Name"}),A.jsx("label",{children:"Email Address"}),A.jsx("input",{type:"email",placeholder:"Email Address"}),A.jsx("label",{children:"Phone number"}),A.jsx("input",{type:"tel",placeholder:"Phone number"}),A.jsx("label",{children:"Description"}),A.jsx("textarea",{placeholder:"Description"})]}),A.jsx("button",{className:"contact-btn",children:"Send message"})]})]})]})]}):A.jsx("h2",{children:"Car details not found."})})]})},c4=()=>A.jsx("div",{className:"content",children:"Welcome to the Admin Dashboard"}),iS=()=>{const[r,e]=H.useState({id:"",name:"",price:"",priceRange:"",year:"",model:"",fuelType:"",mileage:"",make:"",Transmission:"",imageUrl:"",type:"",description:"",enginetype:"",horsepower:"",torque:"",towing_capacity:"",trim:"",body_type:"",seating_capacity:"",max_capacity:"",city_mpg:"",highway_mpg:"",combined_mpg:"",technology:"",safety:"",infotainment:""}),t=o=>{e({...r,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault();try{await _x(ma(Ut,"cars"),r),alert("Car added successfully!"),e({id:"",name:"",price:"",priceRange:"",year:"",model:"",fuelType:"",mileage:"",make:"",Transmission:"",imageUrl:"",type:"",description:"",enginetype:"",horsepower:"",torque:"",towing_capacity:"",trim:"",body_type:"",seating_capacity:"",max_capacity:"",city_mpg:"",highway_mpg:"",combined_mpg:"",technology:"",safety:"",infotainment:""})}catch(u){console.error("Error adding car: ",u)}};return A.jsxs("div",{className:"admin-dashboard",children:[A.jsx("h2",{children:"Add Car"}),A.jsxs("form",{onSubmit:s,className:"car-form",children:[A.jsx("input",{type:"number",name:"id",value:r.id,onChange:t,placeholder:"Car id",required:!0}),A.jsx("input",{type:"text",name:"name",value:r.name,onChange:t,placeholder:"Car Name",required:!0}),A.jsx("input",{type:"text",name:"model",value:r.model,onChange:t,placeholder:"Model",required:!0}),A.jsx("input",{type:"number",name:"year",value:r.year,onChange:t,placeholder:"Year",required:!0}),A.jsx("input",{type:"text",name:"make",value:r.make,onChange:t,placeholder:"Make (Brand)",required:!0}),A.jsx("input",{type:"text",name:"price",value:r.price,onChange:t,placeholder:"Price",required:!0}),A.jsx("input",{type:"text",name:"priceRange",value:r.priceRange,onChange:t,placeholder:"Price Range",required:!0}),A.jsx("input",{type:"text",name:"fuelType",value:r.fuelType,onChange:t,placeholder:"Fuel Type",required:!0}),A.jsx("input",{type:"text",name:"mileage",value:r.mileage,onChange:t,placeholder:"Mileage (e.g., 90km)",required:!0}),A.jsx("input",{type:"text",name:"Transmission",value:r.Transmission,onChange:t,placeholder:"Transmission",required:!0}),A.jsx("input",{type:"text",name:"imageUrl",value:r.imageUrl,onChange:t,placeholder:"Image URL",required:!0}),A.jsx("input",{type:"text",name:"type",value:r.type,onChange:t,placeholder:"Car Type (new/used)",required:!0}),A.jsx("textarea",{name:"description",value:r.description,onChange:t,placeholder:"Car Description",required:!0}),A.jsx("input",{type:"text",name:"enginetype",value:r.enginetype,onChange:t,placeholder:"Engine Type",required:!0}),A.jsx("input",{type:"number",name:"horsepower",value:r.horsepower,onChange:t,placeholder:"Horsepower",required:!0}),A.jsx("input",{type:"text",name:"torque",value:r.torque,onChange:t,placeholder:"Torque",required:!0}),A.jsx("input",{type:"text",name:"towing_capacity",value:r.towing_capacity,onChange:t,placeholder:"Towing Capacity",required:!0}),A.jsx("input",{type:"text",name:"trim",value:r.trim,onChange:t,placeholder:"Trim",required:!0}),A.jsx("input",{type:"text",name:"body_type",value:r.body_type,onChange:t,placeholder:"Body Type",required:!0}),A.jsx("input",{type:"number",name:"seating_capacity",value:r.seating_capacity,onChange:t,placeholder:"Seating Capacity",required:!0}),A.jsx("input",{type:"text",name:"max_capacity",value:r.max_capacity,onChange:t,placeholder:"Max Capacity",required:!0}),A.jsx("input",{type:"number",name:"city_mpg",value:r.city_mpg,onChange:t,placeholder:"City MPG",required:!0}),A.jsx("input",{type:"number",name:"highway_mpg",value:r.highway_mpg,onChange:t,placeholder:"Highway MPG",required:!0}),A.jsx("input",{type:"number",name:"combined_mpg",value:r.combined_mpg,onChange:t,placeholder:"Combined MPG",required:!0}),A.jsx("input",{type:"text",name:"technology",value:r.technology,onChange:t,placeholder:"Technology Features",required:!0}),A.jsx("input",{type:"text",name:"safety",value:r.safety,onChange:t,placeholder:"Safety Features",required:!0}),A.jsx("input",{type:"text",name:"infotainment",value:r.infotainment,onChange:t,placeholder:"Infotainment System",required:!0}),A.jsx("button",{className:"addcarbtn",type:"submit",children:"Add Car"})]})]})},h4=()=>{const[r,e]=H.useState([]),[t,s]=H.useState(!1),[o,u]=H.useState(null),[h,m]=H.useState({name:"",model:"",year:"",price:""});H.useEffect(()=>{p()},[]);const p=async()=>{try{const x=(await wf(ma(Ut,"cars"))).docs.map(F=>({id:F.id,...F.data()}));e(x)}catch(I){console.error("Error fetching cars:",I)}},g=async I=>{try{e(F=>F.filter(P=>P.id!==I));const x=qn(Ut,"cars",I);await yx(x),console.log("Car deleted successfully!")}catch(x){console.error("Error deleting document:",x),p()}},E=async I=>{const F=sw().currentUser;if(!F){console.error("No authenticated user found!");return}const P=qn(Ut,"users",F.uid),K=await fu(P);if(!K.exists()||K.data().role!=="admin"){console.error("Permission denied: User is not an admin");return}try{const X=qn(Ut,"cars",String(I));await Lb(X,h),console.log("Car updated successfully!"),e(Y=>Y.map(ie=>ie.id===I?{...ie,...h}:ie)),u(null)}catch(X){console.error("Error updating document:",X)}},T=I=>{u(I.id),m({name:I.name,model:I.model,year:I.year,price:I.price})},S=I=>{const{name:x,value:F}=I.target;m(P=>({...P,[x]:F}))};return A.jsx("div",{className:"listing-container",children:t?A.jsx(iS,{}):A.jsxs("div",{children:[A.jsxs("div",{className:"listing-header",children:[A.jsx("h2",{className:"listing-title",children:"Car Listings"}),A.jsx("button",{className:"btn-add-car",onClick:()=>s(!0),children:"Add Car"})]}),A.jsx("div",{className:"cars-grid",children:r.map(I=>A.jsxs("div",{className:"cars-item",children:[A.jsx("img",{className:"cars-image",src:I.imageUrl||"https://via.placeholder.com/300",alt:I.name}),A.jsxs("div",{className:"cars-details",children:[A.jsx("p",{className:"cars-name",children:I.name}),A.jsxs("h3",{className:"cars-model",children:[I.model," ",I.year]}),A.jsx("p",{className:"cars-price",children:I.price})]}),A.jsx("div",{className:"action-buttons",children:o===I.id?A.jsxs("div",{className:"edit-form",children:[A.jsx("input",{className:"input-field",type:"text",name:"name",value:h.name,onChange:S}),A.jsx("input",{className:"input-field",type:"text",name:"model",value:h.model,onChange:S}),A.jsx("input",{className:"input-field",type:"number",name:"year",value:h.year,onChange:S}),A.jsx("input",{className:"input-field",type:"text",name:"price",value:h.price,onChange:S}),A.jsx("button",{className:"btn-update",onClick:()=>E(I.id),children:"Update"}),A.jsx("button",{className:"btn-cancel",onClick:()=>u(null),children:"Cancel"})]}):A.jsxs("div",{className:"buttons",children:[A.jsx(kx,{className:"icon-edit",onClick:()=>T(I)}),A.jsx(Bx,{className:"icon-delete",onClick:()=>g(String(I.id))})]})})]},I.id))})]})})},f4=()=>{const[r,e]=H.useState([]),[t,s]=H.useState(!1);H.useEffect(()=>{const u=async()=>{if(Zn.currentUser){const m=qn(Ut,"users",Zn.currentUser.uid),p=await fu(m);p.exists()&&p.data().role==="admin"?s(!0):s(!1)}},h=Zn.onAuthStateChanged(m=>{m&&u()});return()=>h()},[]),H.useEffect(()=>{(()=>{const h=ma(Ut,"carRequests"),m=vx(h,p=>{const g=p.docs.map(E=>({id:E.id,...E.data()}));e(g)});return()=>m()})()},[]);const o=async(u,h)=>{if(!t){console.error("Unauthorized: Only admins can update the request status.");return}try{const m=qn(Ut,"carRequests",u);await Lb(m,{status:h}),console.log(`Request ${u} updated to ${h}`)}catch(m){console.error("Error updating request status:",m)}};return A.jsxs("div",{className:"booking-container",children:[A.jsx("h2",{children:"Car Requests"}),r.length>0?A.jsxs("table",{className:"booking-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"User Name"}),A.jsx("th",{children:"User Email"}),A.jsx("th",{children:"Car Name"}),A.jsx("th",{children:"Status"}),A.jsx("th",{children:"Actions"})]})}),A.jsx("tbody",{children:r.map(u=>A.jsxs("tr",{children:[A.jsx("td",{children:u.userName}),A.jsx("td",{children:u.userEmail}),A.jsx("td",{children:u.carName}),A.jsx("td",{children:A.jsx("span",{className:`status status-${u.status.toLowerCase()}`,children:u.status})}),A.jsx("td",{children:t&&u.status==="Pending"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>o(u.id,"Accepted"),className:"accept-button",children:"Accept"}),A.jsx("button",{onClick:()=>o(u.id,"Rejected"),className:"reject-button",children:"Reject"})]})})]},u.id))})]}):A.jsx("p",{className:"no-requests",children:"No car requests available."})]})},d4=()=>{const[r,e]=H.useState([]),[t,s]=H.useState(null);return H.useEffect(()=>{const o=Z2(Zn,u=>{s(u)});return()=>o()},[]),H.useEffect(()=>{(async()=>{if(!t)return;const u=xb(ma(Ut,"carRequests"),Mb("userEmail","==",t.email)),h=await wf(u),m=[];for(let p of h.docs){const g=p.data(),E=g.carId,T=qn(Ut,"cars",E),S=await fu(T);S.exists()&&m.push({id:S.id,...S.data(),status:g.status})}e(m)})()},[t]),A.jsxs(A.Fragment,{children:[A.jsx(Gg,{}),A.jsx("div",{className:"carlisting-container",style:{backgroundImage:`url(${Fg})`}}),A.jsxs("div",{className:"mycars-container",children:[A.jsx("h2",{children:"My Cars"}),r.length>0?r.map(o=>A.jsxs("div",{className:"mycars-card",children:[A.jsx("img",{src:o.imageUrl,alt:o.carName,className:"mycars-image"}),A.jsxs("div",{className:"mycars-info",children:[A.jsx("h3",{className:"mycars-title",children:o.name}),A.jsxs("p",{children:[A.jsx("strong",{children:"Status:"})," ",A.jsx("span",{className:`status ${o.status.toLowerCase()}`,children:o.status})]}),A.jsxs("div",{className:"mycars-details",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Fuel Type:"})," ",o.fuelType]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Mileage:"})," ",o.mileage," km"]})]}),A.jsxs("p",{className:"mycars-price",children:[A.jsx("strong",{children:"Price:"})," $",o.price]}),A.jsx("button",{className:"mycars-btn",children:"View Details"})]})]},o.id)):A.jsx("p",{children:"No cars found."})]})]})};function m4(){return A.jsx(oR,{children:A.jsxs(U1,{children:[A.jsx(Wn,{path:"/",element:A.jsx(Rx,{})}),A.jsx(Wn,{path:"/usedcar",element:A.jsx(jE,{role:"user",children:A.jsx(l4,{})})}),A.jsx(Wn,{path:"/request",element:A.jsx(Fx,{})}),A.jsx(Wn,{path:"/car-details/:carId",element:A.jsx(u4,{})}),A.jsx(Wn,{path:"/MyCars",element:A.jsx(d4,{})}),A.jsx(Wn,{path:"/addcar",element:A.jsx(iS,{})}),A.jsxs(Wn,{path:"/admin",element:A.jsx(jE,{role:"admin",children:A.jsx(Hx,{})}),children:[A.jsx(Wn,{index:!0,element:A.jsx(c4,{})}),A.jsx(Wn,{path:"manage-listing",element:A.jsx(h4,{})}),A.jsx(Wn,{path:"Booking",element:A.jsx(f4,{})})]})]})})}const p4=[{id:123,name:"Chevrolet Suburban 2021",price:" 27,000",priceRange:"5 - 10 Lakh",year:2021,model:"Mini Cooper",fuelType:"Petrol",mileage:"90km",make:"Honda",Transmission:"Auto",imageUrl:"https://s3-alpha-sig.figma.com/img/04e8/de4f/a8e6cedb354951257ddd612112d541f4?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=bxFNEbYbRvOf0M4ivMTHTeZZ4hFQhrBEsiQEc0Vm2KR-KVFzLbGK~e5NqRq3XZzfDjmHwAQUV6-hCumpLdQd1beD6atRtl0lulQLHXrBylrYwajPOBwAW38cWX6dQnI8WqeV2eW6iLoWGUMg4mlgauJODYrwoDUphiQRzdrucvqYc-QqgaMtQUhpaDNjQiubgZwdoEK9pGLgNOzvdtcZiW~TVjgtGBQxKoOzCDUA4s5phahQW9P8oZQwKjKqqKQZuDGXe1XEADaPeZcANW0UmThvt8vb0OmPePMAuSqN9F4gCJK3ZblaXlYjP3N0Q63gwiTc2AxceMHxrrkvKHeCVw__",type:"new",description:"The 2021 Chevrolet Suburban is a full-size SUV known for its spacious interior, powerful engine options, and advanced technology. Manufactured by Chevrolet, this SUV offers a seating capacity of up to seven passengers, making it an ideal choice for families and long road trips. Under the hood, the Suburban provides three engine choices: a standard 5.3L V8 producing 355 horsepower, an optional 6.2L V8 with 420 horsepower, and a 3.0L Duramax turbo-diesel inline-six delivering 277 horsepower with impressive torque. Paired with a 10-speed automatic transmission, the Suburban is available in both rear-wheel drive (RWD) and four-wheel drive (4WD) configurations Inside, the 2021 Suburban is equipped with a 10.2-inch touchscreen infotainment system that supports Apple CarPlay, Android Auto, and an available Bose premium audio system. Comfort and convenience features include tri-zone automatic climate control, heated and ventilated front seats, power-folding third-row seats, and an optional panoramic sunroof. Safety is also a priority, with features like Forward Collision Alert, Automatic Emergency Braking, Lane Keep Assist, and Rear Cross Traffic Alert enhancing driver confidence.",enginetype:"5.3L V8",horsepower:355,torque:"383 lb-ft",towing_capacity:"Up to 8,300 lbs",trim:"Premier",body_type:"Full-size SUV",seating_capacity:7,max_capacity:"8,300 lbs",city_mpg:15,highway_mpg:20,combined_mpg:17,technology:"Wireless charging",safety:"Forward Collision Alert",infotainment:"10.2-inch touchscreen"},{name:"Chevrolet Suburban 2021",price:" 90,000",priceRange:"10 - 15 Lakh",model:"Mini Cooper",make:"Toyota",fuelType:"Fuel type",mileage:"Mileage",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__",type:"new"},{name:"Chevrolet Suburban 2021",price:" 27,000",model:"Civic",fuelType:"Fuel type",mileage:"Mileage",make:"Toyota",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__",type:"used"},{name:"Chevrolet Suburban 2021",price:" 27,000",model:"Civic",fuelType:"Fuel type",mileage:"Mileage",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__",type:"used"},{name:"Chevrolet Suburban 2021",price:" 27,000",model:"Civic",fuelType:"Fuel type",mileage:"Mileage",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__",type:"used"},{name:"Chevrolet Suburban 2021",price:" 50000",model:"Mustang",fuelType:"Fuel type",mileage:"Mileage",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__"},{name:"Chevrolet Suburban 2021",price:" 27,000",model:"Camry",fuelType:"Fuel type",mileage:"Mileage",imageUrl:"https://s3-alpha-sig.figma.com/img/100a/1037/75b0dc494613978a98c458c2ea78eb42?Expires=1740960000&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=jwJ7N1mRYgilYV3aJIzgAlm9hiJ83C9oI2XSoX1VqSlWmMCGe8ny7xpFTi~vApzgKIfkieUUZ5Od28Oam8jxN0mPIYVa7z8nniUMI8BsUQpYTo-9G5K4AHlygQFqtG7aOeExtYCmIepnrQl7RUXBt54DFdX62QzsvieAgT63NlKpYp6g8ZHVuMJ35zxIaEOWLVPdGJ4q6XDagF12vnSeB0dZ3JwQriOr~EXYKZkP~ITen97CpHJ8xz3kOHgri1ZvKKy7uoJpzNGYaR0TG5GotU9yOIjB7mwEL4MdQzOHXwdv3U4yDgUomkf17Oth6yFaUjRoq11kCGHQUX6poOqOEA__"}],sS=nS({name:"cars",initialState:{cars:p4},reducers:{addCar:(r,e)=>{r.cars.push(e.payload)}}}),{addCar:T4}=sS.actions,g4=sS.reducer,y4=kM({reducer:{cars:g4,searchcar:o4}});qA.createRoot(document.getElementById("root")).render(A.jsx(H.StrictMode,{children:A.jsx(sM,{store:y4,children:A.jsx(m4,{})})}));
